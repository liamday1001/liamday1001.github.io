(self.webpackChunksbfront_end_technical_test=self.webpackChunksbfront_end_technical_test||[]).push([[179],{255:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=255,e.exports=t},478:(e,t,n)=>{"use strict";var i={};n.r(i),n.d(i,{Aggregate:()=>Vd,ArrayBase:()=>Wd,Binding:()=>Zc,CancelEventArgs:()=>eh,Clipboard:()=>sp,CollectionView:()=>Kd,CollectionViewGroup:()=>Jd,Color:()=>jd,Control:()=>ep,ControlBase:()=>Qd,DataType:()=>rh,DateTime:()=>Dd,Event:()=>Xc,EventArgs:()=>Qc,Globalize:()=>Hd,GroupDescription:()=>ah,Key:()=>ih,NotifyCollectionChangedAction:()=>Kc,NotifyCollectionChangedEventArgs:()=>oh,ObservableArray:()=>Yd,PageChangingEventArgs:()=>lh,Point:()=>Td,PopupPosition:()=>rp,PrintDocument:()=>op,PropertyChangedEventArgs:()=>th,PropertyGroupDescription:()=>uh,Rect:()=>Pd,RequestErrorEventArgs:()=>nh,Size:()=>Id,SortDescription:()=>sh,SortNulls:()=>Gd,Tooltip:()=>pp,TooltipEventArgs:()=>fp,_ClickRepeater:()=>lp,_MaskElement:()=>zd,_MaskProvider:()=>Nd,_addCultureInfo:()=>Ld,_deprecated:()=>Lh,_getCalculatedArray:()=>Gc,_getModule:()=>Ad,_getTargetObject:()=>Yc,_registerModule:()=>Od,_startDrag:()=>Nc,_updateCulture:()=>Fd,_updateWme:()=>vp,addClass:()=>id,animate:()=>Sd,asArray:()=>Uh,asBoolean:()=>Bh,asCollectionView:()=>Kh,asDate:()=>Wh,asEnum:()=>Yh,asFunction:()=>qh,asInt:()=>zh,asNumber:()=>Nh,asString:()=>Vh,asType:()=>Gh,assert:()=>Fh,changeType:()=>Dh,clamp:()=>Mh,closest:()=>bd,closestClass:()=>wd,contains:()=>yd,controlBaseClass:()=>Zd,copy:()=>Hh,createElement:()=>md,culture:()=>Md,disableAutoComplete:()=>cd,enable:()=>Cd,escapeHtml:()=>$h,escapeRegExp:()=>ed,evalTemplate:()=>Ah,format:()=>kh,getActiveElement:()=>dd,getAggregate:()=>Bd,getElement:()=>_d,getElementRect:()=>Ed,getEventOptions:()=>Fc,getType:()=>Ih,getTypes:()=>Ph,getUniqueId:()=>Sh,getVersion:()=>ch,glbz:()=>Oh,hasClass:()=>nd,hasItems:()=>Jh,hidePopup:()=>up,httpRequest:()=>Rd,isArray:()=>Ch,isBoolean:()=>vh,isDate:()=>wh,isEdge:()=>Dc,isEmpty:()=>xh,isFirefox:()=>Sc,isFunction:()=>yh,isIE:()=>kc,isIE10:()=>Mc,isIE9:()=>Ac,isInt:()=>mh,isMobile:()=>wc,isNullOrWhiteSpace:()=>gh,isNumber:()=>_h,isObject:()=>Eh,isPrimitive:()=>ph,isSafari:()=>Ic,isString:()=>fh,isUndefined:()=>bh,isiOS:()=>Ec,mouseToPage:()=>Th,moveFocus:()=>pd,removeChild:()=>hd,removeClass:()=>rd,saveFile:()=>gd,setAriaLabel:()=>ad,setAttribute:()=>sd,setChecked:()=>ld,setCss:()=>xd,setLicenseKey:()=>hh,setSelectionRange:()=>ud,setText:()=>vd,showPopup:()=>ap,supportsFocusOptions:()=>Vc,toFixed:()=>Rh,toHeaderCase:()=>Zh,toPlainText:()=>td,toggleClass:()=>od,tryCast:()=>dh});var r={};n.r(r),n.d(r,{AutoComplete:()=>df,Calendar:()=>$p,ClickAction:()=>Zp,CollectionViewNavigator:()=>qp,ColorPicker:()=>Wp,ComboBox:()=>lf,DateSelectionMode:()=>Yp,DropDown:()=>ef,FormatItemEventArgs:()=>Gp,InputColor:()=>sf,InputDate:()=>rf,InputDateRange:()=>of,InputDateTime:()=>hf,InputMask:()=>Bp,InputNumber:()=>zp,InputTime:()=>cf,ListBox:()=>Up,Menu:()=>uf,MultiAutoComplete:()=>pf,MultiSelect:()=>af,MultiSelectListBox:()=>Jp,Popup:()=>tf,PopupBoundsChangingEventArgs:()=>nf,PopupTrigger:()=>Qp,ShowMonthPicker:()=>Kp});var o={};n.r(o),n.d(o,{AllowDragging:()=>ug,AllowMerging:()=>Bf,AllowPinning:()=>Rf,AllowResizing:()=>lg,AllowSorting:()=>Df,AutoSizeMode:()=>ag,CellEditEndingEventArgs:()=>Tf,CellFactory:()=>Zf,CellRange:()=>yf,CellRangeEventArgs:()=>xf,CellType:()=>mf,ClipStringOptions:()=>Of,Column:()=>jf,ColumnCollection:()=>Lf,ColumnGroup:()=>zf,DataMap:()=>vf,DataMapEditor:()=>gf,FlexGrid:()=>Wf,FormatItemEventArgs:()=>Sf,GridPanel:()=>Ef,GroupRow:()=>Hf,HeadersVisibility:()=>kf,HitTestInfo:()=>Kf,KeyAction:()=>rg,MergeManager:()=>Yf,Row:()=>Mf,RowCol:()=>Af,RowColCollection:()=>Ff,RowColFlags:()=>If,RowCollection:()=>Vf,SelMove:()=>Cf,SelectedState:()=>wf,SelectionMode:()=>bf,_AddNewHandler:()=>Uf,_ColumnGroupHandler:()=>Nf,_CustomEditor:()=>sg,_EditHandler:()=>og,_ImeHandler:()=>qf,_KeyboardHandler:()=>cg,_MouseHandler:()=>pg,_NewRowTemplate:()=>Gf,_SelectionHandler:()=>Pf,softInput:()=>Jf});var s={};n.r(s),n.d(s,{DirectiveCellFactoryBase:()=>yg,GridCellTemplateType:()=>vg,softGridDetail:()=>_g,softInput:()=>gg});var l={};function a(e){return"function"==typeof e}n.r(l),n.d(l,{ColumnFilter:()=>Ng,ColumnFilterEditor:()=>zg,ConditionFilter:()=>Mg,ConditionFilterEditor:()=>Hg,FilterCondition:()=>Fg,FilterType:()=>bg,FlexGridFilter:()=>jg,Operator:()=>Ag,ValueFilter:()=>Lg,ValueFilterEditor:()=>Vg});let u=!1;const c={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=e},get useDeprecatedSynchronousErrorHandling(){return u}};function h(e){setTimeout(()=>{throw e},0)}const d={closed:!0,next(e){},error(e){if(c.useDeprecatedSynchronousErrorHandling)throw e;h(e)},complete(){}},p=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))();function f(e){return null!==e&&"object"==typeof e}const g=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let _=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:i,_unsubscribe:r,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if(a(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(Jc){t=Jc instanceof g?m(Jc.errors):[Jc]}}if(p(o)){let e=-1,n=o.length;for(;++e<n;){const n=o[e];if(f(n))try{n.unsubscribe()}catch(Jc){t=t||[],Jc instanceof g?t=t.concat(m(Jc.errors)):t.push(Jc)}}}if(t)throw new g(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function m(e){return e.reduce((e,t)=>e.concat(t instanceof g?t.errors:t),[])}const v=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class y extends _{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=d;break;case 1:if(!e){this.destination=d;break}if("object"==typeof e){e instanceof y?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new b(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new b(this,e,t,n)}}[v](){return this}static create(e,t,n){const i=new y(e,t,n);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class b extends y{constructor(e,t,n,i){let r;super(),this._parentSubscriber=e;let o=this;a(t)?r=t:t&&(r=t.next,n=t.error,i=t.complete,t!==d&&(o=Object.create(t),a(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=r,this._error=n,this._complete=i}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;c.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=c;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):h(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;h(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);c.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),c.useDeprecatedSynchronousErrorHandling)throw n;h(n)}}__tryOrSetError(e,t,n){if(!c.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return c.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(h(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const w=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function C(e){return e}let E=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:i}=this,r=function(e,t,n){if(e){if(e instanceof y)return e;if(e[v])return e[v]()}return e||t||n?new y(e,t,n):new y(d)}(e,t,n);if(r.add(i?i.call(r,this.source):this.source||c.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),c.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(e){try{return this._subscribe(e)}catch(t){c.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof y?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=x(t))((t,n)=>{let i;i=this.subscribe(t=>{try{e(t)}catch(r){n(r),i&&i.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[w](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?C:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=x(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function x(e){if(e||(e=c.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const S=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class T extends _{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class I extends y{constructor(e){super(e),this.destination=e}}let P=(()=>{class e extends E{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[v](){return new I(this)}lift(e){const t=new D(this,this);return t.operator=e,t}next(e){if(this.closed)throw new S;if(!this.isStopped){const{observers:t}=this,n=t.length,i=t.slice();for(let r=0;r<n;r++)i[r].next(e)}}error(e){if(this.closed)throw new S;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,i=t.slice();for(let r=0;r<n;r++)i[r].error(e);this.observers.length=0}complete(){if(this.closed)throw new S;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let i=0;i<t;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new S;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new S;return this.hasError?(e.error(this.thrownError),_.EMPTY):this.isStopped?(e.complete(),_.EMPTY):(this.observers.push(e),new T(this,e))}asObservable(){const e=new E;return e.source=this,e}}return e.create=(e,t)=>new D(e,t),e})();class D extends P{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):_.EMPTY}}function R(e){return e&&"function"==typeof e.schedule}function k(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new O(e,t))}}class O{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new A(e,this.project,this.thisArg))}}class A extends y{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const j=e=>t=>{for(let n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()};function M(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const H=M(),F=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function L(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const V=e=>{if(e&&"function"==typeof e[w])return n=e,e=>{const t=n[w]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(F(e))return j(e);if(L(e))return(e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,h),t))(e);if(e&&"function"==typeof e[H])return t=e,e=>{const n=t[H]();for(;;){let t;try{t=n.next()}catch(i){return e.error(i),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=f(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n};function N(e,t){return new E(n=>{const i=new _;let r=0;return i.add(t.schedule(function(){r!==e.length?(n.next(e[r++]),n.closed||i.add(this.schedule())):n.complete()})),i})}function z(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[w]}(e))return function(e,t){return new E(n=>{const i=new _;return i.add(t.schedule(()=>{const r=e[w]();i.add(r.subscribe({next(e){i.add(t.schedule(()=>n.next(e)))},error(e){i.add(t.schedule(()=>n.error(e)))},complete(){i.add(t.schedule(()=>n.complete()))}}))})),i})}(e,t);if(L(e))return function(e,t){return new E(n=>{const i=new _;return i.add(t.schedule(()=>e.then(e=>{i.add(t.schedule(()=>{n.next(e),i.add(t.schedule(()=>n.complete()))}))},e=>{i.add(t.schedule(()=>n.error(e)))}))),i})}(e,t);if(F(e))return N(e,t);if(function(e){return e&&"function"==typeof e[H]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new E(n=>{const i=new _;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(()=>{r=e[H](),i.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=r.next();e=n.value,t=n.done}catch(i){return void n.error(i)}t?n.complete():(n.next(e),this.schedule())}))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof E?e:new E(V(e))}class B extends y{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class W extends y{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function q(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(q((n,i)=>z(e(n,i)).pipe(k((e,r)=>t(n,e,i,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new U(e,n)))}class U{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new G(e,this.project,this.concurrent))}}class G extends W{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t)}_innerSub(e){const t=new B(this),n=this.destination;n.add(t);const i=function(e,t){if(t.closed)return;if(e instanceof E)return e.subscribe(t);let n;try{n=V(e)(t)}catch(i){t.error(i)}return n}(e,t);i!==t&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Y(e,t){return t?N(e,t):new E(j(e))}function K(){return function(e){return e.lift(new J(e))}}class J{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const i=new Z(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class Z extends y{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class $ extends E{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new _,e.add(this.source.subscribe(new Q(this.getSubject(),this))),e.closed&&(this._connection=null,e=_.EMPTY)),e}refCount(){return K()(this)}}const X=(()=>{const e=$.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class Q extends I{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function ee(){return new P}function te(e){for(let t in e)if(e[t]===te)return t;throw Error("Could not find renamed property on target object.")}function ne(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ie(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ie).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function re(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const oe=te({__forward_ref__:te});function se(e){return e.__forward_ref__=se,e.toString=function(){return ie(this())},e}function le(e){return ae(e)?e():e}function ae(e){return"function"==typeof e&&e.hasOwnProperty(oe)&&e.__forward_ref__===se}class ue extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function ce(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function he(e,t){const n=t?` in ${t}`:"";throw new ue("201",`No provider for ${ce(e)} found${n}`)}function de(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function pe(e){return{providers:e.providers||[],imports:e.imports||[]}}function fe(e){return ge(e,me)||ge(e,ye)}function ge(e,t){return e.hasOwnProperty(t)?e[t]:null}function _e(e){return e&&(e.hasOwnProperty(ve)||e.hasOwnProperty(be))?e[ve]:null}const me=te({"\u0275prov":te}),ve=te({"\u0275inj":te}),ye=te({ngInjectableDef:te}),be=te({ngInjectorDef:te});var we=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});let Ce;function Ee(e){const t=Ce;return Ce=e,t}function xe(e,t,n){const i=fe(e);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&we.Optional?null:void 0!==t?t:void he(ie(e),"Injector")}function Se(e){return{toString:e}.toString()}var Te=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),Ie=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const Pe="undefined"!=typeof globalThis&&globalThis,De="undefined"!=typeof window&&window,Re="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ke="undefined"!=typeof global&&global,Oe=Pe||ke||De||Re,Ae={},je=[],Me=te({"\u0275cmp":te}),He=te({"\u0275dir":te}),Fe=te({"\u0275pipe":te}),Le=te({"\u0275mod":te}),Ve=te({"\u0275loc":te}),Ne=te({"\u0275fac":te}),ze=te({__NG_ELEMENT_ID__:te});let Be=0;function We(e){return Se(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Te.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||je,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Ie.Emulated,id:"c",styles:e.styles||je,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,r=e.features,o=e.pipes;return n.id+=Be++,n.inputs=Ke(e.inputs,t),n.outputs=Ke(e.outputs),r&&r.forEach(e=>e(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(qe):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(Ue):null,n})}function qe(e){return Ze(e)||function(e){return e[He]||null}(e)}function Ue(e){return function(e){return e[Fe]||null}(e)}const Ge={};function Ye(e){return Se(()=>{const t={type:e.type,bootstrap:e.bootstrap||je,declarations:e.declarations||je,imports:e.imports||je,exports:e.exports||je,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(Ge[e.id]=e.type),t})}function Ke(e,t){if(null==e)return Ae;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,t&&(t[r]=o)}return n}const Je=We;function Ze(e){return e[Me]||null}function $e(e,t){const n=e[Le]||null;if(!n&&!0===t)throw new Error(`Type ${ie(e)} does not have '\u0275mod' property.`);return n}const Xe=20,Qe=10;function et(e){return Array.isArray(e)&&"object"==typeof e[1]}function tt(e){return Array.isArray(e)&&!0===e[1]}function nt(e){return 0!=(8&e.flags)}function it(e){return 2==(2&e.flags)}function rt(e){return 1==(1&e.flags)}function ot(e){return null!==e.template}function st(e,t){return e.hasOwnProperty(Ne)?e[Ne]:null}class lt{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function at(){return ut}function ut(e){return e.type.prototype.ngOnChanges&&(e.setInput=ht),ct}function ct(){const e=dt(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Ae)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function ht(e,t,n,i){const r=dt(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Ae,current:null}),o=r.current||(r.current={}),s=r.previous,l=this.declaredInputs[n],a=s[l];o[l]=new lt(a&&a.currentValue,t,s===Ae),e[i]=t}function dt(e){return e.__ngSimpleChanges__||null}let pt;function ft(e){return!!e.listen}at.ngInherit=!0;const gt={createRenderer:(e,t)=>void 0!==pt?pt:"undefined"!=typeof document?document:void 0};function _t(e){for(;Array.isArray(e);)e=e[0];return e}function mt(e,t){return _t(t[e.index])}function vt(e,t){return e.data[t]}function yt(e,t){const n=t[e];return et(n)?n:n[0]}function bt(e){return 4==(4&e[2])}function wt(e){return 128==(128&e[2])}function Ct(e,t){return null==t?null:e[t]}function Et(e){e[18]=0}function xt(e,t){e[5]+=t;let n=e,i=e[3];for(;null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}const St={lFrame:qt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Tt(){return St.bindingsEnabled}function It(){return St.lFrame.lView}function Pt(){return St.lFrame.tView}function Dt(){let e=Rt();for(;null!==e&&64===e.type;)e=e.parent;return e}function Rt(){return St.lFrame.currentTNode}function kt(e,t){const n=St.lFrame;n.currentTNode=e,n.isParent=t}function Ot(){return St.lFrame.isParent}function At(){St.lFrame.isParent=!1}function jt(){return St.isInCheckNoChangesMode}function Mt(e){St.isInCheckNoChangesMode=e}function Ht(e,t){const n=St.lFrame;n.bindingIndex=n.bindingRootIndex=e,Ft(t)}function Ft(e){St.lFrame.currentDirectiveIndex=e}function Lt(){return St.lFrame.currentQueryIndex}function Vt(e){St.lFrame.currentQueryIndex=e}function Nt(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function zt(e,t,n){if(n&we.SkipSelf){let i=t,r=e;for(;i=i.parent,!(null!==i||n&we.Host||(i=Nt(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;t=i,e=r}const i=St.lFrame=Wt();return i.currentTNode=t,i.lView=e,!0}function Bt(e){const t=Wt(),n=e[1];St.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Wt(){const e=St.lFrame,t=null===e?null:e.child;return null===t?qt(e):t}function qt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Ut(){const e=St.lFrame;return St.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Gt=Ut;function Yt(){const e=Ut();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Kt(){return St.lFrame.selectedIndex}function Jt(e){St.lFrame.selectedIndex=e}function Zt(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:l}=t;i&&(e.contentHooks||(e.contentHooks=[])).push(-n,i),r&&((e.contentHooks||(e.contentHooks=[])).push(n,r),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,r)),o&&(e.viewHooks||(e.viewHooks=[])).push(-n,o),s&&((e.viewHooks||(e.viewHooks=[])).push(n,s),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,s)),null!=l&&(e.destroyHooks||(e.destroyHooks=[])).push(n,l)}}function $t(e,t,n){en(e,t,3,n)}function Xt(e,t,n,i){(3&e[2])===n&&en(e,t,n,i)}function Qt(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function en(e,t,n,i){const r=null!=i?i:-1,o=t.length-1;let s=0;for(let l=void 0!==i?65535&e[18]:0;l<o;l++)if("number"==typeof t[l+1]){if(s=t[l],null!=i&&s>=i)break}else t[l]<0&&(e[18]+=65536),(s<r||-1==r)&&(tn(e,n,t,l),e[18]=(4294901760&e[18])+l+2),l++}function tn(e,t,n,i){const r=n[i]<0,o=n[i+1],s=e[r?-n[i]:n[i]];if(r){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const nn=-1;class rn{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function on(e,t,n){const i=ft(e);let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const s=n[r++],l=n[r++],a=n[r++];i?e.setAttribute(t,l,a,s):t.setAttributeNS(s,l,a)}else{const s=o,l=n[++r];sn(s)?i&&e.setProperty(t,s,l):i?e.setAttribute(t,s,l):t.setAttribute(s,l),r++}}return r}function sn(e){return 64===e.charCodeAt(0)}function ln(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||an(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function an(e,t,n,i,r){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const n=e[o++];if("number"==typeof n){if(n===t){s=-1;break}if(n>t){s=o-1;break}}}for(;o<e.length;){const t=e[o];if("number"==typeof t)break;if(t===n){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}function un(e){return e!==nn}function cn(e){return 32767&e}function hn(e,t){let n=e>>16,i=t;for(;n>0;)i=i[15],n--;return i}let dn=!0;function pn(e){const t=dn;return dn=e,t}let fn=0;function gn(e,t){const n=mn(e,t);if(-1!==n)return n;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,_n(i.data,e),_n(t,null),_n(i.blueprint,null));const r=vn(e,t),o=e.injectorIndex;if(un(r)){const e=cn(r),n=hn(r,t),i=n[1].data;for(let r=0;r<8;r++)t[o+r]=n[e+r]|i[e+r]}return t[o+8]=r,o}function _n(e,t){e.push(0,0,0,0,0,0,0,0,t)}function mn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function vn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;null!==r;){const e=r[1],t=e.type;if(i=2===t?e.declTNode:1===t?r[6]:null,null===i)return nn;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return nn}function yn(e,t,n){!function(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(ze)&&(i=n[ze]),null==i&&(i=n[ze]=fn++);const r=255&i;t.data[e+(r>>5)]|=1<<r}(e,t,n)}function bn(e,t,n){if(n&we.Optional)return e;he(t,"NodeInjector")}function wn(e,t,n,i){if(n&we.Optional&&void 0===i&&(i=null),0==(n&(we.Self|we.Host))){const r=e[9],o=Ee(void 0);try{return r?r.get(t,i,n&we.Optional):xe(t,i,n&we.Optional)}finally{Ee(o)}}return bn(i,t,n)}function Cn(e,t,n,i=we.Default,r){if(null!==e){const o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ze)?e[ze]:void 0;return"number"==typeof t?t>=0?255&t:xn:t}(n);if("function"==typeof o){if(!zt(t,e,i))return i&we.Host?bn(r,n,i):wn(t,n,i,r);try{const e=o(i);if(null!=e||i&we.Optional)return e;he(n)}finally{Gt()}}else if("number"==typeof o){let r=null,s=mn(e,t),l=nn,a=i&we.Host?t[16][6]:null;for((-1===s||i&we.SkipSelf)&&(l=-1===s?vn(e,t):t[s+8],l!==nn&&Dn(i,!1)?(r=t[1],s=cn(l),t=hn(l,t)):s=-1);-1!==s;){const e=t[1];if(Pn(o,s,e.data)){const e=Sn(s,t,n,r,i,a);if(e!==En)return e}l=t[s+8],l!==nn&&Dn(i,t[1].data[s+8]===a)&&Pn(o,s,t)?(r=e,s=cn(l),t=hn(l,t)):s=-1}}}return wn(t,n,i,r)}const En={};function xn(){return new Rn(Dt(),It())}function Sn(e,t,n,i,r,o){const s=t[1],l=s.data[e+8],a=Tn(l,s,n,null==i?it(l)&&dn:i!=s&&0!=(3&l.type),r&we.Host&&o===l);return null!==a?In(t,s,a,l):En}function Tn(e,t,n,i,r){const o=e.providerIndexes,s=t.data,l=1048575&o,a=e.directiveStart,u=o>>20,c=r?l+u:e.directiveEnd;for(let h=i?l:l+u;h<c;h++){const e=s[h];if(h<a&&n===e||h>=a&&e.type===n)return h}if(r){const e=s[a];if(e&&ot(e)&&e.type===n)return a}return null}function In(e,t,n,i){let r=e[n];const o=t.data;if(r instanceof rn){const s=r;s.resolving&&function(e,t){throw new ue("200",`Circular dependency in DI detected for ${e}`)}(ce(o[n]));const l=pn(s.canSeeViewProviders);s.resolving=!0;const a=s.injectImpl?Ee(s.injectImpl):null;zt(e,i,we.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const i=ut(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==a&&Ee(a),pn(l),s.resolving=!1,Gt()}}return r}function Pn(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Dn(e,t){return!(e&we.Self||e&we.Host&&t)}class Rn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return Cn(this._tNode,this._lView,e,void 0,t)}}function kn(e){return Se(()=>{const t=e.prototype.constructor,n=t[Ne]||On(t),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const e=r[Ne]||On(r);if(e&&e!==n)return e;r=Object.getPrototypeOf(r)}return e=>new e})}function On(e){return ae(e)?()=>{const t=On(le(e));return t&&t()}:st(e)}const An="__parameters__";function jn(e,t,n){return Se(()=>{const i=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function r(...e){if(this instanceof r)return i.apply(this,e),this;const t=new r(...e);return n.annotation=t,n;function n(e,n,i){const r=e.hasOwnProperty(An)?e[An]:Object.defineProperty(e,An,{value:[]})[An];for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(t),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}class Mn{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=de({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}function Hn(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)?(t===e&&(t=e.slice(0,n)),Hn(i,t)):t!==e&&t.push(i)}return t}function Fn(e,t){e.forEach(e=>Array.isArray(e)?Fn(e,t):t(e))}function Ln(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Vn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Nn(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function zn(e,t,n){let i=Wn(e,t);return i>=0?e[1|i]=n:(i=~i,function(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function Bn(e,t){const n=Wn(e,t);if(n>=0)return e[1|n]}function Wn(e,t){return function(e,t,n){let i=0,r=e.length>>1;for(;r!==i;){const n=i+(r-i>>1),o=e[n<<1];if(t===o)return n<<1;o>t?r=n:i=n+1}return~(r<<1)}(e,t)}const qn={},Un=/\n/gm,Gn="__source",Yn=te({provide:String,useValue:te});let Kn;function Jn(e){const t=Kn;return Kn=e,t}function Zn(e,t=we.Default){if(void 0===Kn)throw new Error("inject() must be called from an injection context");return null===Kn?xe(e,void 0,t):Kn.get(e,t&we.Optional?null:void 0,t)}function $n(e,t=we.Default){return(Ce||Zn)(le(e),t)}function Xn(e){const t=[];for(let n=0;n<e.length;n++){const i=le(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let e,n=we.Default;for(let t=0;t<i.length;t++){const r=i[t],o=r.__NG_DI_FLAG__;"number"==typeof o?-1===o?e=r.token:n|=o:e=r}t.push($n(e,n))}else t.push($n(i))}return t}function Qn(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const ei=Qn(jn("Inject",e=>({token:e})),-1),ti=Qn(jn("Optional"),8),ni=Qn(jn("SkipSelf"),4);function ii(e,t){e.__ngContext__=t}function ri(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function oi(e){return e.ngDebugContext}function si(e){return e.ngOriginalError}function li(e,...t){e.error(...t)}class ai{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e.ngErrorLogger||li}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?oi(e)?oi(e):this._findContext(si(e)):null}_findOriginalError(e){let t=si(e);for(;t&&si(t);)t=si(t);return t}}const ui=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Oe))();function ci(e){return e instanceof Function?e():e}var hi=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});function di(e,t){return(void 0)(e,t)}function pi(e){const t=e[3];return tt(t)?t[3]:t}function fi(e){return _i(e[13])}function gi(e){return _i(e[4])}function _i(e){for(;null!==e&&!tt(e);)e=e[4];return e}function mi(e,t,n,i,r){if(null!=i){let o,s=!1;tt(i)?o=i:et(i)&&(s=!0,i=i[0]);const l=_t(i);0===e&&null!==n?null==r?Si(t,n,l):xi(t,n,l,r||null,!0):1===e&&null!==n?xi(t,n,l,r||null,!0):2===e?function(e,t,n){const i=Ii(e,t);i&&function(e,t,n,i){ft(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}(t,l,s):3===e&&t.destroyNode(l),null!=o&&function(e,t,n,i,r){const o=n[7];o!==_t(n)&&mi(t,e,i,o,r);for(let s=Qe;s<n.length;s++){const r=n[s];Mi(r[1],r,e,t,i,o)}}(t,e,o,n,r)}}function vi(e,t,n){return ft(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function yi(e,t){const n=e[9],i=n.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,xt(r,-1)),n.splice(i,1)}function bi(e,t){if(e.length<=Qe)return;const n=Qe+t,i=e[n];if(i){const o=i[17];null!==o&&o!==e&&yi(o,i),t>0&&(e[n-1][4]=i[4]);const s=Vn(e,Qe+t);Mi(i[1],r=i,r[11],2,null,null),r[0]=null,r[6]=null;const l=s[19];null!==l&&l.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}var r;return i}function wi(e,t){if(!(256&t[2])){const n=t[11];ft(n)&&n.destroyNode&&Mi(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Ci(e[1],e);for(;t;){let n=null;if(et(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)et(t)&&Ci(t[1],t),t=t[3];null===t&&(t=e),et(t)&&Ci(t[1],t),n=t&&t[4]}t=n}}(t)}}function Ci(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const e=t[n[i]];if(!(e instanceof rn)){const t=n[i+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const i=e[t[n]],r=t[n+1];try{r.call(i)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,i=t[7];let r=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const e=n[o+1],s="function"==typeof e?e(t):_t(t[e]),l=i[r=n[o+2]],a=n[o+3];"boolean"==typeof a?s.removeEventListener(n[o],l,a):a>=0?i[r=a]():i[r=-a].unsubscribe(),o+=2}else{const e=i[r=n[o+1]];n[o].call(e)}if(null!==i){for(let e=r+1;e<i.length;e++)(0,i[e])();t[7]=null}}(e,t),1===t[1].type&&ft(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&tt(t[3])){n!==t[3]&&yi(n,t);const i=t[19];null!==i&&i.detachView(e)}}}function Ei(e,t,n){return function(e,t,n){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return n[0];if(2&i.flags){const t=e.data[i.directiveStart].encapsulation;if(t===Ie.None||t===Ie.Emulated)return null}return mt(i,n)}(e,t.parent,n)}function xi(e,t,n,i,r){ft(e)?e.insertBefore(t,n,i,r):t.insertBefore(n,i,r)}function Si(e,t,n){ft(e)?e.appendChild(t,n):t.appendChild(n)}function Ti(e,t,n,i,r){null!==i?xi(e,t,n,i,r):Si(e,t,n)}function Ii(e,t){return ft(e)?e.parentNode(t):t.parentNode}function Pi(e,t,n){return Di(e,t,n)}let Di=function(e,t,n){return 40&e.type?mt(e,n):null};function Ri(e,t,n,i){const r=Ei(e,i,t),o=t[11],s=Pi(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(n))for(let l=0;l<n.length;l++)Ti(o,r,n[l],s,!1);else Ti(o,r,n,s,!1)}function ki(e,t){if(null!==t){const n=t.type;if(3&n)return mt(t,e);if(4&n)return Ai(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return ki(e,n);{const n=e[t.index];return tt(n)?Ai(-1,n):_t(n)}}if(32&n)return di(t,e)()||_t(e[t.index]);{const n=Oi(e,t);return null!==n?Array.isArray(n)?n[0]:ki(pi(e[16]),n):ki(e,t.next)}}return null}function Oi(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Ai(e,t){const n=Qe+e+1;if(n<t.length){const e=t[n],i=e[1].firstChild;if(null!==i)return ki(e,i)}return t[7]}function ji(e,t,n,i,r,o,s){for(;null!=n;){const l=i[n.index],a=n.type;if(s&&0===t&&(l&&ii(_t(l),i),n.flags|=4),64!=(64&n.flags))if(8&a)ji(e,t,n.child,i,r,o,!1),mi(t,e,r,l,o);else if(32&a){const s=di(n,i);let a;for(;a=s();)mi(t,e,r,a,o);mi(t,e,r,l,o)}else 16&a?Hi(e,t,i,n,r,o):mi(t,e,r,l,o);n=s?n.projectionNext:n.next}}function Mi(e,t,n,i,r,o){ji(n,i,e.firstChild,t,r,o,!1)}function Hi(e,t,n,i,r,o){const s=n[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let a=0;a<l.length;a++)mi(t,e,r,l[a],o);else ji(e,t,l,s[3],r,o,!0)}function Fi(e,t,n){ft(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Li(e,t,n){ft(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function Vi(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const n=t.length;if(r+n===i||e.charCodeAt(r+n)<=32)return r}n=r+1}}const Ni="ng-template";function zi(e,t,n){let i=0;for(;i<e.length;){let r=e[i++];if(n&&"class"===r){if(r=e[i],-1!==Vi(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Bi(e){return 4===e.type&&e.value!==Ni}function Wi(e,t,n){return t===(4!==e.type||n?e.value:Ni)}function qi(e,t,n){let i=4;const r=e.attrs||[],o=function(e){for(let n=0;n<e.length;n++)if(3===(t=e[n])||4===t||6===t)return n;var t;return e.length}(r);let s=!1;for(let l=0;l<t.length;l++){const a=t[l];if("number"!=typeof a){if(!s)if(4&i){if(i=2|1&i,""!==a&&!Wi(e,a,n)||""===a&&1===t.length){if(Ui(i))return!1;s=!0}}else{const u=8&i?a:t[++l];if(8&i&&null!==e.attrs){if(!zi(e.attrs,u,n)){if(Ui(i))return!1;s=!0}continue}const c=Gi(8&i?"class":a,r,Bi(e),n);if(-1===c){if(Ui(i))return!1;s=!0;continue}if(""!==u){let e;e=c>o?"":r[c+1].toLowerCase();const t=8&i?e:null;if(t&&-1!==Vi(t,u,0)||2&i&&u!==e){if(Ui(i))return!1;s=!0}}}}else{if(!s&&!Ui(i)&&!Ui(a))return!1;if(s&&Ui(a))continue;s=!1,i=a|1&i}}return Ui(i)||s}function Ui(e){return 0==(1&e)}function Gi(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let n=!1;for(;r<t.length;){const i=t[r];if(i===e)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let e=t[++r];for(;"string"==typeof e;)e=t[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function Yi(e,t,n=!1){for(let i=0;i<t.length;i++)if(qi(e,t[i],n))return!0;return!1}function Ki(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let t=0;t<e.length;t++)if(e[t]!==i[t])continue e;return!0}}return!1}function Ji(e,t){return e?":not("+t.trim()+")":t}function Zi(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&i){const t=e[++n];r+="["+s+(t.length>0?'="'+t+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""===r||Ui(s)||(t+=Ji(o,r),r=""),i=s,o=o||!Ui(i);n++}return""!==r&&(t+=Ji(o,r)),t}const $i={};function Xi(e){Qi(Pt(),It(),Kt()+e,jt())}function Qi(e,t,n,i){if(!i)if(3==(3&t[2])){const i=e.preOrderCheckHooks;null!==i&&$t(t,i,n)}else{const i=e.preOrderHooks;null!==i&&Xt(t,i,0,n)}Jt(n)}function er(e,t){return e<<17|t<<2}function tr(e){return e>>17&32767}function nr(e){return 2|e}function ir(e){return(131068&e)>>2}function rr(e,t){return-131069&e|t<<2}function or(e){return 1|e}function sr(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],o=n[i+1];if(-1!==o){const n=e.data[o];Vt(r),n.contentQueries(2,t[o],o)}}}function lr(e,t,n,i,r,o,s,l,a,u){const c=t.blueprint.slice();return c[0]=r,c[2]=140|i,Et(c),c[3]=c[15]=e,c[8]=n,c[10]=s||e&&e[10],c[11]=l||e&&e[11],c[12]=a||e&&e[12]||null,c[9]=u||e&&e[9]||null,c[6]=o,c[16]=2==t.type?e[16]:c,c}function ar(e,t,n,i,r){let o=e.data[t];if(null===o)o=function(e,t,n,i,r){const o=Rt(),s=Ot(),l=e.data[t]=function(e,t,n,i,r,o){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,i,r);return null===e.firstChild&&(e.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(e,t,n,i,r),St.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=i,o.attrs=r;const e=function(){const e=St.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===e?-1:e.injectorIndex}return kt(o,!0),o}function ur(e,t,n,i){if(0===n)return-1;const r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function cr(e,t,n){Bt(t);try{const i=e.viewQuery;null!==i&&jr(1,i,n);const r=e.template;null!==r&&pr(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&sr(e,t),e.staticViewQueries&&jr(2,e.viewQuery,n);const o=e.components;null!==o&&function(e,t){for(let n=0;n<t.length;n++)Dr(e,t[n])}(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),i}finally{t[2]&=-5,Yt()}}function hr(e,t,n,i){const r=t[2];if(256==(256&r))return;Bt(t);const o=jt();try{Et(t),St.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&pr(e,t,n,2,i);const s=3==(3&r);if(!o)if(s){const n=e.preOrderCheckHooks;null!==n&&$t(t,n,null)}else{const n=e.preOrderHooks;null!==n&&Xt(t,n,0,null),Qt(t,0)}if(function(e){for(let t=fi(e);null!==t;t=gi(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],i=n[3];0==(1024&n[2])&&xt(i,1),n[2]|=1024}}}(t),function(e){for(let t=fi(e);null!==t;t=gi(t))for(let e=Qe;e<t.length;e++){const n=t[e],i=n[1];wt(n)&&hr(i,n,i.template,n[8])}}(t),null!==e.contentQueries&&sr(e,t),!o)if(s){const n=e.contentCheckHooks;null!==n&&$t(t,n)}else{const n=e.contentHooks;null!==n&&Xt(t,n,1),Qt(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const i=n[e];if(i<0)Jt(~i);else{const r=i,o=n[++e],s=n[++e];Ht(o,r),s(2,t[r])}}}finally{Jt(-1)}}(e,t);const l=e.components;null!==l&&function(e,t){for(let n=0;n<t.length;n++)Ir(e,t[n])}(t,l);const a=e.viewQuery;if(null!==a&&jr(2,a,i),!o)if(s){const n=e.viewCheckHooks;null!==n&&$t(t,n)}else{const n=e.viewHooks;null!==n&&Xt(t,n,2),Qt(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,xt(t[3],-1))}finally{Yt()}}function dr(e,t,n,i){const r=t[10],o=!jt(),s=bt(t);try{o&&!s&&r.begin&&r.begin(),s&&cr(e,t,i),hr(e,t,n,i)}finally{o&&!s&&r.end&&r.end()}}function pr(e,t,n,i,r){const o=Kt(),s=2&i;try{Jt(-1),s&&t.length>Xe&&Qi(e,t,Xe,jt()),n(i,r)}finally{Jt(o)}}function fr(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=gr(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function gr(e,t,n,i,r,o,s,l,a,u){const c=Xe+i,h=c+r,d=function(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:$i);return n}(c,h),p="function"==typeof u?u():u;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:l,declTNode:t,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a,consts:p,incompleteFirstPass:!1}}function _r(e,t,n,i){const r=Hr(t);null===n?r.push(i):(r.push(n),e.firstCreatePass&&Fr(e).push(i,r.length-1))}function mr(e,t,n){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function vr(e,t,n,i,r,o){const s=o.hostBindings;if(s){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const o=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(i,r,s)}}function yr(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function br(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function wr(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;ot(t)&&(n[""]=e)}}function Cr(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Er(e,t,n,i,r){e.data[i]=r;const o=r.factory||(r.factory=st(r.type)),s=new rn(o,ot(r),null);e.blueprint[i]=s,n[i]=s,vr(e,t,0,i,ur(e,n,r.hostVars,$i),r)}function xr(e,t,n){const i=mt(t,e),r=fr(n),o=e[10],s=Rr(e,lr(e,r,null,n.onPush?64:16,i,t,o,o.createRenderer(i,n),null,null));e[t.index]=s}function Sr(e,t,n,i,r,o){const s=o[t];if(null!==s){const e=i.setInput;for(let t=0;t<s.length;){const r=s[t++],o=s[t++],l=s[t++];null!==e?i.setInput(n,l,r,o):n[o]=l}}}function Tr(e,t){let n=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function Ir(e,t){const n=yt(t,e);if(wt(n)){const e=n[1];80&n[2]?hr(e,n,e.template,n[8]):n[5]>0&&Pr(n)}}function Pr(e){for(let n=fi(e);null!==n;n=gi(n))for(let e=Qe;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];hr(e,t,e.template,t[8])}else t[5]>0&&Pr(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const i=yt(t[n],e);wt(i)&&i[5]>0&&Pr(i)}}function Dr(e,t){const n=yt(t,e),i=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n),cr(i,n,n[8])}function Rr(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function kr(e){for(;e;){e[2]|=64;const t=pi(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function Or(e,t,n){const i=t[10];i.begin&&i.begin();try{hr(e,t,e.template,n)}catch(r){throw Lr(t,r),r}finally{i.end&&i.end()}}function Ar(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],i=ri(n),r=i[1];dr(r,i,r.template,n)}}(e[8])}function jr(e,t,n){Vt(0),t(e,n)}const Mr=(()=>Promise.resolve(null))();function Hr(e){return e[7]||(e[7]=[])}function Fr(e){return e.cleanup||(e.cleanup=[])}function Lr(e,t){const n=e[9],i=n?n.get(ai,null):null;i&&i.handleError(t)}function Vr(e,t,n,i,r){for(let o=0;o<n.length;){const s=n[o++],l=n[o++],a=t[s],u=e.data[s];null!==u.setInput?u.setInput(a,r,i,l):a[l]=r}}function Nr(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const e=t[s];"number"==typeof e?o=e:1==o?r=re(r,e):2==o&&(i=re(i,e+": "+t[++s]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}const zr=new Mn("INJECTOR",-1);class Br{get(e,t=qn){if(t===qn){const t=new Error(`NullInjectorError: No provider for ${ie(e)}!`);throw t.name="NullInjectorError",t}return t}}const Wr=new Mn("Set Injector scope."),qr={},Ur={};let Gr;function Yr(){return void 0===Gr&&(Gr=new Br),Gr}function Kr(e,t=null,n=null,i){return new Jr(e,n,t||Yr(),i)}class Jr{constructor(e,t,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];t&&Fn(t,n=>this.processProvider(n,e,t)),Fn([e],e=>this.processInjectorType(e,[],r)),this.records.set(zr,Xr(void 0,this));const o=this.records.get(Wr);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:ie(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=qn,n=we.Default){this.assertNotDestroyed();const i=Jn(this);try{if(!(n&we.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(r=e)||"object"==typeof r&&r instanceof Mn)&&fe(e);t=n&&this.injectableDefInScope(n)?Xr(Zr(e),qr):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&we.Self?Yr():this.parent).get(e,t=n&we.Optional&&t===qn?null:t)}catch(Jc){if("NullInjectorError"===Jc.name){if((Jc.ngTempTokenPath=Jc.ngTempTokenPath||[]).unshift(ie(e)),i)throw Jc;return function(e,t,n,i){const r=e.ngTempTokenPath;throw t[Gn]&&r.unshift(t[Gn]),e.message=function(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let r=ie(t);if(Array.isArray(t))r=t.map(ie).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];e.push(n+":"+("string"==typeof i?JSON.stringify(i):ie(i)))}r=`{${e.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(Un,"\n  ")}`}("\n"+e.message,r,n,i),e.ngTokenPath=r,e.ngTempTokenPath=null,e}(Jc,e,"R3InjectorError",this.source)}throw Jc}finally{Jn(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(ie(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=le(e)))return!1;let i=_e(e);const r=null==i&&e.ngModule||void 0,o=void 0===r?e:r,s=-1!==n.indexOf(o);if(void 0!==r&&(i=_e(r)),null==i)return!1;if(null!=i.imports&&!s){let e;n.push(o);try{Fn(i.imports,i=>{this.processInjectorType(i,t,n)&&(void 0===e&&(e=[]),e.push(i))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:i}=e[t];Fn(i,e=>this.processProvider(e,n,i||je))}}this.injectorDefTypes.add(o);const l=st(o)||(()=>new o);this.records.set(o,Xr(l,qr));const a=i.providers;if(null!=a&&!s){const t=e;Fn(a,e=>this.processProvider(e,t,a))}return void 0!==r&&void 0!==e.providers}processProvider(e,t,n){let i=eo(e=le(e))?e:le(e&&e.provide);const r=function(e,t,n){return Qr(e)?Xr(void 0,e.useValue):Xr($r(e),qr)}(e);if(eo(e)||!0!==e.multi)this.records.get(i);else{let t=this.records.get(i);t||(t=Xr(void 0,qr,!0),t.factory=()=>Xn(t.multi),this.records.set(i,t)),i=e,t.multi.push(e)}this.records.set(i,r)}hydrate(e,t){var n;return t.value===qr&&(t.value=Ur,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=le(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Zr(e){const t=fe(e),n=null!==t?t.factory:st(e);if(null!==n)return n;if(e instanceof Mn)throw new Error(`Token ${ie(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=Nn(t,"?");throw new Error(`Can't resolve all parameters for ${ie(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[me]||e[ye]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function $r(e,t,n){let i;if(eo(e)){const t=le(e);return st(t)||Zr(t)}if(Qr(e))i=()=>le(e.useValue);else if((r=e)&&r.useFactory)i=()=>e.useFactory(...Xn(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))i=()=>$n(le(e.useExisting));else{const t=le(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return st(t)||Zr(t);i=()=>new t(...Xn(e.deps))}var r;return i}function Xr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Qr(e){return null!==e&&"object"==typeof e&&Yn in e}function eo(e){return"function"==typeof e}const to=function(e,t,n){return function(e,t=null,n=null,i){const r=Kr(e,t,n,i);return r._resolveInjectorDefTypes(),r}({name:n},t,e,n)};let no=(()=>{class e{static create(e,t){return Array.isArray(e)?to(e,t,""):to(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=qn,e.NULL=new Br,e.\u0275prov=de({token:e,providedIn:"any",factory:()=>$n(zr)}),e.__NG_ELEMENT_ID__=-1,e})();function io(e,t){Zt(ri(e)[1],Dt())}function ro(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0;const i=[e];for(;t;){let r;if(ot(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");r=t.\u0275dir}if(r){if(n){i.push(r);const t=e;t.inputs=oo(e.inputs),t.declaredInputs=oo(e.declaredInputs),t.outputs=oo(e.outputs);const n=r.hostBindings;n&&ao(e,n);const o=r.viewQuery,s=r.contentQueries;if(o&&so(e,o),s&&lo(e,s),ne(e.inputs,r.inputs),ne(e.declaredInputs,r.declaredInputs),ne(e.outputs,r.outputs),ot(r)&&r.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(r.data.animation)}}const t=r.features;if(t)for(let i=0;i<t.length;i++){const r=t[i];r&&r.ngInherit&&r(e),r===ro&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=ln(r.hostAttrs,n=ln(n,r.hostAttrs))}}(i)}function oo(e){return e===Ae?{}:e===je?[]:e}function so(e,t){const n=e.viewQuery;e.viewQuery=n?(e,i)=>{t(e,i),n(e,i)}:t}function lo(e,t){const n=e.contentQueries;e.contentQueries=n?(e,i,r)=>{t(e,i,r),n(e,i,r)}:t}function ao(e,t){const n=e.hostBindings;e.hostBindings=n?(e,i)=>{t(e,i),n(e,i)}:t}let uo=null;function co(){if(!uo){const e=Oe.Symbol;if(e&&e.iterator)uo=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(uo=n)}}}return uo}function ho(e){return!!po(e)&&(Array.isArray(e)||!(e instanceof Map)&&co()in e)}function po(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function fo(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function go(e,t=we.Default){const n=It();return null===n?$n(e,t):Cn(Dt(),n,le(e),t)}function _o(e,t,n){const i=It();return fo(i,St.lFrame.bindingIndex++,t)&&function(e,t,n,i,r,o,s,l){const a=mt(t,n);let u,c=t.inputs;var h;null!=c&&(u=c[i])?(Vr(e,n,u,i,r),it(t)&&function(e,t){const n=yt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(i="class"===(h=i)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,r=null!=s?s(r,t.value||"",i):r,ft(o)?o.setProperty(a,i,r):sn(i)||(a.setProperty?a.setProperty(i,r):a[i]=r))}(Pt(),function(){const e=St.lFrame;return vt(e.tView,e.selectedIndex)}(),i,e,t,i[11],n),_o}function mo(e,t,n,i,r){const o=r?"class":"style";Vr(e,n,t.inputs[o],o,i)}function vo(e,t,n,i){const r=It(),o=Pt(),s=Xe+e,l=r[11],a=r[s]=vi(l,t,St.lFrame.currentNamespace),u=o.firstCreatePass?function(e,t,n,i,r,o,s){const l=t.consts,a=ar(t,e,2,r,Ct(l,o));return function(e,t,n,i){let r=!1;if(Tt()){const o=function(e,t,n){const i=e.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];Yi(n,s.selectors,!1)&&(r||(r=[]),yn(gn(n,t),e,s.type),ot(s)?(br(e,n),r.unshift(s)):r.push(s))}return r}(e,t,n),s=null===i?null:{"":-1};if(null!==o){r=!0,Cr(n,e.data.length,o.length);for(let e=0;e<o.length;e++){const t=o[e];t.providersResolver&&t.providersResolver(t)}let i=!1,l=!1,a=ur(e,t,o.length,null);for(let r=0;r<o.length;r++){const u=o[r];n.mergedAttrs=ln(n.mergedAttrs,u.hostAttrs),Er(e,n,t,a,u),wr(a,u,s),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const c=u.type.prototype;!i&&(c.ngOnChanges||c.ngOnInit||c.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),i=!0),l||!c.ngOnChanges&&!c.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),l=!0),a++}!function(e,t){const n=t.directiveEnd,i=e.data,r=t.attrs,o=[];let s=null,l=null;for(let a=t.directiveStart;a<n;a++){const e=i[a],n=e.inputs,u=null===r||Bi(t)?null:Tr(n,r);o.push(u),s=mr(n,a,s),l=mr(e.outputs,a,l)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=s,t.outputs=l}(e,n)}s&&function(e,t,n){if(t){const i=e.localNames=[];for(let e=0;e<t.length;e+=2){const r=n[t[e+1]];if(null==r)throw new ue("301",`Export of name '${t[e+1]}' not found!`);i.push(t[e],r)}}}(n,i,s)}n.mergedAttrs=ln(n.mergedAttrs,n.attrs)}(t,n,a,Ct(l,s)),null!==a.attrs&&Nr(a,a.attrs,!1),null!==a.mergedAttrs&&Nr(a,a.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,a),a}(s,o,r,0,t,n,i):o.data[s];kt(u,!0);const c=u.mergedAttrs;null!==c&&on(l,a,c);const h=u.classes;null!==h&&Li(l,a,h);const d=u.styles;null!==d&&Fi(l,a,d),64!=(64&u.flags)&&Ri(o,r,a,u),0===St.lFrame.elementDepthCount&&ii(a,r),St.lFrame.elementDepthCount++,rt(u)&&(function(e,t,n){Tt()&&(function(e,t,n,i){const r=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||gn(n,t),ii(i,t);const s=n.initialInputs;for(let l=r;l<o;l++){const i=e.data[l],o=ot(i);o&&xr(t,n,i);const a=In(t,e,l,n);ii(a,t),null!==s&&Sr(0,l-r,a,i,0,s),o&&(yt(n.index,t)[8]=a)}}(e,t,n,mt(n,t)),128==(128&n.flags)&&function(e,t,n){const i=n.directiveStart,r=n.directiveEnd,o=n.index,s=St.lFrame.currentDirectiveIndex;try{Jt(o);for(let n=i;n<r;n++){const i=e.data[n],r=t[n];Ft(n),null===i.hostBindings&&0===i.hostVars&&null===i.hostAttrs||yr(i,r)}}finally{Jt(-1),Ft(s)}}(e,t,n))}(o,r,u),function(e,t,n){if(nt(t)){const i=t.directiveEnd;for(let r=t.directiveStart;r<i;r++){const t=e.data[r];t.contentQueries&&t.contentQueries(1,n[r],r)}}}(o,u,r)),null!==i&&function(e,t,n=mt){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],l=-1===s?n(t,e):e[s];e[r++]=l}}}(r,u)}function yo(){let e=Dt();Ot()?At():(e=e.parent,kt(e,!1));const t=e;St.lFrame.elementDepthCount--;const n=Pt();n.firstCreatePass&&(Zt(n,e),nt(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&mo(n,t,It(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&mo(n,t,It(),t.stylesWithoutHost,!1)}function bo(e,t,n,i){vo(e,t,n,i),yo()}function wo(e){return!!e&&"function"==typeof e.then}const Co=function(e){return!!e&&"function"==typeof e.subscribe};function Eo(e,t,n,i){const r=It(),o=Pt(),s=Dt();return function(e,t,n,i,r,o,s,l){const a=rt(i),u=e.firstCreatePass&&Fr(e),c=Hr(t);let h=!0;if(3&i.type||l){const d=mt(i,t),p=l?l(d):d,f=c.length,g=l?e=>l(_t(e[i.index])):i.index;if(ft(n)){let s=null;if(!l&&a&&(s=function(e,t,n,i){const r=e.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const e=r[o];if(e===n&&r[o+1]===i){const e=t[7],n=r[o+2];return e.length>n?e[n]:null}"string"==typeof e&&(o+=2)}return null}(e,t,r,i.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=So(i,t,0,o,!1);const e=n.listen(p,r,o);c.push(o,e),u&&u.push(r,g,f,f+1)}}else o=So(i,t,0,o,!0),p.addEventListener(r,o,s),c.push(o),u&&u.push(r,g,f,s)}else o=So(i,t,0,o,!1);const d=i.outputs;let p;if(h&&null!==d&&(p=d[r])){const e=p.length;if(e)for(let n=0;n<e;n+=2){const e=t[p[n]][p[n+1]].subscribe(o),s=c.length;c.push(o,e),u&&u.push(r,i.index,s,-(s+1))}}}(o,r,r[11],s,e,t,!!n,i),Eo}function xo(e,t,n,i){try{return!1!==n(i)}catch(r){return Lr(e,r),!1}}function So(e,t,n,i,r){return function n(o){if(o===Function)return i;const s=2&e.flags?yt(e.index,t):t;0==(32&t[2])&&kr(s);let l=xo(t,0,i,o),a=n.__ngNextListenerFn__;for(;a;)l=xo(t,0,a,o)&&l,a=a.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function To(e,t){let n=null;const i=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?Yi(e,o,!0):Ki(i,o))return r}else n=r}return n}function Io(e){const t=It()[16][6];if(!t.projection){const n=t.projection=Nn(e?e.length:1,null),i=n.slice();let r=t.child;for(;null!==r;){const t=e?To(r,e):0;null!==t&&(i[t]?i[t].projectionNext=r:n[t]=r,i[t]=r),r=r.next}}}function Po(e,t=0,n){const i=It(),r=Pt(),o=ar(r,Xe+e,16,null,n||null);null===o.projection&&(o.projection=t),At(),64!=(64&o.flags)&&function(e,t,n){Hi(t[11],0,t,n,Ei(e,n,t),Pi(n.parent||t[6],n,t))}(r,i,o)}function Do(e,t,n,i,r){const o=e[n+1],s=null===t;let l=i?tr(o):ir(o),a=!1;for(;0!==l&&(!1===a||s);){const n=e[l+1];Ro(e[l],t)&&(a=!0,e[l+1]=i?or(n):nr(n)),l=i?tr(n):ir(n)}a&&(e[n+1]=i?nr(o):or(o))}function Ro(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Wn(e,t)>=0}function ko(e,t){return function(e,t,n,i){const r=It(),o=Pt(),s=function(e){const t=St.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+2,n}();o.firstUpdatePass&&function(e,t,n,i){const r=e.data;if(null===r[n+1]){const o=r[Kt()],s=function(e,t){return t>=e.expandoStartIndex}(e,n);(function(e,t){return 0!=(16&e.flags)})(o)&&null===t&&!s&&(t=!1),t=function(e,t,n,i){const r=function(e){const t=St.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=t.residualClasses;if(null===r)0===t.classBindings&&(n=Ao(n=Oo(null,e,t,n,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==r)if(n=Oo(r,e,t,n,i),null===o){let n=function(e,t,n){const i=t.classBindings;if(0!==ir(i))return e[tr(i)]}(e,t);void 0!==n&&Array.isArray(n)&&(n=Oo(null,e,t,n[1],i),n=Ao(n,t.attrs,i),function(e,t,n,i){e[tr(t.classBindings)]=i}(e,t,0,n))}else o=function(e,t,n){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=Ao(i,e[o].hostAttrs,true);return Ao(i,t.attrs,true)}(e,t)}return void 0!==o&&(t.residualClasses=o),n}(r,o,t,i),function(e,t,n,i,r,o){let s=t.classBindings,l=tr(s),a=ir(s);e[i]=n;let u,c=!1;if(Array.isArray(n)){const e=n;u=e[1],(null===u||Wn(e,u)>0)&&(c=!0)}else u=n;if(r)if(0!==a){const t=tr(e[l+1]);e[i+1]=er(t,l),0!==t&&(e[t+1]=rr(e[t+1],i)),e[l+1]=131071&e[l+1]|i<<17}else e[i+1]=er(l,0),0!==l&&(e[l+1]=rr(e[l+1],i)),l=i;else e[i+1]=er(a,0),0===l?l=i:e[a+1]=rr(e[a+1],i),a=i;c&&(e[i+1]=nr(e[i+1])),Do(e,u,i,!0),Do(e,u,i,!1),function(e,t,n,i,r){const o=e.residualClasses;null!=o&&"string"==typeof t&&Wn(o,t)>=0&&(n[i+1]=or(n[i+1]))}(t,u,e,i),s=er(l,a),t.classBindings=s}(r,o,t,n,s)}}(o,e,s,true),t!==$i&&fo(r,s,t)&&function(e,t,n,i,r,o,s,l){if(!(3&t.type))return;const a=e.data,u=a[l+1];Mo(1==(1&u)?jo(a,t,n,r,ir(u),s):void 0)||(Mo(o)||function(e){return 2==(2&e)}(u)&&(o=jo(a,null,n,r,l,s)),function(e,t,n,i,r){const o=ft(e);r?o?e.addClass(n,i):n.classList.add(i):o?e.removeClass(n,i):n.classList.remove(i)}(i,0,function(e,t){return _t(t[e])}(Kt(),n),r,o))}(o,o.data[Kt()],r,r[11],e,r[s+1]=function(e,t){return null==e||"object"==typeof e&&(e=ie(function(e){return e instanceof class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}?e.changingThisBreaksApplicationSecurity:e}(e))),e}(t),true,s)}(e,t),ko}function Oo(e,t,n,i,r){let o=null;const s=n.directiveEnd;let l=n.directiveStylingLast;for(-1===l?l=n.directiveStart:l++;l<s&&(o=t[l],i=Ao(i,o.hostAttrs,r),o!==e);)l++;return null!==e&&(n.directiveStylingLast=l),i}function Ao(e,t,n){const i=n?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),zn(e,s,!!n||t[++o]))}return void 0===e?null:e}function jo(e,t,n,i,r,o){const s=null===t;let l;for(;r>0;){const t=e[r],o=Array.isArray(t),a=o?t[1]:t,u=null===a;let c=n[r+1];c===$i&&(c=u?je:void 0);let h=u?Bn(c,i):a===i?c:void 0;if(o&&!Mo(h)&&(h=Bn(t,i)),Mo(h)&&(l=h,s))return l;const d=e[r+1];r=s?tr(d):ir(d)}if(null!==t){let e=o?t.residualClasses:t.residualStyles;null!=e&&(l=Bn(e,i))}return l}function Mo(e){return void 0!==e}function Ho(e,t=""){const n=It(),i=Pt(),r=e+Xe,o=i.firstCreatePass?ar(i,r,1,t,null):i.data[r],s=n[r]=function(e,t){return ft(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Ri(i,n,s,o),kt(o,!1)}const Fo=void 0;var Lo=["en",[["a","p"],["AM","PM"],Fo],[["AM","PM"],Fo,Fo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fo,"{1} 'at' {0}",Fo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Vo={};function No(e){return e in Vo||(Vo[e]=Oe.ng&&Oe.ng.common&&Oe.ng.common.locales&&Oe.ng.common.locales[e]),Vo[e]}var zo=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});const Bo="en-US";let Wo=Bo;function qo(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,i){throw new Error(`ASSERTION ERROR: ${e} [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(Wo=e.toLowerCase().replace(/_/g,"-"))}function Uo(e,t,n,i,r){if(e=le(e),Array.isArray(e))for(let o=0;o<e.length;o++)Uo(e[o],t,n,i,r);else{const o=Pt(),s=It();let l=eo(e)?e:le(e.provide),a=$r(e);const u=Dt(),c=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(eo(e)||!e.multi){const i=new rn(a,r,go),p=Ko(l,t,r?c:c+d,h);-1===p?(yn(gn(u,s),o,l),Go(o,e,t.length),t.push(l),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(i),s.push(i)):(n[p]=i,s[p]=i)}else{const p=Ko(l,t,c+d,h),f=Ko(l,t,c,c+d),g=p>=0&&n[p],_=f>=0&&n[f];if(r&&!_||!r&&!g){yn(gn(u,s),o,l);const c=function(e,t,n,i,r){const o=new rn(e,n,go);return o.multi=[],o.index=t,o.componentProviders=0,Yo(o,r,i&&!n),o}(r?Zo:Jo,n.length,r,i,a);!r&&_&&(n[f].providerFactory=c),Go(o,e,t.length,0),t.push(l),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),n.push(c),s.push(c)}else Go(o,e,p>-1?p:f,Yo(n[r?f:p],a,!r&&i));!r&&i&&_&&n[f].componentProviders++}}}function Go(e,t,n,i){const r=eo(t);if(r||t.useClass){const o=(t.useClass||t).prototype.ngOnDestroy;if(o){const s=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){const e=s.indexOf(n);-1===e?s.push(n,[i,o]):s[e+1].push(i,o)}else s.push(n,o)}}}function Yo(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Ko(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function Jo(e,t,n,i){return $o(this.multi,[])}function Zo(e,t,n,i){const r=this.multi;let o;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=In(n,n[1],this.providerFactory.index,i);o=t.slice(0,e),$o(r,o);for(let n=e;n<t.length;n++)o.push(t[n])}else o=[],$o(r,o);return o}function $o(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Xo(e,t=[]){return n=>{n.providersResolver=(n,i)=>function(e,t,n){const i=Pt();if(i.firstCreatePass){const r=ot(e);Uo(n,i.data,i.blueprint,r,!0),Uo(t,i.data,i.blueprint,r,!1)}}(n,i?i(e):e,t)}}class Qo{}class es{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${ie(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let ts=(()=>{class e{}return e.NULL=new es,e})();function ns(...e){}function is(e,t){return new os(mt(e,t))}const rs=function(){return is(Dt(),It())};let os=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=rs,e})();function ss(e){return e instanceof os?e.nativeElement:e}class ls{}let as=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>us(),e})();const us=function(){const e=It(),t=yt(Dt().index,e);return function(e){return e[11]}(et(t)?t:e)};let cs=(()=>{class e{}return e.\u0275prov=de({token:e,providedIn:"root",factory:()=>null}),e})();class hs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const ds=new hs("12.0.5");class ps{constructor(){}supports(e){return ho(e)}create(e){return new gs(e)}}const fs=(e,t)=>t;class gs{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||fs}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,i=0,r=null;for(;t||n;){const o=!n||t&&t.currentIndex<ys(n,i,r)?t:n,s=ys(o,i,r),l=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{r||(r=[]);const e=s-i,t=l-i;if(e!=t){for(let n=0;n<e;n++){const i=n<r.length?r[n]:r[n]=0,o=i+n;t<=o&&o<e&&(r[n]=i+1)}r[o.previousIndex]=t-e}}s!==l&&e(o,s,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!ho(e))throw new Error(`Error trying to diff '${ie(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,i,r=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],i=this._trackByFn(t,n),null!==r&&Object.is(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,n,i,t)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,t),o=!0),r=r._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[co()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(e,e=>{i=this._trackByFn(t,e),null!==r&&Object.is(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,e,i,t)),Object.is(r.item,e)||this._addIdentityChange(r,e)):(r=this._mismatch(r,e,i,t),o=!0),r=r._next,t++}),this.length=t;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,i){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,i)):e=this._addAfter(new _s(t,n),r,i),e}_verifyReinsertion(e,t,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,r=e._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new vs),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vs),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class _s{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ms{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class vs{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new ms,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ys(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}class bs{constructor(){}supports(e){return e instanceof Map||po(e)}create(){return new ws}}class ws{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||po(e)))throw new Error(`Error trying to diff '${ie(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const i=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,i)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new Cs(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class Cs{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Es(){return new xs([new ps])}let xs=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||Es()),deps:[[e,new ni,new ti]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=de({token:e,providedIn:"root",factory:Es}),e})();function Ss(){return new Ts([new bs])}let Ts=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||Ss()),deps:[[e,new ni,new ti]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=de({token:e,providedIn:"root",factory:Ss}),e})();function Is(e,t,n,i,r=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&i.push(_t(o)),tt(o))for(let e=Qe;e<o.length;e++){const t=o[e],n=t[1].firstChild;null!==n&&Is(t[1],t,n,i)}const s=n.type;if(8&s)Is(e,t,n.child,i);else if(32&s){const e=di(n,t);let r;for(;r=e();)i.push(r)}else if(16&s){const e=Oi(t,n);if(Array.isArray(e))i.push(...e);else{const n=pi(t[16]);Is(n[1],n,e,i,!0)}}n=r?n.projectionNext:n.next}return i}class Ps{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Is(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(tt(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(bi(e,n),Vn(t,n))}this._attachedToViewContainer=!1}wi(this._lView[1],this._lView)}onDestroy(e){_r(this._lView[1],this._lView,null,e)}markForCheck(){kr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Or(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Mt(!0);try{Or(e,t,n)}finally{Mt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,Mi(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class Ds extends Ps{constructor(e){super(e),this._view=e}detectChanges(){Ar(this._view)}checkNoChanges(){!function(e){Mt(!0);try{Ar(e)}finally{Mt(!1)}}(this._view)}get context(){return null}}const Rs=function(e){return function(e,t,n){if(it(e)&&!n){const n=yt(e.index,t);return new Ps(n,n)}return 47&e.type?new Ps(t[16],t):null}(Dt(),It(),16==(16&e))};let ks=(()=>{class e{}return e.__NG_ELEMENT_ID__=Rs,e})();const Os=[new bs],As=new xs([new ps]),js=new Ts(Os),Ms=function(){return Vs(Dt(),It())};let Hs=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ms,e})();const Fs=Hs,Ls=class extends Fs{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=lr(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(t)),cr(t,n,e),new Ps(n)}};function Vs(e,t){return 4&e.type?new Ls(t,e,is(e,t)):null}class Ns{}const zs=function(){return Ys(Dt(),It())};let Bs=(()=>{class e{}return e.__NG_ELEMENT_ID__=zs,e})();const Ws=Bs,qs=class extends Ws{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return is(this._hostTNode,this._hostLView)}get injector(){return new Rn(this._hostTNode,this._hostLView)}get parentInjector(){const e=vn(this._hostTNode,this._hostLView);if(un(e)){const t=hn(e,this._hostLView),n=cn(e);return new Rn(t[1].data[n+8],t)}return new Rn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Us(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Qe}createEmbeddedView(e,t,n){const i=e.createEmbeddedView(t||{});return this.insert(i,n),i}createComponent(e,t,n,i,r){const o=n||this.parentInjector;if(!r&&null==e.ngModule&&o){const e=o.get(Ns,null);e&&(r=e)}const s=e.create(o,i,void 0,r);return this.insert(s.hostView,t),s}insert(e,t){const n=e._lView,i=n[1];if(tt(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],i=new qs(t,t[6],t[3]);i.detach(i.indexOf(e))}}const r=this._adjustIndex(t),o=this._lContainer;!function(e,t,n,i){const r=Qe+i,o=n.length;i>0&&(n[r-1][4]=t),i<o-Qe?(t[4]=n[r],Ln(n,Qe+i,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const l=t[19];null!==l&&l.insertView(e),t[2]|=128}(i,n,o,r);const s=Ai(r,o),l=n[11],a=Ii(l,o[7]);return null!==a&&function(e,t,n,i,r,o){i[0]=r,i[6]=t,Mi(e,i,n,1,r,o)}(i,o[6],l,n,a,s),e.attachToViewContainerRef(),Ln(Gs(o),r,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Us(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=bi(this._lContainer,t);n&&(Vn(Gs(this._lContainer),t),wi(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=bi(this._lContainer,t);return n&&null!=Vn(Gs(this._lContainer),t)?new Ps(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Us(e){return e[8]}function Gs(e){return e[8]||(e[8]=[])}function Ys(e,t){let n;const i=t[e.index];if(tt(i))n=i;else{let r;if(8&e.type)r=_t(i);else{const n=t[11];r=n.createComment("");const i=mt(e,t);xi(n,Ii(n,i),r,function(e,t){return ft(e)?e.nextSibling(t):t.nextSibling}(n,i),!1)}t[e.index]=n=new Array(i,!0,!1,t,null,0,e,r,null,null),Rr(t,n)}return new qs(n,e,t)}const Ks={};class Js extends ts{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ze(e);return new Xs(t,this.ngModule)}}function Zs(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const $s=new Mn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ui});class Xs extends Qo{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(Zi).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Zs(this.componentDef.inputs)}get outputs(){return Zs(this.componentDef.outputs)}create(e,t,n,i){const r=(i=i||this.ngModule)?function(e,t){return{get:(n,i,r)=>{const o=e.get(n,Ks,r);return o!==Ks||i===Ks?o:t.get(n,i,r)}}}(e,i.injector):e,o=r.get(ls,gt),s=r.get(cs,null),l=o.createRenderer(null,this.componentDef),a=this.componentDef.selectors[0][0]||"div",u=n?function(e,t,n){if(ft(e))return e.selectRootElement(t,n===Ie.ShadowDom);let i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(l,n,this.componentDef.encapsulation):vi(o.createRenderer(null,this.componentDef),a,function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(a)),c=this.componentDef.onPush?576:528,h={components:[],scheduler:ui,clean:Mr,playerHandler:null,flags:0},d=gr(0,null,null,1,0,null,null,null,null,null),p=lr(null,d,h,c,null,null,o,l,s,r);let f,g;Bt(p);try{const e=function(e,t,n,i,r,o){const s=n[1];n[20]=e;const l=ar(s,20,2,"#host",null),a=l.mergedAttrs=t.hostAttrs;null!==a&&(Nr(l,a,!0),null!==e&&(on(r,e,a),null!==l.classes&&Li(r,e,l.classes),null!==l.styles&&Fi(r,e,l.styles)));const u=i.createRenderer(e,t),c=lr(n,fr(t),null,t.onPush?64:16,n[20],l,i,u,null,null);return s.firstCreatePass&&(yn(gn(l,n),s,t.type),br(s,l),Cr(l,n.length,1)),Rr(n,c),n[20]=c}(u,this.componentDef,p,o,l);if(u)if(n)on(l,u,["ng-version",ds.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let o=e[i];if("string"==typeof o)2===r?""!==o&&t.push(o,e[++i]):8===r&&n.push(o);else{if(!Ui(r))break;r=o}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&on(l,u,e),t&&t.length>0&&Li(l,u,t.join(" "))}if(g=vt(d,Xe),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=t[n];e.push(null!=i?Array.from(i):null)}}f=function(e,t,n,i,r){const o=n[1],s=function(e,t,n){const i=Dt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Er(e,i,t,ur(e,t,1,null),n));const r=In(t,e,i.directiveStart,i);ii(r,t);const o=mt(i,t);return o&&ii(o,t),r}(o,n,t);if(i.components.push(s),e[8]=s,r&&r.forEach(e=>e(s,t)),t.contentQueries){const e=Dt();t.contentQueries(1,s,e.directiveStart)}const l=Dt();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Jt(l.index),vr(n[1],l,0,l.directiveStart,l.directiveEnd,t),yr(t,s)),s}(e,this.componentDef,p,h,[io]),cr(d,p,null)}finally{Yt()}return new Qs(this.componentType,f,is(g,p),p,g)}}class Qs extends class{}{constructor(e,t,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.instance=t,this.hostView=this.changeDetectorRef=new Ds(i),this.componentType=e}get injector(){return new Rn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const el=new Map;class tl extends Ns{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Js(this);const n=$e(e),i=e[Ve]||null;i&&qo(i),this._bootstrapComponents=ci(n.bootstrap),this._r3Injector=Kr(e,t,[{provide:Ns,useValue:this},{provide:ts,useValue:this.componentFactoryResolver}],ie(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=no.THROW_IF_NOT_FOUND,n=we.Default){return e===no||e===Ns||e===zr?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class nl extends class{}{constructor(e){super(),this.moduleType=e,null!==$e(e)&&function(e){const t=new Set;!function e(n){const i=$e(n,!0),r=i.id;null!==r&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${ie(t)} vs ${ie(t.name)}`)}(r,el.get(r),n),el.set(r,n));const o=ci(i.imports);for(const s of o)t.has(s)||(t.add(s),e(s))}(e)}(e)}create(e){return new tl(this.moduleType,e)}}function il(e){return t=>{setTimeout(e,void 0,t)}}const rl=class extends P{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var i,r,o;let s=e,l=t||(()=>null),a=n;if(e&&"object"==typeof e){const t=e;s=null===(i=t.next)||void 0===i?void 0:i.bind(t),l=null===(r=t.error)||void 0===r?void 0:r.bind(t),a=null===(o=t.complete)||void 0===o?void 0:o.bind(t)}this.__isAsync&&(l=il(l),s&&(s=il(s)),a&&(a=il(a)));const u=super.subscribe({next:s,error:l,complete:a});return e instanceof _&&e.add(u),u}};function ol(){return this._results[co()]()}class sl{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=co(),n=sl.prototype;n[t]||(n[t]=ol)}get changes(){return this._changes||(this._changes=new rl)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const i=Hn(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}(n._results,i,t))&&(n._results=i,n.length=i.length,n.last=i[this.length-1],n.first=i[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ll{constructor(e){this.queryList=e,this.matches=null}clone(){return new ll(this.queryList)}setDirty(){this.queryList.setDirty()}}class al{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);i.push(this.queries[n.indexInDeclarationView].clone())}return new al(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==ml(e,t).matches&&this.queries[t].setDirty()}}class ul{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class cl{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const i=null!==t?t.length:0,r=this.getByIndex(n).embeddedTView(e,i);r&&(r.indexInDeclarationView=n,null!==t?t.push(r):t=[r])}return null!==t?new cl(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class hl{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new hl(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(e,t,dl(t,r)),this.matchTNodeWithReadOption(e,t,Tn(t,e,r,!1,!1))}else n===Hs?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Tn(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===os||i===Bs||i===Hs&&4&t.type)this.addMatch(t.index,-2);else{const n=Tn(t,e,i,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function dl(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function pl(e,t,n,i){return-1===n?function(e,t){return 11&e.type?is(e,t):4&e.type?Vs(e,t):null}(t,e):-2===n?function(e,t,n){return n===os?is(t,e):n===Hs?Vs(t,e):n===Bs?Ys(t,e):void 0}(e,t,i):In(e,e[1],n,t)}function fl(e,t,n,i){const r=t[19].queries[i];if(null===r.matches){const i=e.data,o=n.matches,s=[];for(let e=0;e<o.length;e+=2){const r=o[e];s.push(r<0?null:pl(t,i[r],o[e+1],n.metadata.read))}r.matches=s}return r.matches}function gl(e,t,n,i){const r=e.queries.getByIndex(n),o=r.matches;if(null!==o){const s=fl(e,t,r,n);for(let e=0;e<o.length;e+=2){const n=o[e];if(n>0)i.push(s[e/2]);else{const r=o[e+1],s=t[-n];for(let e=Qe;e<s.length;e++){const t=s[e];t[17]===t[3]&&gl(t[1],t,r,i)}if(null!==s[9]){const e=s[9];for(let t=0;t<e.length;t++){const n=e[t];gl(n[1],n,r,i)}}}}}return i}function _l(e){const t=It(),n=Pt(),i=Lt();Vt(i+1);const r=ml(n,i);if(e.dirty&&bt(t)===(2==(2&r.metadata.flags))){if(null===r.matches)e.reset([]);else{const o=r.crossesNgTemplate?gl(n,t,i,[]):fl(n,t,r,i);e.reset(o,ss),e.notifyOnChanges()}return!0}return!1}function ml(e,t){return e.queries.getByIndex(t)}const vl=new Mn("Application Initializer");let yl=(()=>{class e{constructor(e){this.appInits=e,this.resolve=ns,this.reject=ns,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(wo(t))e.push(t);else if(Co(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)($n(vl,8))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})();const bl=new Mn("AppId"),wl={provide:bl,useFactory:function(){return`${Cl()}${Cl()}${Cl()}`},deps:[]};function Cl(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const El=new Mn("Platform Initializer"),xl=new Mn("Platform ID"),Sl=new Mn("appBootstrapListener");let Tl=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})();const Il=new Mn("LocaleId"),Pl=new Mn("DefaultCurrencyCode");class Dl{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const Rl=function(e){return new nl(e)},kl=Rl,Ol=function(e){return Promise.resolve(Rl(e))},Al=function(e){const t=Rl(e),n=ci($e(e).declarations).reduce((e,t)=>{const n=Ze(t);return n&&e.push(new Xs(n)),e},[]);return new Dl(t,n)},jl=Al,Ml=function(e){return Promise.resolve(Al(e))};let Hl=(()=>{class e{constructor(){this.compileModuleSync=kl,this.compileModuleAsync=Ol,this.compileModuleAndAllComponentsSync=jl,this.compileModuleAndAllComponentsAsync=Ml}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})();const Fl=(()=>Promise.resolve(0))();function Ll(e){"undefined"==typeof Zone?Fl.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Vl{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rl(!1),this.onMicrotaskEmpty=new rl(!1),this.onStable=new rl(!1),this.onError=new rl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&t,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function(){let e=Oe.requestAnimationFrame,t=Oe.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Oe,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Bl(e),e.isCheckStableRunning=!0,zl(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Bl(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,l)=>{try{return Wl(e),n.invokeTask(r,o,s,l)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),ql(e)}},onInvoke:(n,i,r,o,s,l,a)=>{try{return Wl(e),n.invoke(r,o,s,l,a)}finally{e.shouldCoalesceRunChangeDetection&&t(),ql(e)}},onHasTask:(t,n,i,r)=>{t.hasTask(i,r),n===i&&("microTask"==r.change?(e._hasPendingMicrotasks=r.microTask,Bl(e),zl(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,n,i,r)=>(t.handleError(i,r),e.runOutsideAngular(()=>e.onError.emit(r)),!1)})}(i)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Vl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,i){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,e,Nl,ns,ns);try{return r.runTask(o,t,n)}finally{r.cancelTask(o)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const Nl={};function zl(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Bl(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Wl(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ql(e){e._nesting--,zl(e)}class Ul{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rl,this.onMicrotaskEmpty=new rl,this.onStable=new rl,this.onError=new rl}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,i){return e.apply(t,n)}}let Gl=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vl.assertNotInAngularZone(),Ll(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ll(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let i=-1;t&&t>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==i),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)($n(Vl))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})(),Yl=(()=>{class e{constructor(){this._applications=new Map,Zl.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Zl.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})();class Kl{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let Jl,Zl=new Kl,$l=!0,Xl=!1;const Ql=new Mn("AllowMultipleToken");function ea(e,t,n=[]){const i=`Platform: ${t}`,r=new Mn(i);return(t=[])=>{let o=ta();if(!o||o.injector.get(Ql,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{const e=n.concat(t).concat({provide:r,useValue:!0},{provide:Wr,useValue:"platform"});!function(e){if(Jl&&!Jl.destroyed&&!Jl.injector.get(Ql,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Jl=e.get(na);const t=e.get(El,null);t&&t.forEach(e=>e())}(no.create({providers:e,name:i}))}return function(e){const t=ta();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function ta(){return Jl&&!Jl.destroyed?Jl:null}let na=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new Ul:("zone.js"===e?void 0:e)||new Vl({enableLongStackTrace:(Xl=!0,$l),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),i=[{provide:Vl,useValue:n}];return n.run(()=>{const t=no.create({providers:i,parent:this.injector,name:e.moduleType.name}),r=e.create(t),o=r.injector.get(ai,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{o.handleError(e)}});r.onDestroy(()=>{oa(this._modules,r),e.unsubscribe()})}),function(e,t,n){try{const i=n();return wo(i)?i.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):i}catch(Jc){throw t.runOutsideAngular(()=>e.handleError(Jc)),Jc}}(o,n,()=>{const e=r.injector.get(yl);return e.runInitializers(),e.donePromise.then(()=>(qo(r.injector.get(Il,Bo)||Bo),this._moduleDoBootstrap(r),r))})})}bootstrapModule(e,t=[]){const n=ia({},t);return function(e,t,n){const i=new nl(n);return Promise.resolve(i)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(ra);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${ie(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)($n(no))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})();function ia(e,t){return Array.isArray(t)?t.reduce(ia,e):Object.assign(Object.assign({},e),t)}let ra=(()=>{class e{constructor(e,t,n,i,r){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new E(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),s=new E(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Vl.assertNotInAngularZone(),Ll(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Vl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=function(...e){let t=Number.POSITIVE_INFINITY,n=null,i=e[e.length-1];return R(i)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof i&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof E?e[0]:function(e=Number.POSITIVE_INFINITY){return q(C,e)}(t)(Y(e,n))}(o,s.pipe(e=>{return K()((t=ee,function(e){let n;n="function"==typeof t?t:function(){return t};const i=Object.create(e,X);return i.source=e,i.subjectFactory=n,i})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Qo?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(Ns),r=n.create(no.NULL,[],t||n.selector,i),o=r.location.nativeElement,s=r.injector.get(Gl,null),l=s&&r.injector.get(Yl);return s&&l&&l.registerApplication(o,s),r.onDestroy(()=>{this.detachView(r.hostView),oa(this.components,r),l&&l.unregisterApplication(o)}),this._loadComponent(r),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(Jc){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(Jc))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;oa(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Sl,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)($n(Vl),$n(no),$n(ai),$n(ts),$n(yl))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})();function oa(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const sa=ea(null,"core",[{provide:xl,useValue:"unknown"},{provide:na,deps:[no]},{provide:Yl,deps:[]},{provide:Tl,deps:[]}]),la=[{provide:ra,useClass:ra,deps:[Vl,no,ai,ts,yl]},{provide:$s,deps:[Vl],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:yl,useClass:yl,deps:[[new ti,vl]]},{provide:Hl,useClass:Hl,deps:[]},wl,{provide:xs,useFactory:function(){return As},deps:[]},{provide:Ts,useFactory:function(){return js},deps:[]},{provide:Il,useFactory:function(e){return qo(e=e||"undefined"!=typeof $localize&&$localize.locale||Bo),e},deps:[[new ei(Il),new ti,new ni]]},{provide:Pl,useValue:"USD"}];let aa=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)($n(ra))},e.\u0275mod=Ye({type:e}),e.\u0275inj=pe({providers:la}),e})(),ua=null;function ca(){return ua}const ha=new Mn("DocumentToken");var da=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({});class pa{}let fa=(()=>{class e extends pa{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(function(e){return function(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=No(t);if(n)return n;const i=t.split("-")[0];if(n=No(i),n)return n;if("en"===i)return Lo;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[zo.PluralCase]}(t||this.locale)(e)){case da.Zero:return"zero";case da.One:return"one";case da.Two:return"two";case da.Few:return"few";case da.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)($n(Il))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})();function ga(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[i,r]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(i.trim()===t)return decodeURIComponent(r)}return null}let _a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ye({type:e}),e.\u0275inj=pe({providers:[{provide:pa,useClass:fa}]}),e})();class ma{}class va extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var e;e=new va,ua||(ua=e)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(ba=ba||document.querySelector("base"),ba?ba.getAttribute("href"):null);return null==t?null:function(e){ya=ya||document.createElement("a"),ya.setAttribute("href",e);const t=ya.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ga(document.cookie,e)}}let ya,ba=null;const wa=new Mn("TRANSITION_ID"),Ca=[{provide:vl,useFactory:function(e,t,n){return()=>{n.get(yl).donePromise.then(()=>{const n=ca();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[wa,ha,no],multi:!0}];class Ea{static init(){var e;e=new Ea,Zl=e}addToWindow(e){Oe.getAngularTestability=(t,n=!0)=>{const i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},Oe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Oe.getAllAngularRootElements=()=>e.getAllRootElements(),Oe.frameworkStabilizers||(Oe.frameworkStabilizers=[]),Oe.frameworkStabilizers.push(e=>{const t=Oe.getAllAngularTestabilities();let n=t.length,i=!1;const r=function(t){i=i||t,n--,0==n&&e(i)};t.forEach(function(e){e.whenStable(r)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:n?ca().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let xa=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})();const Sa=new Mn("EventManagerPlugins");let Ta=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let i=0;i<n.length;i++){const t=n[i];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)($n(Sa),$n(Vl))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})();class Ia{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const i=ca().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,n)}}let Pa=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})(),Da=(()=>{class e extends Pa{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const i=this._doc.createElement("style");i.textContent=e,n.push(t.appendChild(i))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(Ra),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ra))}}return e.\u0275fac=function(t){return new(t||e)($n(ha))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})();function Ra(e){ca().remove(e)}const ka={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Oa=/%COMP%/g;function Aa(e,t,n){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Aa(e,r,n):(r=r.replace(Oa,e),n.push(r))}return n}function ja(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ma=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Ha(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Ie.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new Fa(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case Ie.ShadowDom:return new La(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Aa(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)($n(Ta),$n(Da),$n(bl))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})();class Ha{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(ka[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,i){if(i){t=i+":"+t;const r=ka[i];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const i=ka[n];i?e.removeAttributeNS(i,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&(hi.DashCase|hi.Important)?e.style.setProperty(t,n,i&hi.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&hi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ja(n)):this.eventManager.addEventListener(e,t,ja(n))}}class Fa extends Ha{constructor(e,t,n,i){super(e),this.component=n;const r=Aa(i+"-"+n.id,n.styles,[]);t.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(Oa,i+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Oa,i+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class La extends Ha{constructor(e,t,n,i){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=Aa(i.id,i.styles,[]);for(let o=0;o<r.length;o++){const e=document.createElement("style");e.textContent=r[o],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Va=(()=>{class e extends Ia{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)($n(ha))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})();const Na=["alt","control","meta","shift"],za={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ba={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Wa={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let qa=(()=>{class e extends Ia{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,i){const r=e.parseEventName(n),o=e.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ca().onAndCancel(t,r.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=e._normalizeKey(n.pop());let o="";if(Na.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),o+=e+".")}),o+=r,0!=n.length||0===r.length)return null;const s={};return s.domEventName=i,s.fullKey=o,s}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Ba.hasOwnProperty(t)&&(t=Ba[t]))}return za[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Na.forEach(i=>{i!=n&&(0,Wa[i])(e)&&(t+=i+".")}),t+=n,t}static eventCallback(t,n,i){return r=>{e.getEventFullKey(r)===t&&i.runGuarded(()=>n(r))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)($n(ha))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})();const Ua=ea(sa,"browser",[{provide:xl,useValue:"browser"},{provide:El,useValue:function(){va.makeCurrent(),Ea.init()},multi:!0},{provide:ha,useFactory:function(){return function(e){pt=e}(document),document},deps:[]}]),Ga=[[],{provide:Wr,useValue:"root"},{provide:ai,useFactory:function(){return new ai},deps:[]},{provide:Sa,useClass:Va,multi:!0,deps:[ha,Vl,xl]},{provide:Sa,useClass:qa,multi:!0,deps:[ha]},[],{provide:Ma,useClass:Ma,deps:[Ta,Da,bl]},{provide:ls,useExisting:Ma},{provide:Pa,useExisting:Da},{provide:Da,useClass:Da,deps:[ha]},{provide:Gl,useClass:Gl,deps:[Vl]},{provide:Ta,useClass:Ta,deps:[Sa,Vl]},{provide:ma,useClass:xa,deps:[]},[]];let Ya=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:bl,useValue:t.appId},{provide:wa,useExisting:bl},Ca]}}}return e.\u0275fac=function(t){return new(t||e)($n(e,12))},e.\u0275mod=Ye({type:e}),e.\u0275inj=pe({providers:Ga,imports:[_a,aa]}),e})();function Ka(e,t){return new E(n=>{const i=e.length;if(0===i)return void n.complete();const r=new Array(i);let o=0,s=0;for(let l=0;l<i;l++){const a=z(e[l]);let u=!1;n.add(a.subscribe({next:e=>{u||(u=!0,s++),r[l]=e},error:e=>n.error(e),complete:()=>{o++,o!==i&&u||(s===i&&n.next(t?t.reduce((e,t,n)=>(e[t]=r[n],e),{}):r),n.complete())}}))}})}"undefined"!=typeof window&&window;let Ja=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(go(as),go(os))},e.\u0275dir=Je({type:e}),e})(),Za=(()=>{class e extends Ja{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=kn(e)))(n||e)}}(),e.\u0275dir=Je({type:e,features:[ro]}),e})();const $a=new Mn("NgValueAccessor"),Xa={provide:$a,useExisting:se(()=>eu),multi:!0},Qa=new Mn("CompositionEventMode");let eu=(()=>{class e extends Ja{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=ca()?ca().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(go(as),go(os),go(Qa,8))},e.\u0275dir=Je({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&Eo("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[Xo([Xa]),ro]}),e})();const tu=new Mn("NgValidators"),nu=new Mn("NgAsyncValidators");function iu(e){return null!=e}function ru(e){const t=wo(e)?z(e):e;return Co(t),t}function ou(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function su(e,t){return t.map(t=>t(e))}function lu(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function au(e){return null!=e?function(e){if(!e)return null;const t=e.filter(iu);return 0==t.length?null:function(e){return ou(su(e,t))}}(lu(e)):null}function uu(e){return null!=e?function(e){if(!e)return null;const t=e.filter(iu);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if(p(t))return Ka(t,null);if(f(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Ka(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return Ka(e=1===e.length&&p(e[0])?e[0]:e,null).pipe(k(e=>t(...e)))}return Ka(e,null)}(su(e,t).map(ru)).pipe(k(ou))}}(lu(e)):null}function cu(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}let hu=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=au(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=uu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=Je({type:e}),e})(),du=(()=>{class e extends hu{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=kn(e)))(n||e)}}(),e.\u0275dir=Je({type:e,features:[ro]}),e})();class pu extends hu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let fu=(()=>{class e extends class{constructor(e){this._cd=e}is(e){var t,n;return!!(null===(n=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===n?void 0:n[e])}}{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(go(pu,2))},e.\u0275dir=Je({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&ko("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[ro]}),e})();function gu(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function _u(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function mu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const vu="VALID",yu="INVALID",bu="PENDING",wu="DISABLED";function Cu(e){return(Tu(e)?e.validators:e)||null}function Eu(e){return Array.isArray(e)?au(e):e||null}function xu(e,t){return(Tu(t)?t.asyncValidators:e)||null}function Su(e){return Array.isArray(e)?uu(e):e||null}function Tu(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Iu{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Eu(this._rawValidators),this._composedAsyncValidatorFn=Su(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===vu}get invalid(){return this.status===yu}get pending(){return this.status==bu}get disabled(){return this.status===wu}get enabled(){return this.status!==wu}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Eu(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Su(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=bu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=wu,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vu,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==vu&&this.status!==bu||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wu:vu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=bu,this._hasOwnPendingAsyncValidator=!0;const t=ru(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let i=e;return t.forEach(e=>{i=i instanceof Du?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof Ru&&i.at(e)||null}),i}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new rl,this.statusChanges=new rl}_calculateStatus(){return this._allControlsDisabled()?wu:this.errors?yu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bu)?bu:this._anyControlsHaveStatus(yu)?yu:vu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Tu(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Pu extends Iu{constructor(e=null,t,n){super(Cu(t),xu(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){mu(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){mu(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Du extends Iu{constructor(e,t,n){super(Cu(t),xu(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof Pu?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,i)=>{n=t(n,e,i)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ru extends Iu{constructor(e,t,n){super(Cu(t),xu(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Pu?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const ku={provide:pu,useExisting:se(()=>Au)},Ou=(()=>Promise.resolve(null))();let Au=(()=>{class e extends pu{constructor(e,t,n,i){super(),this.control=new Pu,this._registered=!1,this.update=new rl,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=function(e,t){if(!t)return null;let n,i,r;return Array.isArray(t),t.forEach(e=>{e.constructor===eu?n=e:Object.getPrototypeOf(e.constructor)===Za?i=e:r=e}),r||i||n||null}(0,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),function(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var e,t;(function(e,t){const n=function(e){return e._rawValidators}(e);null!==t.validator?e.setValidators(cu(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const i=function(e){return e._rawAsyncValidators}(e);null!==t.asyncValidator?e.setAsyncValidators(cu(i,t.asyncValidator)):"function"==typeof i&&e.setAsyncValidators([i]);const r=()=>e.updateValueAndValidity();gu(t._rawValidators,r),gu(t._rawAsyncValidators,r)})(e=this.control,t=this),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&_u(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&_u(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Ou.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;Ou.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(go(du,9),go(tu,10),go(nu,10),go($a,10))},e.\u0275dir=Je({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xo([ku]),ro,at]}),e})(),ju=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ye({type:e}),e.\u0275inj=pe({}),e})(),Mu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ye({type:e}),e.\u0275inj=pe({imports:[[ju]]}),e})(),Hu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ye({type:e}),e.\u0275inj=pe({imports:[Mu]}),e})();class Fu{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Lu(e,this.predicate,this.thisArg))}}class Lu extends y{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}class Vu{}class Nu{}class zu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),i=n.toLowerCase(),r=e.slice(t+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const i=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof zu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new zu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof zu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...n),this.headers.set(t,i);break;case"d":const r=e.value;if(r){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===r.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Bu{encodeKey(e){return Wu(e)}encodeValue(e){return Wu(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function Wu(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function qu(e){return`${e}`}class Uu{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Bu,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(e=>{const i=e.indexOf("="),[r,o]=-1==i?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,i)),t.decodeValue(e.slice(i+1))],s=n.get(r)||[];s.push(o),n.set(r,s)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(n=>{const i=e[n];Array.isArray(i)?i.forEach(e=>{t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Uu({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(qu(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(qu(e.value));-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Gu{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function Yu(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Ku(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Ju(e){return"undefined"!=typeof FormData&&e instanceof FormData}class Zu{constructor(e,t,n,i){let r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new zu),this.context||(this.context=new Gu),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new Uu,this.urlWithParams=t}serializeBody(){return null===this.body?null:Yu(this.body)||Ku(this.body)||Ju(this.body)||"string"==typeof this.body?this.body:this.body instanceof Uu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ju(this.body)?null:Ku(this.body)?this.body.type||null:Yu(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Uu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,u=e.params||this.params;const c=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(u=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),u)),new Zu(n,i,o,{params:u,headers:a,context:c,reportProgress:l,responseType:r,withCredentials:s})}}var $u=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({});class Xu{constructor(e,t=200,n="OK"){this.headers=e.headers||new zu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Qu extends Xu{constructor(e={}){super(e),this.type=$u.ResponseHeader}clone(e={}){return new Qu({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class ec extends Xu{constructor(e={}){super(e),this.type=$u.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ec({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class tc extends Xu{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function nc(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let ic=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let i;if(e instanceof Zu)i=e;else{let r,o;r=n.headers instanceof zu?n.headers:new zu(n.headers),n.params&&(o=n.params instanceof Uu?n.params:new Uu({fromObject:n.params})),i=new Zu(e,t,void 0!==n.body?n.body:null,{headers:r,context:n.context,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=function(...e){let t=e[e.length-1];return R(t)?(e.pop(),N(e,t)):Y(e)}(i).pipe(q(e=>this.handler.handle(e),void 0,1));if(e instanceof Zu||"events"===n.observe)return r;const o=r.pipe((s=e=>e instanceof ec,function(e){return e.lift(new Fu(s,void 0))}));var s;switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return o.pipe(k(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return o.pipe(k(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return o.pipe(k(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return o.pipe(k(e=>e.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new Uu).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,nc(n,t))}post(e,t,n={}){return this.request("POST",e,nc(n,t))}put(e,t,n={}){return this.request("PUT",e,nc(n,t))}}return e.\u0275fac=function(t){return new(t||e)($n(Vu))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})();class rc{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const oc=new Mn("HTTP_INTERCEPTORS");let sc=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})();const lc=/^\)\]\}',?\n/;let ac=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new E(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const i=e.serializeBody();let r=null;const o=()=>{if(null!==r)return r;const t=1223===n.status?204:n.status,i=n.statusText||"OK",o=new zu(n.getAllResponseHeaders()),s=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return r=new Qu({headers:o,status:t,statusText:i,url:s}),r},s=()=>{let{headers:i,status:r,statusText:s,url:l}=o(),a=null;204!==r&&(a=void 0===n.response?n.responseText:n.response),0===r&&(r=a?200:0);let u=r>=200&&r<300;if("json"===e.responseType&&"string"==typeof a){const e=a;a=a.replace(lc,"");try{a=""!==a?JSON.parse(a):null}catch(c){a=e,u&&(u=!1,a={error:c,text:a})}}u?(t.next(new ec({body:a,headers:i,status:r,statusText:s,url:l||void 0})),t.complete()):t.error(new tc({error:a,headers:i,status:r,statusText:s,url:l||void 0}))},l=e=>{const{url:i}=o(),r=new tc({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});t.error(r)};let a=!1;const u=i=>{a||(t.next(o()),a=!0);let r={type:$u.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===e.responseType&&n.responseText&&(r.partialText=n.responseText),t.next(r)},c=e=>{let n={type:$u.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",s),n.addEventListener("error",l),n.addEventListener("timeout",l),n.addEventListener("abort",l),e.reportProgress&&(n.addEventListener("progress",u),null!==i&&n.upload&&n.upload.addEventListener("progress",c)),n.send(i),t.next({type:$u.Sent}),()=>{n.removeEventListener("error",l),n.removeEventListener("abort",l),n.removeEventListener("load",s),n.removeEventListener("timeout",l),e.reportProgress&&(n.removeEventListener("progress",u),null!==i&&n.upload&&n.upload.removeEventListener("progress",c)),n.readyState!==n.DONE&&n.abort()}})}}return e.\u0275fac=function(t){return new(t||e)($n(ma))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})();const uc=new Mn("XSRF_COOKIE_NAME"),cc=new Mn("XSRF_HEADER_NAME");class hc{}let dc=(()=>{class e{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=ga(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)($n(ha),$n(xl),$n(uc))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})(),pc=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)($n(hc),$n(cc))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})(),fc=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(oc,[]);this.chain=e.reduceRight((e,t)=>new rc(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)($n(Nu),$n(no))},e.\u0275prov=de({token:e,factory:e.\u0275fac}),e})(),gc=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:pc,useClass:sc}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:uc,useValue:t.cookieName}:[],t.headerName?{provide:cc,useValue:t.headerName}:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ye({type:e}),e.\u0275inj=pe({providers:[pc,{provide:oc,useExisting:pc,multi:!0},{provide:hc,useClass:dc},{provide:uc,useValue:"XSRF-TOKEN"},{provide:cc,useValue:"X-XSRF-TOKEN"}]}),e})(),_c=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ye({type:e}),e.\u0275inj=pe({providers:[ic,{provide:Vu,useClass:fc},ac,{provide:Nu,useExisting:ac}],imports:[[gc.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})();var mc,vc=(mc=function(e,t){return(mc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}mc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),yc="undefined"!=typeof navigator?navigator.userAgent:"",bc=null!=yc.match(/iPad|iPhone|iPod|Android|webOS|BlackBerry|Windows Phone/i);function wc(){return bc}var Cc=null!=yc.match(/iPad|iPhone|iPod/i);function Ec(){return Cc}var xc=null!=yc.match(/Firefox\//);function Sc(){return xc}var Tc=null!=yc.match(/^((?!Chrome|Android).)*safari/i);function Ic(){return Tc}var Pc=null!=yc.match(/Edge\//);function Dc(){return Pc}var Rc=null!=yc.match(/MSIE |Trident\/|Edge\//);function kc(){return Rc}var Oc=!1;function Ac(){return Oc}var jc=!1;function Mc(){return jc}var Hc=!1;function Fc(e,t){return Hc?{capture:e,passive:t}:e}"undefined"!=typeof document&&document.addEventListener("test",function(e){},{get passive(){return Hc=!0,!0}});var Lc=!1;function Vc(){return Lc}function Nc(e,t){e.effectAllowed=t,Sc()&&e.setData("text","")}if("undefined"!=typeof document&&document.createElement("div").focus({get preventScroll(){return Lc=!0,!0}}),"undefined"!=typeof document&&document.doctype&&(navigator.appVersion.indexOf("MSIE 10")>-1&&(jc=!0),navigator.appVersion.indexOf("MSIE 9")>-1&&(Oc=!0,document.addEventListener("mousemove",function(e){if(1==e.which){var t=bd(e.target,".wj-control");if(t&&!t.style.cursor)for(var n=e.target;n;n=n.parentElement)if(n.attributes&&n.attributes.draggable)return n.dragDrop(),!1}}))),"undefined"!=typeof window){var zc="requestAnimationFrame";if(!window[zc]){var Bc=0;window[zc]=function(e){var t=Date.now(),n=16-(t-Bc),i=n>0?n:0;return Bc=t+i,setTimeout(function(){e(Bc)},i)},window.cancelAnimationFrame=clearTimeout}if(!window.atob){var Wc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",qc=new RegExp("[^"+Wc+"]");window.atob=function(e){var t,n,i,r,o=[],s=0,l=e.length;if(qc.test(e)||/=/.test(e)&&(/=[^=]/.test(e)||/={3}/.test(e)))throw new Error("Invalid base64 data");for(l%4>0&&(l=(e+=Array(4-l%4+1).join("=")).length);s<l;){for(n=[],r=s;s<r+4;)n.push(Wc.indexOf(e.charAt(s++)));for(i=[((t=(n[0]<<18)+(n[1]<<12)+((63&n[2])<<6)+(63&n[3]))&255<<16)>>16,64===n[2]?-1:(65280&t)>>8,64===n[3]?-1:255&t],r=0;r<3;++r)(i[r]>=0||0===r)&&o.push(String.fromCharCode(i[r]))}return o.join("")},window.btoa=function(e){for(var t,n,i=[],r=0,o=e.length;r<o;)t=((n=[e.charCodeAt(r++),e.charCodeAt(r++),e.charCodeAt(r++)])[0]<<16)+((n[1]||0)<<8)+(n[2]||0),i.push(Wc.charAt((t&63<<18)>>18),Wc.charAt((258048&t)>>12),Wc.charAt(isNaN(n[1])?64:(4032&t)>>6),Wc.charAt(isNaN(n[2])?64:63&t));return i.join("")}}}var Uc="undefined"!=typeof window&&window.Symbol?Symbol("_getProxyTarget"):"\t_get\tProxy\tTarget\t";function Gc(e,t,n){var i=new WeakMap;if(!n){var r={};if(e.length){var o=e[0];for(var s in o){var l=typeof o[s];r[s]="string"==l?"":"number"==l?0:null}n=r}}return new Proxy(e,{get:function(e,r){if(r===Uc)return e;if("string"==typeof r||"number"==typeof r){if("indexOf"==r)return function(t,n){var i=e.indexOf(t,n);return i<0&&t&&(t=t[Uc])&&(i=e.indexOf(t,n)),i};var o=parseInt(r);if(!isNaN(o)){var s=e[o];if(s&&!s[Uc]){var l=i.get(s);l||(l=function(e,t,n){if(!e[Uc]){if(kc())for(var i in t)e[i]=null;var r={get:function(e,i,r){if(i===Uc)return e;if("constructor"===i)return function(){return Object.assign({},n||{})};var o=t[i];if(o)switch(typeof o){case"function":return o(r);case"string":return function(e,t){var n=[t];return(new(Function.bind.apply(Function,[void 0].concat(["$"],["return "+e])))).apply(void 0,n)}(o,r)}return e[i]}};kc()||(r.ownKeys=function(e){return Object.keys(e).concat(Object.keys(t))},r.getOwnPropertyDescriptor=function(e,n){return n in t?{enumerable:!0,configurable:!0,writable:!1}:Reflect.getOwnPropertyDescriptor(e,n)}),e=new Proxy(e,r)}return e}(s,t,n),i.set(s,l)),s=l}return s}}return Reflect.get(e,r)}})}function Yc(e){return(e?e[Uc]:null)||e}var Kc,Jc,Zc=function(){function e(e){this.path=e}return Object.defineProperty(e.prototype,"path",{get:function(){return this._path},set:function(e){this._path=e,this._parts=e?e.split("."):[];for(var t=0;t<this._parts.length;t++){var n=this._parts[t],i=n.indexOf("[");i>-1&&(this._parts[t]=n.substr(0,i),this._parts.splice(++t,0,parseInt(n.substr(i+1))))}this._key=1==this._parts.length?this._parts[0]:null},enumerable:!0,configurable:!0}),e.prototype.getValue=function(e){if(e){if(this._key)return e[this._key];if(this._path&&this._path in e)return e[this._path];for(var t=0;t<this._parts.length&&e;t++)e=e[this._parts[t]]}return e},e.prototype.setValue=function(e,t){if(e)try{var n=this._path;if(n in e)return e[n]=t,e[n]==t;for(var i=0;i<this._parts.length-1;i++)if(null==(e=e[this._parts[i]]))return!1;return e[n=this._parts[this._parts.length-1]]=t,e[n]==t}catch(e){return!1}return!1},e}(),$c=function(e,t){this.handler=e,this.self=t},Xc=function(){function e(e){this._handlers=[],this._handlersChanged=e}return e.prototype.addHandler=function(e,t){e=qh(e),this._handlers.push(new $c(e,t)),yh(this._handlersChanged)&&this._handlersChanged()},e.prototype.removeHandler=function(e,t){var n=!1;e=qh(e);for(var i=0;i<this._handlers.length;i++){var r=this._handlers[i];if(!(r.handler!=e&&null!=e||r.self!=t&&null!=t)&&(this._handlers.splice(i--,1),n=!0,e&&t))break}n&&yh(this._handlersChanged)&&this._handlersChanged()},e.prototype.removeAllHandlers=function(){var e=this._handlers.length>0;this._handlers.length=0,e&&yh(this._handlersChanged)&&this._handlersChanged()},e.prototype.raise=function(e,t){void 0===t&&(t=Qc.empty);for(var n=this._handlers,i=0;i<n.length;i++){var r=n[i];r.handler.call(r.self,e,t),n[i]!==r&&i--}},Object.defineProperty(e.prototype,"hasHandlers",{get:function(){return this._handlers.length>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"handlerCount",{get:function(){return this._handlers.length},enumerable:!0,configurable:!0}),e}(),Qc=function(){function e(){}return e.empty=new e,e}(),eh=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cancel=!1,t}return vc(t,e),t}(Qc),th=function(e){function t(t,n,i){var r=e.call(this)||this;return r._name=t,r._oldVal=n,r._newVal=i,r}return vc(t,e),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"oldValue",{get:function(){return this._oldVal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newValue",{get:function(){return this._newVal},enumerable:!0,configurable:!0}),t}(Qc),nh=function(e){function t(t,n){var i=e.call(this)||this;return i._xhr=t,i._msg=n,i}return vc(t,e),Object.defineProperty(t.prototype,"request",{get:function(){return this._xhr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this._msg},set:function(e){this._msg=e},enumerable:!0,configurable:!0}),t}(eh);(Jc=Kc||(Kc={}))[Jc.Add=0]="Add",Jc[Jc.Remove=1]="Remove",Jc[Jc.Change=2]="Change",Jc[Jc.Reset=3]="Reset";var ih,rh,oh=function(e){function t(t,n,i){void 0===t&&(t=Kc.Reset),void 0===n&&(n=null),void 0===i&&(i=-1);var r=e.call(this)||this;return r.action=t,r.item=n,r.index=i,r}return vc(t,e),t.reset=new t(Kc.Reset),t}(Qc),sh=function(){function e(e,t){this._bnd=new Zc(e),this._asc=t}return Object.defineProperty(e.prototype,"property",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ascending",{get:function(){return this._asc},enumerable:!0,configurable:!0}),e}(),lh=function(e){function t(t){var n=e.call(this)||this;return n.newPageIndex=t,n}return vc(t,e),t}(eh),ah=function(){function e(){}return e.prototype.groupNameFromItem=function(e,t){return""},e.prototype.namesMatch=function(e,t){return e===t},e}(),uh=function(e){function t(t,n){var i=e.call(this)||this;return i._bnd=new Zc(t),i._converter=n,i}return vc(t,e),Object.defineProperty(t.prototype,"propertyName",{get:function(){return this._bnd.path},enumerable:!0,configurable:!0}),t.prototype.groupNameFromItem=function(e,t){return this._converter?this._converter(e,this.propertyName):this._bnd.getValue(e)},t.prototype.namesMatch=function(e,t){return e===t},t}(ah);function ch(){return"5.20211.794"}function hh(e){ep._licKey=e}function dh(e,t){return null==e?null:fh(t)?yh(e.implementsInterface)&&e.implementsInterface(t)?e:null:e instanceof t?e:null}function ph(e){return fh(e)||_h(e)||vh(e)||wh(e)}function fh(e){return"string"==typeof e}function gh(e){return!e||!/\S/.test(e)}function _h(e){return"number"==typeof e}function mh(e){return _h(e)&&e==Math.round(e)}function vh(e){return"boolean"==typeof e}function yh(e){return"function"==typeof e}function bh(e){return void 0===e}function wh(e){return(e instanceof Date||"[object Date]"===Object.prototype.toString.call(e))&&!isNaN(e.getTime())}function Ch(e){return e instanceof Array||Array.isArray(e)||"[object Array]"===Object.prototype.toString.call(e)}function Eh(e){return null!=e&&"object"==typeof e&&!wh(e)&&!Ch(e)}function xh(e){for(var t in e)return!1;return!0}function Sh(e){for(var t=e,n=0;null!=document.getElementById(t);n++)t=e+n;return t}function Th(e){if(e instanceof Td)return e;if(e&&e.touches&&e.touches.length>0&&(e=e.touches[0]),_h(e.clientX)&&_h(e.clientY))return new Td(e.clientX+pageXOffset,e.clientY+pageYOffset);throw"Mouse or touch event expected."}function Ih(e){return _h(e)?rh.Number:vh(e)?rh.Boolean:wh(e)?rh.Date:fh(e)?rh.String:Ch(e)?rh.Array:rh.Object}function Ph(e){var t=[];if(e&&e.length>0){var n=e[0];for(var i in n)for(var r=null,o=0;o<e.length&&o<1e3&&null==r;o++)if(ph(r=e[o][i])){var s=Object.getOwnPropertyDescriptor(e[o],i);t.push({binding:i,dataType:Ih(r),isReadOnly:s&&!s.writable&&!s.set})}}return t}function Dh(e,t,n,i){if(null!=e){var r=rh;if(fh(e))switch(t){case r.Number:var o=Hd.parseFloat(e,n);return isNaN(o)?e:o;case r.Date:var s=Hd.parseDate(e,n,wh(i)?i:null);return s||n||!e||(s=new Date(e)),s&&isFinite(s.getTime())?s:e;case r.Boolean:switch(e.toLowerCase()){case"true":return!0;case"false":return!1}return e;case r.Array:try{var l=e.split(",").map(function(e){return(e=e.trim()).match(/^(\+|\-)?\d+\.?\d*$/)?e:'"'+e+'"'});return JSON.parse("["+l.join(",")+"]")}catch(e){}}if(t==rh.String)return Hd.format(e,n)}return e}function Rh(e,t,n){if(n){var i=(r=e.toString()).indexOf(".");r.indexOf("e")<0&&i>-1&&(r=r.substr(0,i+1+t),e=parseFloat(r))}else{var r=e.toFixed(t);e=parseFloat(r)}return e}function kh(e,t,n){if((e=Vh(e)).match(/\{.*"count".*:.*"when".*:.*\}/))try{var i=JSON.parse(e);if(fh(i.count)){var r=t[i.count],o=i.when;if(_h(r)&&Eh(o)){var s=o[r]||o.other;fh(s)&&(e=s)}}}catch(e){}return e.replace(/\{(.*?)(:(.*?))?\}/g,function(e,i,r,o){var s=e;return i&&"{"!=i[0]&&t&&(s=new Zc(i).getValue(t),o&&(s=Hd.format(s,o)),n&&(s=n(t,i,o,s))),null==s?"":s})}function Oh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[],i=-1;return e[0].forEach(function(t,r){if(r>0&&r!=i){var o=e[r],s=t.match(/^:([a-z][0-9]*\b)/i)||t.match(/^:'(.+?)'/)||t.match(/^:"(.+?)"/);s?(o=Hd.format(o,s[1]),t=t.substr(s[0].length)):":"==t&&r<e.length-1&&(_h(o)||wh(o))&&(o=Hd.format(o,e[r+1]),t="",i=r+1),n.push(o)}t&&n.push(t)}),n.join("")}function Ah(e,t){return kc()?(e=e.replace(/:\${([^}]*)}/g,function(e,n){return":"+jh(n,t)})).replace(/\${([^}]*)}(:(([A-Za-z]\d*)|"([^"]+)"|'([^']+)'))?/g,function(e,n,i,r,o,s,l){var a=jh(n,t);return r?Hd.format(a,o||s||l):a}):jh(e,t)}function jh(e,t){(t=t||{}).glbz=Oh;var n=Object.keys(t),i=n.map(function(e){return t[e]});return(kc()?new(Function.bind.apply(Function,[void 0].concat(n,["return "+e]))):new(Function.bind.apply(Function,[void 0].concat(n,["return glbz`"+e+"`"])))).apply(void 0,i)}function Mh(e,t,n){return null!=e&&(null!=n&&e>n&&(e=n),null!=t&&e<t&&(e=t)),e}function Hh(e,t){if(t)for(var n in t)if("_"!=n[0]){Fh(n in e,'Unknown property "'+n+'".');var i=t[n];e._copy&&e._copy(n,i)||(e[n]instanceof Xc?yh(i)&&e[n].addHandler(i):!Eh(i)||"undefined"!=typeof Element&&i instanceof Element||!e[n]||"itemsSource"==n?e[n]=i:Hh(e[n],i))}return e}function Fh(e,t){if(!e){t="** Assertion failed in Wijmo: "+t;var n=new Error;throw fh(n.stack)&&(t+=" "+n.stack),t}}function Lh(e,t){console.error('** WARNING: "'+e+'" has been deprecated; please use "'+t+'" instead.')}function Vh(e,t){return void 0===t&&(t=!0),bh(e)&&(e=null),Fh(t&&null==e||fh(e),"String expected."),e}function Nh(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),Fh(t&&null==e||_h(e),"Number expected."),n&&e&&e<0)throw"Positive number expected.";return e}function zh(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),Fh(t&&null==e||mh(e),"Integer expected."),n&&e&&e<0)throw"Positive integer expected.";return e}function Bh(e,t){return void 0===t&&(t=!1),Fh(t&&null==e||vh(e),"Boolean expected."),e}function Wh(e,t){if(void 0===t&&(t=!1),fh(e)){var n=Dh(e,rh.Date,"r");wh(n)&&(e=n)}return Fh(t&&null==e||wh(e),"Date expected."),e}function qh(e,t){return void 0===t&&(t=!0),Fh(t&&null==e||yh(e),"Function expected."),e}function Uh(e,t){return void 0===t&&(t=!0),Fh(t&&null==e||Ch(e),"Array expected."),e}function Gh(e,t,n){return void 0===n&&(n=!1),e=dh(e,t),Fh(n||null!=e,t+" expected."),e}function Yh(e,t,n){if(void 0===n&&(n=!1),null==e&&n)return null;var i=fh(e)?t[e]:e;return Fh(null!=i,'Invalid enum value: "'+e+'"'),_h(i)?i:e}function Kh(e,t){if(void 0===t&&(t=!0),null==e&&t)return null;var n=dh(e,"ICollectionView");return null!=n?n:(Ch(e)||Fh(!1,"Array or ICollectionView expected."),new Kd(e))}function Jh(e){return null!=e&&null!=e.items&&e.items.length>0}function Zh(e){return e&&e.length?e[0].toUpperCase()+e.substr(1).replace(/([a-z])([A-Z])/g,"$1 $2"):""}function $h(e){return e&&fh(e)&&(e=e.replace(/[&<>"'\/]/g,function(e){return Qh[e]})),null!=e?e.toString():""}!function(e){e[e.Back=8]="Back",e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.Space=32]="Space",e[e.PageUp=33]="PageUp",e[e.PageDown=34]="PageDown",e[e.End=35]="End",e[e.Home=36]="Home",e[e.Left=37]="Left",e[e.Up=38]="Up",e[e.Right=39]="Right",e[e.Down=40]="Down",e[e.Delete=46]="Delete",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12"}(ih||(ih={})),function(e){e[e.Object=0]="Object",e[e.String=1]="String",e[e.Number=2]="Number",e[e.Boolean=3]="Boolean",e[e.Date=4]="Date",e[e.Array=5]="Array"}(rh||(rh={}));var Xh,Qh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function ed(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function td(e){var t=Vh(e);return fh(t)&&t.indexOf("<")>-1&&(Xh||(Xh=document.createElement("div")),Xh.innerHTML=t,t=Xh.textContent),t}function nd(e,t){if(e&&t){if(e instanceof HTMLElement&&e.classList&&!Ac())return e.classList.contains(t);if(e.getAttribute){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");return e&&n.test(e.getAttribute("class"))}}return!1}function id(e,t){if(e&&t){if(e instanceof HTMLElement&&e.classList&&!Ac())return void(t.indexOf(" ")<0?e.classList.add(t):t.split(" ").forEach(function(t){e.classList.add(t)}));e.setAttribute&&t.split(" ").forEach(function(t){if(!nd(e,t)){var n=e.getAttribute("class");e.setAttribute("class",n?n+" "+t:t)}})}}function rd(e,t){if(e&&t){if(e instanceof HTMLElement&&e.classList&&!Ac())return void(t.indexOf(" ")<0?e.classList.remove(t):t.split(" ").forEach(function(t){e.classList.remove(t)}));e.setAttribute&&t.split(" ").forEach(function(t){if(nd(e,t)){var n=new RegExp("((\\s|^)"+t+"(\\s|$))","g"),i=e.getAttribute("class");(i=i.replace(n," ").replace(/ +/g," ").trim())?e.setAttribute("class",i):e.removeAttribute("class")}})}}function od(e,t,n){null==n&&(n=!nd(e,t)),n?id(e,t):rd(e,t)}function sd(e,t,n,i){e&&(null!=n?i&&e.getAttribute(t)||e.setAttribute(t,n.toString()):e.removeAttribute(t))}function ld(e,t){var n=null==t;e.checked=kc()?t||n:t,e.indeterminate=n}function ad(e,t){sd(e,"aria-label",t)}function ud(e,t,n){if(void 0===n&&(n=t),Fh(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected"),yd(document.body,e)&&!e.disabled&&e.offsetHeight){try{e.setSelectionRange(t,n,"backward")}catch(e){}try{return e.focus(),!0}catch(e){}}return!1}function cd(e){var t="autocomplete",n=e.getAttribute(t);n&&"on"!=n||e.setAttribute(t,"off"),"autocorrect,autocapitalize,spellcheck".split(",").forEach(function(t){e.setAttribute(t,"spellcheck"==t?"false":"off")})}function hd(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function dd(){var e=document.activeElement;if(e){var t=e.shadowRoot;t&&t.activeElement&&(e=t.activeElement)}return e}function pd(e,t){var n=fd(e),i=0;if(t){var r=n.indexOf(dd());r>-1&&(i=(r+t+n.length)%n.length)}if(i<n.length){var o=n[i];return o.focus(),o instanceof HTMLInputElement&&o.select(),!0}return!1}function fd(e){var t=[],n=Array.prototype.slice.call(e.querySelectorAll("input,select,textarea,button,a,div"));n.sort(function(e,t){return e.tabIndex-t.tabIndex});for(var i=0;i<n.length;i++){var r=n[i];if(r.offsetHeight>0&&r.tabIndex>-1&&!r.disabled&&!bd(r,"[disabled],.wj-state-disabled")){if(r instanceof HTMLAnchorElement&&!r.hasAttribute("href"))continue;if(kc()&&!r.hasAttribute("tabindex")){if(r instanceof HTMLDivElement)continue;var o=ep.getControl(bd(r,".wj-flexgrid"));if(o&&0==o.keyActionTab)continue}!ep.getControl(r)&&fd(r).length||t.push(r)}}return t}function gd(e,t,n){void 0===n&&(n="text/plain"),(n.match(/\bcsv\b/i)||t.match(/\.csv$/i))&&(e="\ufeff"+e);var i=new Blob([e],{type:n});if(yh(navigator.msSaveBlob))navigator.msSaveBlob(i,t);else{var r=URL.createObjectURL(i),o=md('<a href="'+r+'" download="'+t+'"></a>',document.body,{display:"none"});o.click(),o.remove(),URL.revokeObjectURL(r)}}function _d(e){if(e instanceof Element)return e;if(fh(e))try{return document.querySelector(e)}catch(e){}return e&&e.jquery?e[0]:null}function md(e,t,n){e=e.replace(/\bstyle\s*=\s*"/g,'_wj-style="');var i=document.createElement("div");if(i.innerHTML=e,e.indexOf("_wj-style")>-1)for(var r=i.querySelectorAll("[_wj-style]"),o=function(e){var t=r[e];t.getAttribute("_wj-style").split(";").forEach(function(e){var n=e.split(":");2==n.length&&(t.style[n[0].trim()]=n[1].trim())}),t.removeAttribute("_wj-style")},s=0;s<r.length;s++)o(s);return 1==i.children.length&&(i=i.children[0]),n&&xd(i,n),t&&(t=_d(t)).appendChild(i),i}function vd(e,t){e.textContent=t||""}function yd(e,t,n){for(var i=t;i&&e;){if(i===e)return!0;i=(n?i[ep._OWNR_KEY]:null)||i.parentNode||i.host}return!1}function bd(e,t){if(e){if(yh(e.closest))return e.closest(t);var n=e.matches||e.webkitMatchesSelector||e.msMatchesSelector||e.mozMatchesSelector;if(n)for(;e&&1===e.nodeType;e=e.parentElement||e.parentNode)if(n.call(e,t))return e}return null}function wd(e,t){return bd(e,"."+t)}function Cd(e,t){var n=!t,i="disabled";od(e,"wj-state-disabled",n),sd(e,i,n?i:null);for(var r=e.querySelectorAll("input,button"),o=0;o<r.length;o++)sd(r[o],i,n?i:null)}function Ed(e){var t=e.getBoundingClientRect();return new Pd(t.left+pageXOffset,t.top+pageYOffset,t.width,t.height)}function xd(e,t){if(Fh(Eh(t),"css parameter should be an object"),e instanceof Array)for(var n=0;n<e.length;n++)xd(e[n],t);else if(e&&e.style){var i=e.style;for(var r in t){var o=t[r];"number"==typeof o&&r.match(/width|height|left|top|right|bottom|size|padding|margin'/i)&&(o+="px"),i[r]!==o&&(i[r]=o)}}}function Sd(e,t,n){null==t&&(t=ep._ANIM_DEF_DURATION),null==n&&(n=ep._ANIM_DEF_STEP),e=qh(e),t=Nh(t,!1,!0),n=Nh(n,!1,!0);var i,r=Date.now(),o=setInterval(function(){var n=Math.min(1,(Date.now()-r)/t);n=Math.sin(n*Math.PI/2),n*=n,i&&cancelAnimationFrame(i),i=requestAnimationFrame(function(){i=null,e(n)}),n>=1&&clearInterval(o)},n);return o}var Td=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=Nh(e),this.y=Nh(t)}return e.prototype.equals=function(t){return t instanceof e&&this.x==t.x&&this.y==t.y},e.prototype.clone=function(){return new e(this.x,this.y)},e}(),Id=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.width=Nh(e),this.height=Nh(t)}return e.prototype.equals=function(t){return t instanceof e&&this.width==t.width&&this.height==t.height},e.prototype.clone=function(){return new e(this.width,this.height)},e}(),Pd=function(){function e(e,t,n,i){this.left=Nh(e),this.top=Nh(t),this.width=Nh(n),this.height=Nh(i)}return Object.defineProperty(e.prototype,"right",{get:function(){return this.left+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.top+this.height},enumerable:!0,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height},e.prototype.clone=function(){return new e(this.left,this.top,this.width,this.height)},e.fromBoundingRect=function(t){return null!=t.left?new e(t.left,t.top,t.width,t.height):null!=t.x?new e(t.x,t.y,t.width,t.height):void Fh(!1,"Invalid source rectangle.")},e.union=function(t,n){var i=Math.min(t.left,n.left),r=Math.min(t.top,n.top);return new e(i,r,Math.max(t.right,n.right)-i,Math.max(t.bottom,n.bottom)-r)},e.intersection=function(t,n){var i=Math.max(t.left,n.left),r=Math.max(t.top,n.top);return new e(i,r,Math.min(t.right,n.right)-i,Math.min(t.bottom,n.bottom)-r)},e.prototype.contains=function(t){return t instanceof Td?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom:t instanceof e?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom:void Fh(!1,"Point or Rect expected.")},e.prototype.inflate=function(t,n){return new e(this.left-t,this.top-n,this.width+2*t,this.height+2*n)},e}(),Dd=function(){function e(){}return e.addDays=function(e,t){return(e=new Date(e.getTime())).setDate(e.getDate()+t),e},e.addMonths=function(e,t){var n=(e=new Date(e.getTime())).getDate();return e.setMonth(e.getMonth()+t),e.getDate()!=n&&e.setDate(0),e},e.addYears=function(e,t){return(e=new Date(e.getTime())).setFullYear(e.getFullYear()+t),e},e.addHours=function(e,t){return(e=new Date(e.getTime())).setHours(e.getHours()+t),e},e.addMinutes=function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e},e.addSeconds=function(e,t){return(e=new Date(e.getTime())).setSeconds(e.getSeconds()+t),e},e.weekFirst=function(t,n){return void 0===n&&(n=Hd.getFirstDayOfWeek()),e.addDays(t,-(t.getDay()-n))},e.weekLast=function(t,n){return void 0===n&&(n=Hd.getFirstDayOfWeek()),t=e.weekFirst(t,n),e.addDays(t,6)},e.monthFirst=function(t){return e.addDays(t,1-t.getDate())},e.monthLast=function(t){return t=e.monthFirst(t),t=e.addMonths(t,1),e.addDays(t,-1)},e.yearFirst=function(e){return new Date(e.getFullYear(),0,1)},e.yearLast=function(e){return new Date(e.getFullYear(),11,31)},e.sameDate=function(e,t){return wh(e)&&wh(t)&&e.getFullYear()==t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()},e.sameTime=function(e,t){return wh(e)&&wh(t)&&e.getHours()==t.getHours()&&e.getMinutes()==t.getMinutes()&&e.getSeconds()==t.getSeconds()&&e.getMilliseconds()==t.getMilliseconds()},e.equals=function(e,t){return e==t||wh(e)&&wh(t)&&e.getTime()==t.getTime()},e.fromDateTime=function(t,n){return t||n?(t||(t=n),n||(n=t),e.newDate(t.getFullYear(),t.getMonth(),t.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())):null},e.toFiscal=function(t,n){var i=Md.Globalize.calendar;return Ch(i.fiscalYearOffsets)?e.addMonths(t,-i.fiscalYearOffsets[n?0:1]):t},e.fromFiscal=function(t,n){var i=Md.Globalize.calendar;return Ch(i.fiscalYearOffsets)?e.addMonths(t,+i.fiscalYearOffsets[n?0:1]):t},e.newDate=function(e,t,n,i,r,o,s){if(null==e||null==t||null==n){var l=new Date;null==e&&(e=l.getFullYear()),null==t&&(t=l.getMonth()),null==n&&(n=l.getDate())}null==i&&(i=0),null==r&&(r=0),null==o&&(o=0),null==s&&(s=0);var a=new Date(e,t,n,i,r,o,s),u=a.getFullYear();return e<100&&u>=1900&&a.setFullYear(a.getFullYear()-1900),a},e.clone=function(t){return e.fromDateTime(t,t)},e}();function Rd(e,t){var n=t||{},i=n.method?Vh(n.method).toUpperCase():"GET",r=null==n.async||Bh(n.async),o=n.data;if(null!=o&&"GET"==i){var s=[];for(var l in o){var a=o[l];wh(a)&&(a=a.toJSON()),s.push(l+"="+encodeURIComponent(a))}if(s.length){var u=e.indexOf("?")<0?"?":"&";e+=u+s.join("&")}o=null}var c=new XMLHttpRequest;c.URL_DEBUG=e;var h=!1;if(null==o||fh(o)||(h=Eh(o),o=JSON.stringify(o)),c.onload=function(){4==c.readyState&&(c.status<300?n.success&&qh(n.success)(c):n.error&&qh(n.error)(c),n.complete&&qh(n.complete)(c))},c.onerror=function(){if(!yh(n.error))throw"HttpRequest Error: "+c.status+" "+c.statusText;n.error(c)},c.open(i,e,r,n.user,n.password),n.user&&n.password&&c.setRequestHeader("Authorization","Basic "+btoa(n.user+":"+n.password)),h&&c.setRequestHeader("Content-Type","application/json"),n.requestHeaders)for(var d in n.requestHeaders)c.setRequestHeader(d,n.requestHeaders[d]);return _h(n.timeout)&&(c.timeout=n.timeout),yh(n.beforeSend)&&n.beforeSend(c),c.send(o),c}var kd={};function Od(e,t){if(kd[e]=t,"wijmo"===e){var n="undefined"!=typeof window?window:"undefined"!=typeof self?self:null;n&&(n.wijmo=t)}}function Ad(e){return kd[e]}var jd=function(){function e(e){this._r=0,this._g=0,this._b=0,this._a=1,e&&this._parse(e)}return Object.defineProperty(e.prototype,"r",{get:function(){return this._r},set:function(e){this._r=Mh(Nh(e),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"g",{get:function(){return this._g},set:function(e){this._g=Mh(Nh(e),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"b",{get:function(){return this._b},set:function(e){this._b=Mh(Nh(e),0,255)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a",{get:function(){return this._a},set:function(e){this._a=Mh(Nh(e),0,1)},enumerable:!0,configurable:!0}),e.prototype.equals=function(t){return t instanceof e&&this.r==t.r&&this.g==t.g&&this.b==t.b&&this.a==t.a},e.prototype.toString=function(){var e=Math.round(100*this.a);return e>99?"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1):"rgba("+this.r+","+this.g+","+this.b+","+e/100+")"},e.fromRgba=function(t,n,i,r){void 0===r&&(r=1);var o=new e(null);return o.r=Math.round(Mh(Nh(t),0,255)),o.g=Math.round(Mh(Nh(n),0,255)),o.b=Math.round(Mh(Nh(i),0,255)),o.a=Mh(Nh(r),0,1),o},e.fromHsb=function(t,n,i,r){void 0===r&&(r=1);var o=e._hsbToRgb(Mh(Nh(t),0,1),Mh(Nh(n),0,1),Mh(Nh(i),0,1));return e.fromRgba(o[0],o[1],o[2],r)},e.fromHsl=function(t,n,i,r){void 0===r&&(r=1);var o=e._hslToRgb(Mh(Nh(t),0,1),Mh(Nh(n),0,1),Mh(Nh(i),0,1));return e.fromRgba(o[0],o[1],o[2],r)},e.fromString=function(t){var n=new e(null);return n._parse(Vh(t))?n:null},e.prototype.getHsb=function(){return e._rgbToHsb(this.r,this.g,this.b)},e.prototype.getHsl=function(){return e._rgbToHsl(this.r,this.g,this.b)},e.interpolate=function(t,n,i){i=Mh(Nh(i),0,1);var r=e._rgbToHsl(t.r,t.g,t.b),o=e._rgbToHsl(n.r,n.g,n.b),s=1-i,l=t.a*s+n.a*i,a=[r[0]*s+o[0]*i,r[1]*s+o[1]*i,r[2]*s+o[2]*i],u=e._hslToRgb(a[0],a[1],a[2]);return e.fromRgba(u[0],u[1],u[2],l)},e.toOpaque=function(t,n){if(1==(t=fh(t)?e.fromString(t):Gh(t,e)).a)return t;n=null==n?e.fromRgba(255,255,255,1):fh(n)?e.fromString(n):Gh(n,e);var i=t.a,r=1-i;return e.fromRgba(t.r*i+n.r*r,t.g*i+n.g*r,t.b*i+n.b*r)},e.prototype._parse=function(t){if("transparent"==(t=t.toLowerCase()))return this._r=this._g=this._b=this._a=0,!0;if(t&&0!=t.indexOf("#")&&0!=t.indexOf("rgb")&&0!=t.indexOf("hsl")){var n=document.createElement("div");n.style.color=t;var i=n.style.color;i!=t||(i=window.getComputedStyle(n).color)||(document.body.appendChild(n),i=window.getComputedStyle(n).color,hd(n)),t=i.toLowerCase()}if(0==t.indexOf("#"))return 4==t.length?(this.r=parseInt(t[1]+t[1],16),this.g=parseInt(t[2]+t[2],16),this.b=parseInt(t[3]+t[3],16),this.a=1,!0):7==t.length&&(this.r=parseInt(t.substr(1,2),16),this.g=parseInt(t.substr(3,2),16),this.b=parseInt(t.substr(5,2),16),this.a=1,!0);if(0==t.indexOf("rgb")){var r=t.indexOf("("),o=t.indexOf(")");if(r>-1&&o>-1&&(s=t.substr(r+1,o-(r+1)).split(",")).length>2)return this.r=parseInt(s[0]),this.g=parseInt(s[1]),this.b=parseInt(s[2]),this.a=s.length>3?parseFloat(s[3]):1,!0}var s;if(0==t.indexOf("hsl")&&(r=t.indexOf("("),o=t.indexOf(")"),r>-1&&o>-1&&(s=t.substr(r+1,o-(r+1)).split(",")).length>2)){var l=parseInt(s[0])/360,a=parseInt(s[1]),u=parseInt(s[2]);s[1].indexOf("%")>-1&&(a/=100),s[2].indexOf("%")>-1&&(u/=100);var c=e._hslToRgb(l,a,u);return this.r=c[0],this.g=c[1],this.b=c[2],this.a=s.length>3?parseFloat(s[3]):1,!0}return!1},e._hslToRgb=function(t,n,i){var r,o,s;if(Fh(t>=0&&t<=1&&n>=0&&n<=1&&i>=0&&i<=1,"bad HSL values"),0==n)r=o=s=i;else{var l=i<.5?i*(1+n):i+n-i*n,a=2*i-l;r=e._hue2rgb(a,l,t+1/3),o=e._hue2rgb(a,l,t),s=e._hue2rgb(a,l,t-1/3)}return[Math.round(255*r),Math.round(255*o),Math.round(255*s)]},e._hue2rgb=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},e._rgbToHsl=function(e,t,n){Fh(e>=0&&e<=255&&t>=0&&t<=255&&n>=0&&n<=255,"bad RGB values"),e/=255,t/=255,n/=255;var i,r,o=Math.max(e,t,n),s=Math.min(e,t,n),l=(o+s)/2;if(o==s)i=r=0;else{var a=o-s;switch(r=l>.5?a/(2-o-s):a/(o+s),o){case e:i=(t-n)/a+(t<n?6:0);break;case t:i=(n-e)/a+2;break;case n:i=(e-t)/a+4}i/=6}return[i,r,l]},e._rgbToHsb=function(t,n,i){Fh(t>=0&&t<=255&&n>=0&&n<=255&&i>=0&&i<=255,"bad RGB values");var r=e._rgbToHsl(t,n,i);return e._hslToHsb(r[0],r[1],r[2])},e._hsbToRgb=function(t,n,i){var r=e._hsbToHsl(t,n,i);return e._hslToRgb(r[0],r[1],r[2])},e._hsbToHsl=function(e,t,n){Fh(e>=0&&e<=1&&t>=0&&t<=1&&n>=0&&n<=1,"bad HSB values");var i=Mh(n*(2-t)/2,0,1),r=1-Math.abs(2*i-1),o=Mh(r>0?n*t/r:t,0,1);return Fh(!isNaN(i)&&!isNaN(o),"bad conversion to HSL"),[e,o,i]},e._hslToHsb=function(e,t,n){Fh(e>=0&&e<=1&&t>=0&&t<=1&&n>=0&&n<=1,"bad HSL values");var i=Mh(1==n?1:(2*n+t*(1-Math.abs(2*n-1)))/2,0,1),r=Mh(i>0?2*(i-n)/i:t,0,1);return Fh(!isNaN(i)&&!isNaN(r),"bad conversion to HSB"),[e,r,i]},e}(),Md="undefined"!=typeof window&&window.wijmo&&window.wijmo.culture||{Globalize:{numberFormat:{".":".",",":",","-":"-","+":"+","%":"%",percent:{pattern:["-n%","n%"]},currency:{decimals:2,symbol:"$",pattern:["($n)","$n"]}},calendar:{"/":"/",":":":",firstDay:0,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],am:["AM","A"],pm:["PM","P"],eras:["A.D.","B.C."],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",t:"h:mm tt",T:"h:mm:ss tt",M:"MMMM d",m:"MMMM d",Y:"MMMM, yyyy",y:"MMMM, yyyy",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",s:'yyyy"-"MM"-"dd"T"HH":"mm":"ss',o:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',O:'yyyy"-"MM"-"dd"T"HH":"mm":"ss"."fffffffK',U:"dddd, MMMM dd, yyyy h:mm:ss tt"},fiscalYearOffsets:[-3,-3]}}},Hd=function(){function e(){}return e.format=function(t,n,i,r,o){return fh(t)?t:_h(t)?(n=n||(t==Math.round(t)?"n0":"n2"),e.formatNumber(t,n,i,r,o)):wh(t)?e.formatDate(t,n=n||"d"):null!=t?t.toString():""},e.formatNumber=function(t,n,i,r,o){t=Nh(t),n=Vh(n);var s,l=Md.Globalize.numberFormat,a=e._parseNumericFormat(n),u=a.spec,c=a.prec,h=l["."]||".",d=l[","]||",",p=l["-"]||"-",f=Math;if(null==c&&(c=null!=o?o:"c"==u?l.currency.decimals:"e"==u?6:"r"==u?15:t==f.round(t)?0:2),a.scale&&(t/=f.pow(10,a.scale)),"d"==u||"x"==u){for(s=(r?f.floor:f.round)(f.abs(t)).toString("d"==u?10:16);s.length<c;)s="0"+s;return t<0&&(s=p+s),"X"==a.specRaw?s.toUpperCase():s}switch("p"==u&&(t=Rh(t=e._shiftDecimal(t,2),c,r)),r&&"p"!=u&&"e"!=u&&(t=Rh(t,c,!0)),u){case"e":s=t.toExponential(c),"E"==a.specRaw&&(s=s.replace("e","E"));break;case"c":case"p":s=e._toFixedStr(f.abs(t),c);break;default:"-"!=(s=e._toFixedStr(t,c))[0]||s.match(/[1-9]/)||(s=s.substr(1))}if((i||"g"==u||"r"==u)&&s.indexOf(".")>-1&&(s=s.replace(/(\.\d*?)0+$/g,"$1").replace(/\.$/,"")),"."!=h&&(s=s.replace(".",h)),"-"!=p&&(s=s.replace("-",p)),d&&("n"==u||"c"==u||"p"==a.specRaw||"F"==a.specRaw||"G"==a.specRaw)){var g=s.indexOf(h),_=/\B(?=(\d\d\d)+(?!\d))/g;s=g>-1?s.substr(0,g).replace(_,d)+s.substr(g):s.replace(_,d)}if("c"==u){var m=t<0&&s.match(/[1-9]/)?0:1,v=l.currency.pattern[m],y=a.curr||l.currency.symbol;"\u200b"==y&&(y=""),s=v.replace("n",s).replace("$",y)}if("p"==u){m=t<0&&s.match(/[1-9]/)?0:1;var b=l["%"]||"%";s=(v=l.percent.pattern[m]).replace("n",s),"%"!=b&&(s=s.replace("%",b)),"-"!=p&&0==m&&(s=s.replace("-",p))}return a.prefix||a.suffix?a.prefix+s+a.suffix:s},e.formatDate=function(t,n){switch(t=Wh(t),n){case"r":case"R":return t.toUTCString();case"u":return t.toISOString().replace(/\.\d{3}/,"")}return n=e._expandFormat(n),e._parseDateFormat(n).map(function(i){return e._formatDatePart(t,n,i)}).join("")},e.parseInt=function(t,n){return Math.round(e.parseFloat(t,n))},e.parseFloat=function(t,n){var i=e._parseNumericFormat(n),r=i.prefix;r&&0==t.indexOf(r)&&(t=t.substring(r.length));var o=i.suffix;if(o){var s=t.lastIndexOf(o);s>-1&&s==t.length-o.length&&(t=t.substring(0,t.length-o.length))}var l=Md.Globalize.numberFormat,a=l["."]||".",u=l[","]||",",c=l["-"]||"-",h=l["%"]||"%",d=i.curr||l.currency.symbol||"$",p=t.indexOf(h)>-1,f=t.indexOf("(")>-1&&t.indexOf(")")>-1,g=0;if("x"==i.spec)g=parseInt(t,16);else{[d,h,"(",")"].forEach(function(e){t=t.replace(e,"")}),/\s/.test(u)&&(t=t.replace(/\s+/g,""));var _=(t=t.replace(new RegExp("\\"+u,"g"),"").replace(new RegExp("\\"+c,"g"),"-").replace(/(\+|\-)\s+/g,"$1").replace(a,".").trim()).length;!f&&_&&"-"==t[_-1]&&(f=!0,t=t.substring(0,_-1)),g=/^\s*(\+|\-)?\d*(\.\d*)?(\s*E(\+|\-)?\d+)?\s*$/i.test(t)?parseFloat(t):Number.NaN}return isNaN(g)||(f=f||g<0,g=Math.abs(g),p&&(g=e._shiftDecimal(g,-2)),f&&(g=-g),i.scale&&(g*=Math.pow(10,i.scale))),g},e.parseDate=function(t,n,i){if(!(t=Vh(t)))return null;if("u"==n)return new Date(t);var r;if("R"==n||"r"==n){var o=t.match(/((\d+)\-(\d+)\-(\d+))?\s?((\d+):(\d+)(:(\d+))?)?/);return o[1]||o[5]?(r=o[1]?new Date(parseInt(o[2]),parseInt(o[3])-1,parseInt(o[4])):new Date,o[5]&&(r.setHours(parseInt(o[6])),r.setMinutes(parseInt(o[7])),r.setSeconds(o[8]?parseInt(o[9]):0))):r=new Date(t),isNaN(r.getTime())?null:r}n=e._expandFormat(n||"d");var s=Md.Globalize.calendar,l=e._CJK,a=new RegExp("(\\"+s["/"]+")|(\\"+s[":"]+")|(\\d+)|(["+l+"\\.]{2,})|(["+l+"]+)","gi"),u=t.match(a),c=e._parseDateFormat(n),h=0;if(!(u&&u.length&&c&&c.length))return null;var d,p,f,g,_,m=-1,v=0,y=1,b=0,w=0,C=0,E=0,x=-1,S=null;(i=Wh(i,!0))&&(v=i.getMonth(),y=i.getDate(),b=i.getHours(),w=i.getMinutes(),C=i.getSeconds(),E=i.getMilliseconds());for(var T=0;T<c.length&&u;T++){var I=T-h,P=I>-1&&I<u.length?u[I]:"",D=c[T].length;switch(c[T]){case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":_=c[T];case"yyyy":case"yyy":case"yy":case"y":D>1&&P.length>D&&(u[I]=P.substr(D),P=P.substr(0,D),h++),m=parseInt(P),g=4==P.length;break;case"MMMM":case"MMM":f=!0,v=-1;for(var R=P.toLowerCase(),k="MMMM"==c[T]?s.months:s.monthsAbbr,O=0;O<12;O++)if(0==k[O].toLowerCase().indexOf(R)){v=O;break}if(v>-1)break;case"MM":case"M":f=!0,D>1&&P.length>D&&(u[I]=P.substr(D),P=P.substr(0,D),h++),v=parseInt(P)-1;break;case"dddd":case"ddd":d=!0;break;case"dd":case"d":D>1&&P.length>D&&(u[I]=P.substr(D),P=P.substr(0,D),h++),y=parseInt(P),p=!0;break;case"hh":case"h":D>1&&P.length>D&&(u[I]=P.substr(D),P=P.substr(0,D),h++),b=12==(b=parseInt(P))?0:b;break;case"HH":D>1&&P.length>D&&(u[I]=P.substr(D),P=P.substr(0,D),h++),b=parseInt(P);break;case"H":b=parseInt(P);break;case"mm":case"m":D>1&&P.length>D&&(u[I]=P.substr(D),P=P.substr(0,D),h++),w=parseInt(P);break;case"ss":case"s":D>1&&P.length>D&&(u[I]=P.substr(D),P=P.substr(0,D),h++),C=parseInt(P);break;case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":E=parseInt(P)/Math.pow(10,D-3);break;case"tt":case"t":P=P.toUpperCase(),b<12&&s.pm.indexOf(P)>-1&&(b+=12);break;case"q":case"Q":case"u":case"U":x=parseInt(P);break;case"ggg":case"gg":case"g":if(S=s.eras.length>1?e._getEra(P,s):null,s.eras.length>0&&!S)return null;break;case"/":case":":if(P&&P!=s[c[T]])return null;break;case s["/"]:case s[":"]:if(P&&P!=c[T])return null;break;case"K":break;default:e._unquote(c[T]).trim()!=P.trim()&&h++}}if(f&&p&&(isNaN(b)&&(b=0),isNaN(w)&&(w=0),isNaN(C)&&(C=0)),v<0||v>11||isNaN(v)||y<1||y>31||isNaN(y)||b<0||b>=24||isNaN(b)||w<0||w>=60||isNaN(w)||C<0||C>=60||isNaN(C))return null;if(u.length+h>c.length)return null;if(_){if(!f)return null;var A=Md.Globalize.calendar;if(Ch(A.fiscalYearOffsets)){var j=v-A.fiscalYearOffsets["E"==_[0]?0:1];m+=j>11?-1:j<0?1:0}}if(d&&!p)return null;if(!f&&x>=1&&x<=4&&(v=3*(x-1)),isNaN(m)||m<0)m=i?i.getFullYear():(new Date).getFullYear();else if(S&&S.start)m=m+S.start.getFullYear()-1;else if(m<100&&!g){var M=_h(s.twoDigitYearMax)?s.twoDigitYearMax:2029;M>99&&(m+=m+2e3<=M?2e3:1900)}return(r=Dd.newDate(m,v,y,b,w+0,C,E)).getMonth()!=v||r.getDate()!=y||isNaN(r.getTime())?null:r},e.getFirstDayOfWeek=function(){return Md.Globalize.calendar.firstDay||0},e.getNumberDecimalSeparator=function(){return Md.Globalize.numberFormat["."]||"."},e._toFixedStr=function(e,t){var n=e.toString(),i=n.indexOf("."),r=t-(n.length-i)+1,o=n.indexOf("e")>-1;return!o&&i>-1&&r>=0?n+Array(r+1).join("0"):(i>-1&&!o&&"5"==n[n.length-1]&&(e=+(Math.round(+(Math.abs(e)+"e"+t))+"e"+-t)*(e<0?-1:1)),e.toFixed(t))},e._unquote=function(e){return e.length>1&&e[0]==e[e.length-1]&&("'"==e[0]||'"'==e[0])?e.substr(1,e.length-2):e},e._parseNumericFormat=function(t){var n=e._numFormatInfo[t];if(!n){var i=t&&t.match(/(\"(.*?)\"\s*)?([a-z]+)\s*(\d*)\s*(,*)(\s*\"(.*?)\"\s*)?(.*)/i)||[],r=i[3]?i[3]:"n";r.length>1&&(i=[],r="n"),n={prefix:i[2]||"",spec:r.toLowerCase(),specRaw:r,prec:i[4]?parseInt(i[4]):null,scale:i[5]?3*i[5].length:0,suffix:i[7]||"",curr:i[8]||null},e._numFormatInfo[t]=n}return n},e._parseDateFormat=function(t){var n=e._dateFormatParts[t];if(!n){if(n=[],t){var i=void 0,r=void 0;for(i=0;i>-1&&i<t.length;i++){var o=t[i];if(("'"==o||'"'==o)&&(r=t.indexOf(o,i+1))>-1)n.push(t.substring(i,r+1)),i=r;else if("\\"==o&&i<t.length-1)i++,n.push('"'+t[i]+'"');else{for(r=i+1;r<t.length&&t[r]==o;r++);n.push(t.substring(i,r)),i=r-1}}}e._dateFormatParts[t]=n}return n},e._formatDatePart=function(t,n,i){var r,o=Md.Globalize.calendar,s=null,l=0,a=0,u=i.length;switch(i){case"yyyy":case"yyy":case"yy":case"y":case"EEEE":case"EEE":case"EE":case"E":case"eeee":case"eee":case"ee":case"e":return l=(r="E"==i[0]?Dd.toFiscal(t,!0):"e"==i[0]?Dd.toFiscal(t,!1):t).getFullYear(),o.eras.length>1&&n.indexOf("g")>-1&&(s=e._getEra(t,o))&&(l=wh(s.start)?l-s.start.getFullYear()+1:Math.abs(l)),e._zeroPad(i.length<3?l%100:3==i.length?l%1e3:l,i.length);case"MMMMM":return o.monthsAbbr[t.getMonth()][0];case"MMMM":return o.months[t.getMonth()];case"MMM":return o.monthsAbbr[t.getMonth()];case"MM":case"M":return e._zeroPad(t.getMonth()+1,u);case"dddd":return o.days[t.getDay()];case"ddd":return o.daysAbbr[t.getDay()];case"dd":return e._zeroPad(t.getDate(),2);case"d":return t.getDate().toString();case"hh":case"h":return e._zeroPad(e._h12(t),u);case"HH":case"H":return e._zeroPad(t.getHours(),u);case"mm":case"m":return e._zeroPad(t.getMinutes(),u);case"ss":case"s":return e._zeroPad(t.getSeconds(),u);case"fffffff":case"FFFFFFF":case"ffffff":case"FFFFFF":case"fffff":case"FFFFF":case"ffff":case"FFFF":case"fff":case"FFF":case"ff":case"FF":case"f":case"F":return a=t.getMilliseconds()*Math.pow(10,u-3),"f"==i[0]?e._zeroPad(a,u):a.toFixed(0);case"tt":return t.getHours()<12?o.am[0]:o.pm[0];case"t":return t.getHours()<12?o.am[1]:o.pm[1];case"q":case"Q":return(Math.floor(t.getMonth()/3)+1).toString();case"u":case"U":return r=Dd.toFiscal(t,"U"==i),(Math.floor(r.getMonth()/3)+1).toString();case"ggg":case"gg":case"g":if(o.eras.length>1&&(s=e._getEra(t,o))){if(fh(s))return s;switch(i){case"gg":return s.name[0];case"g":return s.symbol;default:return s.name}}return o.eras[0];case":":case"/":return o[i];case"K":var c=t.toString().match(/(\+|\-)(\d{2})(\d{2})/);return c?c[1]+c[2]+c[3]:"";case"zzz":case"zz":case"z":var h=-t.getTimezoneOffset(),d=Math.abs(h),p=e.formatNumber,f=void 0;switch(i){case"zzz":f=p(d/60,"d2",!1,!0)+o[":"]+p(d%60,"d2",!1,!0);break;case"zz":f=p(d/60,"d2",!1,!0);break;case"z":f=p(d/60,"d1",!1,!0)}return(h>=0?"+":"-")+f}return u>1&&i[0]==i[u-1]&&('"'==i[0]||"'"==i[0])?i.substr(1,u-2):i},e._getEra=function(e,t){if(t.eras){var n=t.eras,i=t.eras.length;if(wh(e)){if(fh(n[0]))return n[e.getFullYear()>=0?0:1];if(wh(n[0].start)){for(var r=0;r<i;r++)if(e>=n[r].start)return n[r];return n[i-1]}}else if(fh(e)&&e.length>0)for(e=e.toLowerCase(),r=0;r<i;r++){var o=n[r];if(fh(o)){if(0==o.toLowerCase().indexOf(e))return o}else if(o.name&&0==o.name.toLowerCase().indexOf(e)||o.symbol&&0==o.symbol.toLowerCase().indexOf(e))return o}}return null},e._expandFormat=function(e){return Md.Globalize.calendar.patterns[e]||e},e._zeroPad=function(e,t){var n=e.toFixed(0),i=t-n.length+1;return i>0?Array(i).join("0")+n:n},e._h12=function(e){var t=Md.Globalize.calendar,n=e.getHours();return t.am&&t.am[0]&&0==(n%=12)&&(n=12),n},e._shiftDecimal=function(e,t){if(0==t||isNaN(e))return e;var n=e.toString();if(n.indexOf("e")>-1)return e*Math.pow(10,t);var i=Array(Math.abs(t)+1).join("0");t<0&&(n=i+n);var r=n.indexOf(".");return r<0&&(r=(n+=".").indexOf(".")),t>0&&(n+=i),r+=t,n=(n=n.replace(".","")).substr(0,r)+"."+n.substr(r),parseFloat(n)},e._CJK="a-z"+"u00c0-u017fu3000-u30ffu4e00-u9faf".replace(/u/g,"\\u")+"u1100-u11ffu3130-u318fua960-ua97fuac00-ud7afud7b0-ud7ff".replace(/u/g,"\\u"),e._numFormatInfo={},e._dateFormatParts={},e}();function Fd(e){Md=e}function Ld(e,t){var n="undefined"!=typeof window?window.wijmo:null,i=n?n.culture:null;Md[e]=(i?i[e]:null)||t}var Vd,Nd=function(){function e(e,t,n){void 0===t&&(t=""),void 0===n&&(n="_"),this._promptChar="_",this._mskArr=[],this._overWrite=!1,this._full=!0,this._inputBnd=this._input.bind(this),this._keydownBnd=this._keydown.bind(this),this._keypressBnd=this._keypress.bind(this),this._cmpstartBnd=this._cmpstart.bind(this),this._cmpendBnd=this._cmpend.bind(this),this.mask=Vh(t),this.input=e,this.promptChar=Vh(n,!1),this._connect(!0),(this._evtInput=document.createEvent("HTMLEvents")).initEvent("input",!0,!1)}return Object.defineProperty(e.prototype,"input",{get:function(){return this._tbx},set:function(e){this._connect(!1),this._tbx=e,this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._msk},set:function(e){e!=this._msk&&(this._msk=Vh(e,!0),this._parseMask(),this._valueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"promptChar",{get:function(){return this._promptChar},set:function(e){if(e!=this._promptChar){Fh(1==(e=Vh(e,!1)).length,"promptChar must be a string with length 1.");for(var t=this._tbx,n=t.value,i="",r=this._mskArr,o=this._promptChar,s=0;s<n.length;s++){var l=r[s],a=n[s];l&&l.literal||a!==o||(a=e),i+=a}t.value=i,this._promptChar=e}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"overwriteMode",{get:function(){return this._overWrite},set:function(e){this._overWrite=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maskFull",{get:function(){return this._full},enumerable:!0,configurable:!0}),e.prototype.getMaskRange=function(){return this._mskArr.length?[this._firstPos,this._lastPos]:[0,this._tbx.value.length-1]},e.prototype.getRawValue=function(){var e=this._tbx?this._tbx.value:"";if(!this.mask)return e;for(var t="",n=0;n<this._mskArr.length&&n<e.length;n++)this._mskArr[n].literal||e[n]==this._promptChar||(t+=e[n]);return t},e.prototype.refresh=function(){this._parseMask(),this._valueChanged()},e.prototype._input=function(e){var t=this;this._msk&&!this._composing&&e!=this._evtInput&&(e.preventDefault(),e.stopImmediatePropagation(),setTimeout(function(){t._valueChanged(),t._tbx&&t._tbx.dispatchEvent(t._evtInput)}))},e.prototype._keydown=function(e){if(e.keyCode==ih.Back){var t=this._tbx.selectionStart;if(t<=this._firstPos&&this._tbx.selectionEnd==t)return e.preventDefault(),void(this._backSpace=!1)}this._backSpace=e.keyCode==ih.Back},e.prototype._keypress=function(e){e.ctrlKey||e.metaKey||e.altKey||this._composing||!this._preventKey(e.charCode)||e.preventDefault()},e.prototype._cmpstart=function(e){this._composing=!0},e.prototype._cmpend=function(e){var t=this;this._composing&&(this._composing=!1,setTimeout(function(){var e=t._tbx;e&&t._valueChanged()&&e.dispatchEvent(t._evtInput)}))},e.prototype._preventKey=function(e){if(e&&this._mskArr.length){var t=this._tbx,n=t.selectionStart,i=String.fromCharCode(e);if(n<this._firstPos&&ud(t,n=this._firstPos),n>=this._mskArr.length)return!0;var r=this._mskArr[n];if(r.literal)this._validatePosition(n);else if(r.wildCard!=i&&!this._isCharValid(r.wildCard,i))return!0}return!1},e.prototype._connect=function(e){var t=this._tbx;t&&(Fh(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement,"INPUT or TEXTAREA element expected."),e?(this._autoComplete=t.autocomplete,this._spellCheck=t.spellcheck,t.autocomplete="off",t.spellcheck=!1,t.addEventListener("input",this._inputBnd,!0),t.addEventListener("keydown",this._keydownBnd,!0),t.addEventListener("keypress",this._keypressBnd,!0),t.addEventListener("compositionstart",this._cmpstartBnd,!0),t.addEventListener("compositionend",this._cmpendBnd,!0),t.addEventListener("blur",this._cmpendBnd,!0),this._valueChanged()):(t.autocomplete=this._autoComplete,t.spellcheck=this._spellCheck,t.removeEventListener("input",this._inputBnd,!0),t.removeEventListener("keydown",this._keydownBnd,!0),t.removeEventListener("keypress",this._keypressBnd,!0),t.removeEventListener("compositionstart",this._cmpstartBnd,!0),t.removeEventListener("compositionend",this._cmpendBnd,!0),t.removeEventListener("blur",this._cmpendBnd,!0)))},e.prototype._valueChanged=function(){if(!this._tbx||!this._msk)return!1;var e=this._tbx,t=e.selectionStart,n=t>0?e.value[t-1]:"",i=e.value;return e.value=this._applyMask(),""==i&&(t=this._firstPos+1),t>0&&(t>0?e.value[t-1]:"")==this._promptChar&&n!=this.promptChar&&t--,t==i.length&&(t=this._matchEnd),this._validatePosition(t),i!=e.value},e.prototype._applyMask=function(){var e=this._tbx,t=e.value;if(this._full=!0,this._matchEnd=0,!this._msk)return t;if(!t&&!e.required)return t;if(this._overWrite&&t.length==this.mask.length+1){var n=e.selectionStart;e==document.activeElement&&e.selectionEnd==n&&(t=t.substr(0,n)+t.substr(n+1))}t=this._handleVagueLiterals(t);for(var i="",r=0,o=this._promptChar,s=0;s<this._mskArr.length;s++){var l=this._mskArr[s],a=l.literal;if(a&&a==t[r]&&r++,l.wildCard){if(a=o,t){for(var u=r;u<t.length;u++)if(this._isCharValid(l.wildCard,t[u])){switch(a=t[u],l.charCase){case">":a=a.toUpperCase();break;case"<":a=a.toLowerCase()}a!=o&&(this._matchEnd=i.length+1);break}r=u+1}a==o&&(this._full=!1)}i+=a}return i},e.prototype._handleVagueLiterals=function(e){if(e.length>this._mskArr.length+1)return e;var t=e.length-this._mskArr.length;if(0!=t&&e.length>1){for(var n=-1,i=this._tbx,r=i==dd()?i.selectionStart:i.value.length,o=Math.max(0,r-t);o<this._mskArr.length;o++)if(this._mskArr[o].vague){n=o;break}if(n>-1)if(t<0){var s=Array(1-t).join(this._promptChar),l=n+t;l>-1&&(e=e.substr(0,l)+s+e.substr(l))}else{for(;n>0&&this._mskArr[n-1].literal;)n--;e=e.substr(0,n)+e.substr(n+t)}}return e},e.prototype._isCharValid=function(t,n){if(n==this._promptChar)return!0;switch(t){case"0":return this._isDigit(n);case"9":return this._isDigit(n)||" "==n;case"#":return this._isDigit(n)||" "==n||"+"==n||"-"==n;case"L":return this._isLetter(n);case"l":return this._isLetter(n)||" "==n;case"A":return this._isDigit(n)||this._isLetter(n);case"a":return this._isDigit(n)||this._isLetter(n)||" "==n;case"\uff19":return n>="\uff10"&&n<="\uff19";case"\uff2a":case"\uff27":return!("\uff27"==t&&e._X_DBCS_BIG_HIRA.indexOf(n)>-1)&&n>="\u3041"&&n<="\u309f";case"\uff2b":case"\uff2e":return!("\uff2e"==t&&e._X_DBCS_BIG_KATA.indexOf(n)>-1)&&n>="\u30a0"&&n<="\u30ff";case"\uff3a":return!(n>="\uff66"&&n<="\uff9f")&&(n<="!"||n>="\xff");case"H":return n>="!"&&n<="\xff"||n>="\uff66"&&n<="\uff9f";case"K":case"N":return!("N"==t&&e._X_SBCS_BIG_KATA.indexOf(n)>-1)&&n>="\uff66"&&n<="\uff9f"}return!1},e.prototype._isDigit=function(e){return e>="0"&&e<="9"},e.prototype._isLetter=function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"},e.prototype._validatePosition=function(e){var t=this._mskArr;if(this._backSpace)for(;e>0&&e<t.length&&t[e-1].literal;)e--;if(0==e||!this._backSpace)for(;e<t.length&&t[e].literal;)e++;dd()==this._tbx&&ud(this._tbx,e),this._backSpace=!1},e.prototype._parseMask=function(){this._mskArr=[],this._firstPos=-1,this._lastPos=-1;for(var e,t=this._msk,n="|",i=0;t&&i<t.length;i++)switch(t[i]){case"0":case"9":case"#":case"A":case"a":case"L":case"l":case"\uff19":case"\uff2a":case"\uff27":case"\uff2b":case"\uff2e":case"\uff3a":case"K":case"N":case"H":this._firstPos<0&&(this._firstPos=this._mskArr.length),this._lastPos=this._mskArr.length,this._mskArr.push(new zd(t[i],n));break;case".":case",":case":":case"/":case"$":switch(t[i]){case".":case",":e=Md.Globalize.numberFormat[t[i]];break;case":":case"/":e=Md.Globalize.calendar[t[i]];break;case"$":e=Md.Globalize.numberFormat.currency.symbol}for(var r=0;r<e.length;r++)this._mskArr.push(new zd(e[r]));break;case"<":case">":case"|":n=t[i];break;case"\\":i<t.length-1&&i++,this._mskArr.push(new zd(t[i]));break;default:this._mskArr.push(new zd(t[i]))}for(i=0;i<this._mskArr.length;i++){var o=this._mskArr[i];if(o.literal)for(r=0;r<i;r++){var s=this._mskArr[r];if(s.wildCard&&this._isCharValid(s.wildCard,o.literal)){o.vague=!0;break}}}},e._X_DBCS_BIG_HIRA="\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308e\u3095\u3096",e._X_DBCS_BIG_KATA="\u30a1\u30a3\u30a5\u30a7\u30a9\u30c3\u30e3\u30e5\u30e7\u30ee\u30f5\u30f6",e._X_SBCS_BIG_KATA="\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f",e}(),zd=function(e,t){t?(this.wildCard=e,this.charCase=t):this.literal=e};function Bd(e,t,n){var i=0,r=0,o=0,s=0,l=null,a=null,u=null,c=n?new Zc(n):null;if((e=Yh(e,Vd))==Vd.CntAll)return t.length;for(var h=0;h<t.length;h++){var d=t[h];if(c&&(d=c.getValue(d)),null!=d){if(e==Vd.First)return d;i++,(null==l||d<l)&&(l=d),(null==a||d>a)&&(a=d),u=d,_h(d)&&!isNaN(d)?(r++,o+=d,s+=d*d):vh(d)&&(r++,1==d&&(o++,s++))}}var p=0==r?0:o/r;switch(e){case Vd.Avg:return p;case Vd.Cnt:return i;case Vd.Max:return a;case Vd.Min:return l;case Vd.Rng:return a-l;case Vd.Sum:return o;case Vd.VarPop:return r<=1?0:s/r-p*p;case Vd.StdPop:return r<=1?0:Math.sqrt(s/r-p*p);case Vd.Var:return r<=1?0:(s/r-p*p)*r/(r-1);case Vd.Std:return r<=1?0:Math.sqrt((s/r-p*p)*r/(r-1));case Vd.Last:return u}throw"Invalid aggregate type."}!function(e){e[e.None=0]="None",e[e.Sum=1]="Sum",e[e.Cnt=2]="Cnt",e[e.Avg=3]="Avg",e[e.Max=4]="Max",e[e.Min=5]="Min",e[e.Rng=6]="Rng",e[e.Std=7]="Std",e[e.Var=8]="Var",e[e.StdPop=9]="StdPop",e[e.VarPop=10]="VarPop",e[e.CntAll=11]="CntAll",e[e.First=12]="First",e[e.Last=13]="Last"}(Vd||(Vd={}));var Wd=function(e){function t(){var t=this;return qd?t.length=0:t=e.call(this)||this,t}return vc(t,e),t}(Array),qd=!0;try{Wd.prototype=Array.prototype,qd=Wd.prototype===Array.prototype}catch(Jc){qd=!1}var Ud="undefined"!=typeof window?window.Symbol:null;!qd&&Ud&&Ud.species&&Object.defineProperty(Wd,Ud.species,{get:function(){return Array},enumerable:!1,configurable:!1});var Gd,Yd=function(e){function t(t){var n=e.call(this)||this;if(n._updating=0,n.collectionChanged=new Xc,t){t=Uh(t),n._updating++;for(var i=0;i<t.length;i++)n.push(t[i]);n._updating--}return n}return vc(t,e),t.prototype.push=function(){for(var t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return n.forEach(function(n){e.prototype.push.call(t,n),t._raiseCollectionChanged(Kc.Add,n,t.length-1)}),this.length},t.prototype.shift=function(){var t=e.prototype.shift.call(this);return this._raiseCollectionChanged(Kc.Remove,t,0),t},t.prototype.unshift=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=e.prototype.unshift.apply(this,t);return 1==t.length?this._raiseCollectionChanged(Kc.Add,t[0],0):this._raiseCollectionChanged(),i},t.prototype.pop=function(){var t=e.prototype.pop.call(this);return this._raiseCollectionChanged(Kc.Remove,t,this.length),t},t.prototype.splice=function(t,n){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var o,s=Kc,l=this._raiseCollectionChanged.bind(this);return n&&i.length?(o=e.prototype.splice.apply(this,[t,n].concat(i)),1==n&&1==i.length?l(s.Change,i[0],t):l()):i.length?(o=e.prototype.splice.apply(this,[t,0].concat(i)),1==i.length?l(s.Add,i[0],t):l()):(o=e.prototype.splice.call(this,t,n),1==n?l(s.Remove,o[0],t):l()),o},t.prototype.slice=function(t,n){return e.prototype.slice.call(this,t,n)},t.prototype.indexOf=function(t,n){return e.prototype.indexOf.call(this,t,n)},t.prototype.sort=function(t){var n=e.prototype.sort.call(this,t);return this._raiseCollectionChanged(),n},t.prototype.insert=function(e,t){this.splice(e,0,t)},t.prototype.remove=function(e){var t=this.indexOf(e);return t>-1&&this.removeAt(t),t>-1},t.prototype.removeAt=function(e){this.splice(e,1)},t.prototype.setAt=function(e,t){e>=this.length&&(this.length=e+1),this.splice(e,1,t)},t.prototype.clear=function(){this.length&&this.splice(0,this.length)},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this._raiseCollectionChanged()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(e){try{this.beginUpdate(),e()}finally{this.endUpdate()}},t.prototype.implementsInterface=function(e){return"INotifyCollectionChanged"==e},t.prototype.onCollectionChanged=function(e){void 0===e&&(e=oh.reset),this.isUpdating||this.collectionChanged.raise(this,e)},t.prototype._raiseCollectionChanged=function(e,t,n){if(void 0===e&&(e=Kc.Reset),!this.isUpdating){var i=new oh(e,t,n);this.onCollectionChanged(i)}},t}(Wd);!function(e){e[e.Natural=0]="Natural",e[e.First=1]="First",e[e.Last=2]="Last"}(Gd||(Gd={}));var Kd=function(){function e(e,t){var n=this;this._srcRaw=null,this._src=null,this._ncc=null,this._view=null,this._pgView=null,this._groups=null,this._fullGroups=null,this._digest="",this._idx=-1,this._filter=null,this._filters=new Yd,this._srtDsc=new Yd,this._grpDesc=new Yd,this._newItem=null,this._edtItem=null,this._edtClone=null,this._committing=!1,this._canceling=!1,this._pendingRefresh=!1,this._pendingRemove=!1,this._pgSz=0,this._pgIdx=0,this._updating=0,this._stableSort=!1,this._srtNulls=Gd.Last,this._canFilter=!0,this._canGroup=!0,this._canSort=!0,this._canAddNew=!0,this._canCancelEdit=!0,this._canRemove=!0,this._canChangePage=!0,this._refreshOnEdit=!0,this._trackChanges=!1,this._chgAdded=new Yd,this._chgRemoved=new Yd,this._chgEdited=new Yd,this._orgVals=window.Map?new Map:null,this._srtCvt=null,this._srtCmp=null,this._getError=null,this._keepCurrentItem=null,this._initializing=!1,this.collectionChanged=new Xc,this.sourceCollectionChanging=new Xc,this.sourceCollectionChanged=new Xc,this.currentChanged=new Xc,this.currentChanging=new Xc,this.pageChanged=new Xc,this.pageChanging=new Xc,this._srtDsc.collectionChanged.addHandler(function(){n._srtDsc.forEach(function(e){Fh(e instanceof sh,"sortDescriptions array must contain SortDescription objects.")}),n.canSort&&n._commitAndRefresh()}),this._grpDesc.collectionChanged.addHandler(function(){n._grpDesc.forEach(function(e){Fh(e instanceof ah,"groupDescriptions array must contain GroupDescription objects.")}),n.canGroup&&n._commitAndRefresh()}),this._filters.collectionChanged.addHandler(function(){n._filters.forEach(function(e){Fh(yh(e),"filters array must contain IPredicate functions.")}),n.canFilter&&n._commitAndRefresh()}),this.sourceCollection=e||new Yd,t&&(this._initializing=!0,this.deferUpdate(function(){Hh(n,t)}),this._initializing=!1),null==this._keepCurrentItem&&(this._keepCurrentItem=!0)}return e.prototype._copy=function(e,t){switch(e){case"sortDescriptions":var n=this.sortDescriptions;return n.deferUpdate(function(){n.clear(),Uh(t).forEach(function(e){fh(e)?e=new sh(e,!0):e instanceof sh||!e.property||(e=new sh(e.property,e.ascending)),n.push(e)})}),!0;case"groupDescriptions":var i=this.groupDescriptions;return i.deferUpdate(function(){i.clear(),t.forEach(function(e){fh(e)&&(e=new uh(e)),i.push(e)})}),!0;case"currentItem":return this.currentItem=t,!0}return!1},Object.defineProperty(e.prototype,"calculatedFields",{get:function(){return this._calcFields},set:function(e){if(e&&!window.Proxy&&(console.warn("** Calculated fields require Proxy (see https://www.npmjs.com/package/proxy-polyfill)."),e=null),e!=this._calcFields){this._calcFields=e;var t=this._srcRaw;this._srcRaw=null,this.sourceCollection=t}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"newItemCreator",{get:function(){return this._itemCreator},set:function(e){this._itemCreator=qh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortConverter",{get:function(){return this._srtCvt},set:function(e){e!=this._srtCvt&&(this._srtCvt=qh(e,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortComparer",{get:function(){return this._srtCmp},set:function(e){e!=this._srtCmp&&(this._srtCmp=qh(e,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useStableSort",{get:function(){return this._stableSort},set:function(e){e!=this._stableSort&&(this._stableSort=Bh(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortNulls",{get:function(){return this._srtNulls},set:function(e){(e=Yh(e,Gd))!=this._srtNulls&&(this._srtNulls=e,this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortNullsFirst",{get:function(){return this.sortNulls!=Gd.Last},set:function(e){Lh("sortNullsFirst","sortNulls"),this.sortNulls=Bh(e)?Gd.First:Gd.Last},enumerable:!0,configurable:!0}),e.prototype.getAggregate=function(e,t,n){return Bd(e,n?this._pgView:this._view,t)},Object.defineProperty(e.prototype,"trackChanges",{get:function(){return this._trackChanges},set:function(e){this._trackChanges=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"refreshOnEdit",{get:function(){return this._refreshOnEdit},set:function(e){this._refreshOnEdit=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsAdded",{get:function(){return this._chgAdded},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsRemoved",{get:function(){return this._chgRemoved},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemsEdited",{get:function(){return this._chgEdited},enumerable:!0,configurable:!0}),e.prototype.clearChanges=function(){this._chgAdded.clear(),this._chgRemoved.clear(),this._chgEdited.clear(),this._orgVals&&this._orgVals.clear()},e.prototype.implementsInterface=function(e){switch(e){case"ICollectionView":case"IEditableCollectionView":case"IPagedCollectionView":case"INotifyCollectionChanged":return!0}return!1},Object.defineProperty(e.prototype,"getError",{get:function(){return this._getError},set:function(e){this._getError!=e&&(this._getError=qh(e),this._raiseCollectionChanged())},enumerable:!0,configurable:!0}),e.prototype.onCollectionChanged=function(e){void 0===e&&(e=oh.reset),e.action!=Kc.Change||this._committing||this._canceling||e.item==this.currentEditItem||e.item==this.currentAddItem||this._trackItemChanged(e.item),this._updating||this.collectionChanged.raise(this,e)},e.prototype._raiseCollectionChanged=function(e,t,n){void 0===e&&(e=Kc.Reset);var i=new oh(e,t,n);this.onCollectionChanged(i)},e.prototype.onSourceCollectionChanging=function(e){return this.sourceCollectionChanging.raise(this,e),!e.cancel},e.prototype.onSourceCollectionChanged=function(e){this.sourceCollectionChanged.raise(this,e)},Object.defineProperty(e.prototype,"canFilter",{get:function(){return this._canFilter},set:function(e){this._canFilter=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canGroup",{get:function(){return this._canGroup},set:function(e){this._canGroup=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canSort",{get:function(){return this._canSort},set:function(e){this._canSort=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentItem",{get:function(){return this._pgView&&this._idx>-1&&this._idx<this._pgView.length?this._pgView[this._idx]:null},set:function(e){this.moveCurrentTo(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentPosition",{get:function(){return this._idx},set:function(e){this.moveCurrentToPosition(Nh(e))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){return this._filter},set:function(e){this._filter!=e&&(this._filter=qh(e),this.canFilter&&this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filters",{get:function(){return this._filters},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupDescriptions",{get:function(){return this._grpDesc},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return!this._pgView||!this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortDescriptions",{get:function(){return this._srtDsc},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sourceCollection",{get:function(){return this._src},set:function(e){if(e!=this._srcRaw){if(!this.onSourceCollectionChanging(new eh))return;var t=this.currentPosition;this.commitEdit(),null!=this._ncc&&this._ncc.collectionChanged.removeHandler(this._sourceChanged),this._srcRaw=e,this._src=Uh(e,!1),this._calcFields&&(this._src=Gc(this._src,this._calcFields)),this._ncc=dh(this._src,"INotifyCollectionChanged"),this._ncc&&this._ncc.collectionChanged.addHandler(this._sourceChanged,this),this.clearChanges(),this.refresh(),this.moveCurrentToFirst(),this.onSourceCollectionChanged(),this.currentPosition<0&&t>-1&&this.onCurrentChanged()}},enumerable:!0,configurable:!0}),e.prototype._sourceChanged=function(e,t){this._updating<=0&&this.refresh()},e.prototype.contains=function(e){return this._pgView.indexOf(e)>-1},e.prototype.moveCurrentTo=function(e){return this.moveCurrentToPosition(this._pgView.indexOf(e))},e.prototype.moveCurrentToFirst=function(){return this.moveCurrentToPosition(0)},e.prototype.moveCurrentToLast=function(){return this.moveCurrentToPosition(this._pgView.length-1)},e.prototype.moveCurrentToPrevious=function(){return this._idx>0&&this.moveCurrentToPosition(this._idx-1)},e.prototype.moveCurrentToNext=function(){return this.moveCurrentToPosition(this._idx+1)},e.prototype.moveCurrentToPosition=function(e){if(e>=-1&&e<this._pgView.length&&e!=this._idx){var t=new eh;if(this.onCurrentChanging(t)){var n=this._pgView[e],i=Yc(n),r=this._edtItem,o=this._newItem;r&&r!=n&&r!=i?this.commitEdit():o&&o!=n&&o!=i&&this.commitNew(),this._idx=e,this.onCurrentChanged()}}return this._idx==e},e.prototype.refresh=function(){if(this._newItem||this._edtItem||this._updating>0)this._pendingRefresh=!0;else{var e=this.currentItem;this._performRefresh(),this.onCollectionChanged(),e==this.currentItem||this._initializing||this.onCurrentChanged()}},e.prototype._commitAndRefresh=function(){this.currentEditItem||this.currentAddItem?(this._pendingRefresh=!0,this.commitEdit()):this.refresh()},e.prototype._performRefresh=function(){if(this._updating>0)this._pendingRefresh=!0;else{this._pendingRefresh=!1,this._pendingRemove=!1;var e=this.currentItem;this._view=this._src?this._performFilter(this._src):[],this.canSort&&this._srtDsc.length>0&&(this._view==this._src&&(this._view=this._src.slice()),this._performSort(this._view)),this._groups=this.canGroup?this._createGroups(this._view):null,this._fullGroups=this._groups,this._groups&&(this._view=this._mergeGroupItems(this._groups)),this._pgIdx=Mh(this._pgIdx,0,this.pageCount-1),this._pgView=this._getPageView(),this._groups&&this.pageCount>1&&(this._groups=this._createGroups(this._pgView),this._mergeGroupItems(this._groups));var t=this._keepCurrentItem&&null!=e?this._pgView.indexOf(e):-1;t<0&&(t=Math.min(this._idx,this._pgView.length-1)),this._idx=t,this._digest=this._getGroupsDigest(this.groups)}},e.prototype._performSort=function(e){if(this._stableSort){var t=e.map(function(e,t){return{item:e,index:t}}),n=this._compareItems();t.sort(function(e,t){var i=n(e.item,t.item);return 0==i?e.index-t.index:i});for(var i=0;i<e.length;i++)e[i]=t[i].item}else e.sort(this._compareItems())},e.prototype._compareItems=function(){var t=this,n=this._srtDsc,i=this._srtCvt,r=this._srtCmp,o=e._collator,s=!0,l=0;return function(e,a){for(var u=0;u<n.length;u++){var c=n[u],h=c._bnd.getValue(e),d=c._bnd.getValue(a);if(i&&(h=i(c,e,h,s),d=i(c,a,d,!1),s=!1),r&&null!=(l=r(h,d))){if(0!=l)return c.ascending?+l:-l}else{if(h!=h&&(h=null),d!=d&&(d=null),h!==d&&(null==h||null==d))switch(t._srtNulls){case Gd.First:return null==h?-1:1;case Gd.Last:return null==h?1:-1;default:return l=null==h?-1:1,c.ascending?+l:-l}if("string"==typeof h&&"string"==typeof d){if(o){if(0!=(l=o.compare(h,d)))return c.ascending?+l:-l;continue}var p=h.toLowerCase(),f=d.toLowerCase();p!=f&&(h=p,d=f)}if(0!=(l=h<d?-1:h>d?1:0))return c.ascending?+l:-l}}return 0}},e.prototype._performFilter=function(e){return this.canFilter&&this._filter||this._filters.length?e.filter(this._filterItem,this):e},e.prototype._filterItem=function(e){for(var t=!this.canFilter||!this._filter||this._filter(e),n=0;n<this._filters.length&&t;n++)t=this._filters[n](e);return t},e.prototype.onCurrentChanged=function(e){this.currentChanged.raise(this,e)},e.prototype.onCurrentChanging=function(e){return this.currentChanging.raise(this,e),!e.cancel},Object.defineProperty(e.prototype,"items",{get:function(){return this._pgView},enumerable:!0,configurable:!0}),e.prototype.beginUpdate=function(){this._updating++},e.prototype.endUpdate=function(e){void 0===e&&(e=!0),this._updating--,e&&(this._pendingRefresh=!0),this._updating<=0&&(this._pendingRefresh&&this.refresh(),this._pendingRemove&&(this._pendingRemove=!1,this._raiseCollectionChanged()))},Object.defineProperty(e.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),e.prototype.deferUpdate=function(e,t){void 0===t&&(t=!0);try{this.beginUpdate(),e()}finally{this.endUpdate(t)}},Object.defineProperty(e.prototype,"canAddNew",{get:function(){return this._canAddNew},set:function(e){e!=this._canAddNew&&(this._canAddNew=Bh(e),this._raiseCollectionChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canCancelEdit",{get:function(){return this._canCancelEdit},set:function(e){this._canCancelEdit=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canRemove",{get:function(){return this._canRemove},set:function(e){this._canRemove=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentAddItem",{get:function(){return this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentEditItem",{get:function(){return this._edtItem},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAddingNew",{get:function(){return null!=this._newItem},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEditingItem",{get:function(){return null!=this._edtItem},enumerable:!0,configurable:!0}),e.prototype.editItem=function(e){e!=this._edtItem&&this.moveCurrentTo(e)&&(this.commitEdit(),this._edtItem=e,this._edtClone=this._extend({},this._edtItem))},e.prototype.commitEdit=function(){var e=this._edtItem,t=this._edtClone;if(null!=e){this._committing=!0;var n=this._getChangedFields(e,t),i=this._pendingRefresh;this._edtItem=null,this._edtClone=null;var r=this._pgView.indexOf(e),o=this._digest;if(this._needRefresh(n)&&this._refreshOnEdit&&this._performRefresh(),n&&this._trackItemChanged(e,t),this._pgView.indexOf(e)!=r||o!=this._digest||i?this._raiseCollectionChanged():this._raiseCollectionChanged(Kc.Change,e,r),this.commitNew(),this._committing=!1,this.sourceCollection instanceof Yd){this._updating++;var s=new oh(Kc.Change,e);this.sourceCollection.onCollectionChanged(s),this._updating--}}},e.prototype.cancelEdit=function(){var e=this._edtItem;if(null!=e){if(this._edtItem=null,!this.canCancelEdit)return;var t=this._src.indexOf(e);t>=0&&this._edtClone&&(this._extend(this._src[t],this._edtClone),this._edtClone=null,this._canceling=!0,this._raiseCollectionChanged(Kc.Change,e,t),this._canceling=!1,this._pendingRefresh&&this._refreshOnEdit&&(this._performRefresh(),this._raiseCollectionChanged()))}},e.prototype.addNew=function(e,t){if(void 0===t&&(t=!1),this.commitEdit(),!this.canAddNew)return null;var n=this.sourceCollection;if(null==e&&(e=this.newItemCreator?this.newItemCreator():n&&n.length?new n[0].constructor:{}),null!=e){if(this._updating++,n.push(e),this._updating--,this._newItem=e=n[n.length-1],this._pgView!=this._src&&this._pgView.push(e),this.groups&&this.groups.length){var i=this.groups[this.groups.length-1];for(i.items.push(e);i.groups&&i.groups.length;)(i=i.groups[i.groups.length-1]).items.push(e)}this._raiseCollectionChanged(Kc.Add,e,this._pgView.length-1),this.moveCurrentTo(e),t&&this.commitNew()}return this._newItem},e.prototype.commitNew=function(){var e=this._newItem;if(null!=e){this._newItem=null;var t=this._pgView.indexOf(e),n=this._digest;if(this._refreshOnEdit&&this._performRefresh(),this._trackChanges){var i=this._chgEdited.indexOf(e);i>-1&&this._chgEdited.removeAt(i),this._chgAdded.indexOf(e)<0&&this._chgAdded.push(e)}this._pgView.indexOf(e)!=t||n!=this._digest||this.calculatedFields?this._raiseCollectionChanged():this._raiseCollectionChanged(Kc.Change,e,t)}},e.prototype.cancelNew=function(){var e=this._newItem;null!=e&&this.remove(e)},e.prototype.remove=function(e){var t=e==this._newItem;if(t&&(this._newItem=null),e==this._edtItem&&this.cancelEdit(),this.canRemove){var n=this._src.indexOf(e);if(n>-1){var i=this.currentItem;this._updating++,this._src.splice(n,1),this._updating--;var r=this._digest;if(this._refreshOnEdit)this._performRefresh();else{this._updating>0&&(this._pendingRemove=!0);var o=this._pgView.indexOf(e);o>=0&&this._pgView.splice(o,1)}if(this._trackChanges){var s=this._chgAdded.indexOf(e);s>-1&&this._chgAdded.removeAt(s);var l=this._chgEdited.indexOf(e);l>-1&&this._chgEdited.removeAt(l),this._chgRemoved.indexOf(e)<0&&!t&&s<0&&this._chgRemoved.push(e)}this.sortDescriptions.length>0||this.pageSize>0&&this._pgIdx>-1||r!=this._getGroupsDigest(this.groups)?this._raiseCollectionChanged():this._raiseCollectionChanged(Kc.Remove,e,n),this.currentItem!==i&&this.onCurrentChanged()}}},e.prototype.removeAt=function(e){e=zh(e),this.remove(this._pgView[e])},e.prototype._trackItemChanged=function(e,t){if(this._trackChanges){var n=this.sourceCollection;if(n&&n.indexOf(e)>-1){var i=this._orgVals,r=i?i.get(e):null;t&&!r&&i&&(i.set(e,t),r=t);var o=this._chgEdited.indexOf(e),s=Kc.Change;if(r&&this._sameContent(e,r)&&o>-1)return this._chgEdited.removeAt(o),void i.delete(e);if(o<0&&this._chgAdded.indexOf(e)<0)this._chgEdited.push(e);else if(o>-1){var l=new oh(s,e,o);this._chgEdited.onCollectionChanged(l)}else(o=this._chgAdded.indexOf(e))>-1&&(l=new oh(s,e,o),this._chgAdded.onCollectionChanged(l))}}},e.prototype._extend=function(e,t,n){for(var i in void 0===n&&(n=2),t)try{var r=t[i];n>0&&Eh(r)?(e[i]={},this._extend(e[i],r,n-1)):e[i]=r}catch(e){}return e},e.prototype._getChangedFields=function(e,t,n){void 0===n&&(n=2),Fh(null!=t&&null!=e,"Two objects expected.");var i={};for(var r in t)try{this._sameValue(e[r],t[r],n)||(i[r]=!0)}catch(e){}for(var r in e)try{i[r]||this._sameValue(e[r],t[r],n)||(i[r]=!0)}catch(e){}var o=Object.keys(i);return o.length?o:null},e.prototype._sameValue=function(e,t,n){return void 0===n&&(n=2),!(e!==t&&!Dd.equals(e,t)&&(!Eh(e)||!Eh(t)||n>0&&null!=this._getChangedFields(e,t,n-1)))},e.prototype._sameContent=function(e,t){return null==this._getChangedFields(e,t)},e.prototype._needRefresh=function(e){if(this._pendingRefresh)return!0;if(!e)return!1;if(this._filter)return!0;for(var t=0;t<this._srtDsc.length;t++){var n=this._getBindingRoot(this._srtDsc[t].property);if(e.indexOf(n)>-1)return!0}for(t=0;t<this._grpDesc.length;t++){var i=this._grpDesc[t];if(!(i instanceof uh))return!0;if(n=this._getBindingRoot(i.propertyName),e.indexOf(n)>-1)return!0}return!1},e.prototype._getBindingRoot=function(e){var t=e.indexOf(".");return t>-1?e.substr(0,t):e},Object.defineProperty(e.prototype,"canChangePage",{get:function(){return this._canChangePage},set:function(e){this._canChangePage=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPageChanging",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"itemCount",{get:function(){return this._pgView.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageIndex",{get:function(){return this._pgIdx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageSize",{get:function(){return this._pgSz},set:function(e){e!=this._pgSz&&(this._pgSz=zh(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalItemCount",{get:function(){return this._view.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pageCount",{get:function(){return this.pageSize?Math.ceil(this.totalItemCount/this.pageSize):1},enumerable:!0,configurable:!0}),e.prototype.moveToFirstPage=function(){return this.moveToPage(0)},e.prototype.moveToLastPage=function(){return this.moveToPage(this.pageCount-1)},e.prototype.moveToPreviousPage=function(){return this.moveToPage(this.pageIndex-1)},e.prototype.moveToNextPage=function(){return this.moveToPage(this.pageIndex+1)},e.prototype.moveToPage=function(e){var t=Mh(e,0,this.pageCount-1);if(t!=this._pgIdx){if(!this.canChangePage)return!1;var n=new lh(t);if(this.onPageChanging(n)&&this.onCurrentChanging(n)){this.commitEdit(),this.commitNew();var i=this.currentItem;this._pgIdx=t,this._pgView=this._getPageView(),this._idx=0,this.groupDescriptions&&0!=this.groupDescriptions.length?this.refresh():(this.onCollectionChanged(),i!=this.currentItem&&this.onCurrentChanged()),this.onPageChanged()}}return this._pgIdx==e},e.prototype.onPageChanged=function(e){this.pageChanged.raise(this,e)},e.prototype.onPageChanging=function(e){return this.pageChanging.raise(this,e),!e.cancel},e.prototype._getFullGroup=function(e){var t=this._getGroupByPath(this._fullGroups,e.level,e._path);return null!=t&&(e=t),e},e.prototype._getGroupByPath=function(e,t,n){if(e)for(var i=0;i<e.length;i++){var r=e[i];if(r.level==t&&r._path==n)return r;if(r.level<t&&0==n.indexOf(r._path)&&null!=(r=this._getGroupByPath(r.groups,t,n)))return r}return null},e.prototype._getPageView=function(){if(this.pageSize<=0||this._pgIdx<0)return this._view;var e=this._pgSz*this._pgIdx,t=Math.min(e+this._pgSz,this._view.length);return this._view.slice(e,t)},e.prototype._createGroups=function(e){var t=this;if(!this._grpDesc||!this._grpDesc.length)return null;var n=[],i={},r=null;return e.forEach(function(e){for(var o=n,s=t._grpDesc.length,l="",a=0;a<s;a++){var u=t._grpDesc[a],c=u.groupNameFromItem(e,a),h=a==s-1;!(r=i[l])&&ph(c)&&(i[l]=r={});var d=t._getGroup(u,o,r,c,a,h);d._path=l+="/"+c,h&&d.items.push(e),o=d.groups}}),n},e.prototype._getGroupsDigest=function(e){for(var t="",n=0;null!=e&&n<e.length;n++){var i=e[n];t+="{"+i.name+":"+(i.items?i.items.length:"*"),i.groups.length>0&&(t+=",",t+=this._getGroupsDigest(i.groups)),t+="}"}return t},e.prototype._mergeGroupItems=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];if(!i._isBottomLevel)for(var r=this._mergeGroupItems(i.groups),o=0,s=r.length;o<s;o++)i._items.push(r[o]);for(o=0,s=i._items.length;o<s;o++)t.push(i._items[o])}return t},e.prototype._getGroup=function(e,t,n,i,r,o){var s;if(n&&ph(i)){if(s=n[i])return s}else for(var l=0;l<t.length;l++)if(e.namesMatch(t[l].name,i))return t[l];var a=new Jd(e,i,r,o);return t.push(a),n&&(n[i]=a),a},e._collator="undefined"!=typeof window&&window.Intl&&Intl.Collator?new Intl.Collator:null,e}(),Jd=function(){function e(e,t,n,i){this._gd=e,this._name=t,this._level=n,this._isBottomLevel=i,this._groups=[],this._items=[]}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"level",{get:function(){return this._level},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBottomLevel",{get:function(){return this._isBottomLevel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this._groups},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupDescription",{get:function(){return this._gd},enumerable:!0,configurable:!0}),e.prototype.getAggregate=function(e,t,n){var i=dh(n,Kd);return Bd(e,(i?i._getFullGroup(this):this).items,t)},e}(),Zd="undefined"!=typeof window&&window["wj-control-is-element"]?HTMLElement:Object,$d=!1;try{$d=((function(){}).prototype=Array.prototype)!==Array.prototype}catch(Jc){$d=!0}var Xd=$d||Zd!==Object,Qd=function(e){function t(){var t=this;return Xd&&(t=e.call(this)||this),t}return vc(t,e),t}(Zd),ep=function(e){function t(n,i,r){void 0===i&&(i=null),void 0===r&&(r=!1);var o=e.call(this)||this;o._listeners=[],o._pristine=!0,o._focus=!1,o._updating=0,o._fullUpdate=!1,o.gotFocus=new Xc,o.lostFocus=new Xc,o.invalidInput=new Xc,o.refreshing=new Xc,o.refreshed=new Xc,o._updateWme(),Fh(null==t.getControl(n),"Element is already hosting a control.");var s=_d(n);Fh(null!=s,"Cannot find the host element."),o._orgTabIndex=s.hasAttribute("tabindex")?s.tabIndex:0,o._orgOuter=s.outerHTML,o._orgTag=s.tagName,o._orgAtts=s.attributes,"INPUT"!=s.tagName&&"SELECT"!=s.tagName||(s=o._replaceWithDiv(s)),o._e=s,s[t._CTRL_KEY]=o;var l=o.addEventListener.bind(o);if(1==r){o._szCtl=new Id(s.offsetWidth,s.offsetHeight);var a=window.ResizeObserver,u=null;a&&(u=o._szObserver=new a(function(e){e.forEach(function(e){var n=t.getControl(e.target);n&&n._handleResize()})})),u?u.observe(s):l(window,"resize",o._handleResize.bind(o))}var c=o._handleFocusBlur.bind(o);l(s,"focus",c,!0),l(s,"blur",c,!0);var h=o._handleDisabled.bind(o);return l(s,"mousedown",h,!0),l(s,"mouseup",h,!0),l(s,"click",h,!0),l(s,"dblclick",h,!0),l(s,"wheel",h,Fc(!0,!0)),l(s,"keydown",function(e){o.isDisabled&&e.keyCode!=ih.Tab&&e.preventDefault()}),0==t._ctlCnt&&tp(!0),t._ctlCnt++,o}return vc(t,e),t.prototype.getTemplate=function(){for(var e=Object.getPrototypeOf(this);e;e=Object.getPrototypeOf(e)){var t=e.constructor.controlTemplate;if(t)return t}return null},t.prototype.applyTemplate=function(e,n,i,r){var o=this,s=this._e;e&&id(s,e);var l=null;n&&(l=md(n,s));for(var a=s.querySelectorAll("a.wj-btn"),u=0;u<a.length;u++){var c=a[u];sd(c,"role","button",!0),sd(c,"href","",!0),sd(c,"draggable",!1,!0)}var h=s.querySelectorAll("button");for(u=0;u<h.length;u++)sd(h[u],"type","button",!0);var d=s.querySelectorAll("input"),p=1==d.length?d[0]:null;if(p){var f=t._rxInputAtts;this._copyAttributes(p,s.attributes,f),this._copyAttributes(p,this._orgAtts,f)}if(p&&s.id){for(var g=s;g.parentElement;)g=g.parentElement;var _=g.querySelector('label[for="'+s.id+'"]');if(_ instanceof HTMLLabelElement){var m=Sh(s.id+"_input");p.id=m,_.htmlFor=m}}if(p){var v=p.value,y=document.createEvent("HTMLEvents");y.initEvent("change",!0,!1),this.gotFocus.addHandler(function(){return v=p.value}),this.addEventListener(p,"focus",function(){return v=p.value}),this.addEventListener(p,"input",function(){o._pristine=!1,setTimeout(function(){return v=p.value})}),this.addEventListener(s,"blur",function(){o.containsFocus()||(o._pristine&&(o._pristine=!1,o._updateState()),v!=p.value&&(v=p.value,p.dispatchEvent(y)))},!0)}if(p?s.tabIndex=-1:s.getAttribute("tabindex")||(s.tabIndex=0),this._updateState(),i)for(var b in i){var w=i[b];if(this[b]=l.querySelector('[wj-part="'+w+'"]'),null==this[b]&&l.getAttribute("wj-part")==w&&(this[b]=l),null==this[b])throw'Missing template part: "'+w+'"';if(w==r){var C="name",E=s.attributes[C];E&&E.value&&this[b].setAttribute(C,E.value),(E=s.attributes[C="accesskey"])&&E.value&&(this[b].setAttribute(C,E.value),s.removeAttribute(C))}}return l},t.prototype.dispose=function(){if(this._e){for(var e=this._e.querySelectorAll(".wj-control"),n=0;n<e.length;n++){var i=t.getControl(e[n]);i&&i.dispose()}this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this._toFocus&&(clearTimeout(this._toFocus),this._toFocus=null);var r=this._szObserver;for(var o in r&&r.disconnect(),this.removeEventListener(),this)o.length>2&&0==o.indexOf("on")&&(l=this[o[2].toLowerCase()+o.substr(3)])instanceof Xc&&l.removeAllHandlers();var s=this.collectionView;if(s instanceof Kd)for(var o in s){var l;(l=s[o])instanceof Xc&&l.removeHandler(null,this)}this._e.parentNode&&(this._e.outerHTML=this._orgOuter),this._e[t._CTRL_KEY]=null,this._e=this._orgOuter=this._orgTag=this._szObserver=null,0==--t._ctlCnt&&tp(!1)}},t.getControl=function(e){var n=_d(e);return n?Gh(n[t._CTRL_KEY],t,!0):null},Object.defineProperty(t.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightToLeft",{get:function(){return null==this._rtlDir&&(this._rtlDir=!!this._e&&"rtl"==getComputedStyle(this._e).direction),this._rtlDir},enumerable:!0,configurable:!0}),t.prototype.focus=function(){var e=this._e;e&&e.offsetHeight&&(e.tabIndex>=0||!pd(e,0))&&e.focus()},t.prototype.containsFocus=function(){return yd(this._e,dd(),!0)},t.prototype.invalidate=function(e){var n=this;void 0===e&&(e=!0),this._rtlDir=null,this._fullUpdate=this._fullUpdate||e,this._toInv&&(clearTimeout(this._toInv),this._toInv=null),this.isUpdating||(this._toInv=setTimeout(function(){n.refresh(n._fullUpdate),n._toInv=null},t._REFRESH_INTERVAL))},t.prototype.refresh=function(e){var t=this;void 0===e&&(e=!0),this.isUpdating||(this.onRefreshing(),this.refreshed.hasHandlers&&setTimeout(function(){t.onRefreshed()})),!this.isUpdating&&this._toInv&&(clearTimeout(this._toInv),this._toInv=null,this._fullUpdate=!1),this._updateState(),this._updateWme()},t.invalidateAll=function(e){e||(e=document.body);var n=e.children;if(n)for(var i=0;i<n.length;i++)t.invalidateAll(n[i]);var r=t.getControl(e);r&&r.invalidate()},t.refreshAll=function(e){if(e||(e=document.body),e.children)for(var n=0;n<e.children.length;n++)t.refreshAll(e.children[n]);var i=t.getControl(e);i&&i.refresh()},t.disposeAll=function(e){var n=t.getControl(e);if(n)n.dispose();else if(e.children)for(var i=0;i<e.children.length;i++)t.disposeAll(e.children[i])},t.prototype.beginUpdate=function(){this._updating++},t.prototype.endUpdate=function(){this._updating--,this._updating<=0&&this.invalidate()},Object.defineProperty(t.prototype,"isUpdating",{get:function(){return this._updating>0},enumerable:!0,configurable:!0}),t.prototype.deferUpdate=function(e){try{this.beginUpdate(),e()}finally{this.endUpdate()}},Object.defineProperty(t.prototype,"isTouching",{get:function(){return t._touching},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(e){if((e=Bh(e,!0))!=this.isDisabled){var n=this._e;if(n){od(n,"wj-state-disabled",e),sd(n,"disabled",e?"disabled":null),n.tabIndex=this.isDisabled||n.querySelector("input")?-1:this._orgTabIndex;for(var i=n.querySelectorAll("input,textarea,button,command,fieldset,keygen,optgroup,option,select"),r=t._DSBL_KEY,o=0;o<i.length;o++){var s=i[o];if(e)s[r]=s.disabled,s.disabled=!0;else if(bd(s,".wj-control.wj-state-disabled"))s[r]=s.disabled,s.disabled=!0;else{var l=s[r];vh(l)||(l=!1),s.disabled=l,delete s[r]}}}}},enumerable:!0,configurable:!0}),t.prototype.initialize=function(e){Hh(this,e)},t.prototype.addEventListener=function(e,t,n,i,r){if(e){null==i&&(i=!1),vh(i)&&null==r&&(t.indexOf("touch")>-1||t.indexOf("wheel")>-1)&&(r=!1);var o=vh(i)&&vh(r)?Fc(i,r):i;e.addEventListener(t,n,o),this._listeners.push({target:e,type:t,fn:n,capture:i})}},t.prototype.removeEventListener=function(e,t,n,i){for(var r=0,o=0;o<this._listeners.length;o++){var s=this._listeners[o];null!=e&&e!=s.target||null!=t&&t!=s.type||null!=n&&n!=s.fn||null!=i&&i!=s.capture||(s.target.removeEventListener(s.type,s.fn,s.capture),this._listeners.splice(o,1),o--,r++)}return r},t.prototype.onGotFocus=function(e){this.gotFocus.raise(this,e)},t.prototype.onLostFocus=function(e){this.lostFocus.raise(this,e)},t.prototype.onInvalidInput=function(e){var n=this;if(this.invalidInput.raise(this,e),e.cancel){var i=t._FOCUS_INTERVAL+50;Date.now()-t._tsInvalidInput>i+50&&(t._toInvalidInput&&clearTimeout(t._toInvalidInput),t._toInvalidInput=setTimeout(function(){t._toInvalidInput=null,t._tsInvalidInput=Date.now(),n.focus()},i))}return this._updateState(),!e.cancel},t.prototype.onRefreshing=function(e){this.refreshing.raise(this,e)},t.prototype.onRefreshed=function(e){this.refreshed.raise(this,e)},t.prototype._getProductInfo=function(){return"B0C3,Control"},t.prototype._updateWme=function(){var e=this._getProductInfo(),n=t._toWme,i=vp;yh(i)&&!n[e]&&(n[e]=!0,i(this,t._licKey))},t.prototype._hasPendingUpdates=function(){return null!=this._toInv},t.prototype._handleResize=function(){if(this._e.parentElement){var e=new Id(this._e.offsetWidth,this._e.offsetHeight);e.equals(this._szCtl)||(this._szCtl=e,(e.width||e.height)&&this.invalidate())}},t.prototype._handleFocusBlur=function(){var e=this;this._toFocus||(this._toFocus=setTimeout(function(){e._toFocus=null,e._updateFocusState()},t._FOCUS_INTERVAL))},t.prototype._updateFocusState=function(){setTimeout(function(){for(var e=Qc.empty,n=document.body.querySelectorAll(".wj-state-focused"),i=0;i<n.length;i++)(l=t.getControl(n[i]))&&l._focus&&!l.containsFocus()&&(rd(l._e,"wj-state-focus"),l._focus=!1,l._updateState(),l.onLostFocus(e));var r=dd();if(r)for(var o=!0,s=r;s;){var l;(l=t.getControl(s))&&!l._focus&&l.containsFocus()&&(o&&(id(s,"wj-state-focus"),o=!1),l._focus=!0,l._updateState(),l.onGotFocus(e)),s=s[t._OWNR_KEY]||s.parentNode}})},t.prototype._updateState=function(){var e=this.hostElement;if(e){od(e,"wj-state-focused",this._focus),this._rtlDir="rtl"==getComputedStyle(e).direction,od(e,"wj-rtl",this._rtlDir);var t=e.querySelector("input");if(t instanceof HTMLInputElement){od(e,"wj-state-empty",0==t.value.length),od(e,"wj-state-readonly",t.readOnly);var n=t.validationMessage;od(e,"wj-state-invalid",!this._pristine&&null!=n&&n.length>0)}}},t.prototype._handleDisabled=function(e){(this.isDisabled||bd(e.target,".wj-state-disabled"))&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())},t.prototype._replaceWithDiv=function(e){var t=document.createElement("div");return e.parentElement.replaceChild(t,e),t.innerHTML=e.innerHTML,this._copyAttributes(t,e.attributes,/id|style|class/i),t},t.prototype._copyAttributes=function(e,t,n){if(e)for(var i=0;i<t.length;i++){var r=t[i].name;r.match(n)&&e.setAttribute(r,t[i].value)}},t.prototype._getKeyCode=function(e){var t=e.keyCode;if(this.rightToLeft)switch(t){case ih.Right:t=ih.Left;break;case ih.Left:t=ih.Right}return t},t._toWme={},t._ctlCnt=0,t._touching=!1,t._tsInvalidInput=0,t._REFRESH_INTERVAL=10,t._FOCUS_INTERVAL=5,t._ANIM_DEF_DURATION=400,t._ANIM_DEF_STEP=35,t._CLICK_DELAY=800,t._CLICK_REPEAT=75,t._CLIPBOARD_DELAY=100,t._POPUP_ZINDEX=1500,t._SEARCH_DELAY=500,t._HOVER_DELAY=400,t._LEAVE_DELAY=600,t._DRAG_SCROLL_EDGE=15,t._DRAG_SCROLL_STEP=20,t._CTRL_KEY="$WJ-CTRL",t._OWNR_KEY="$WJ-OWNR",t._SCRL_KEY="$WJ-SCRL",t._TTIP_KEY="$WJ-TTIP",t._DSBL_KEY="$WJ-DSBL",t._rxInputAtts=/name|tabindex|placeholder|autofocus|autocomplete|autocorrect|autocapitalize|spellcheck|readonly|minlength|maxlength|pattern|type|aria-.+/i,t}(Qd);function tp(e){if("ontouchstart"in window||"onpointerdown"in window){var t=document,n=Fc(!0,!0),i=np,r=ip,o=e?t.addEventListener.bind(t):t.removeEventListener.bind(t);"ontouchstart"in window?(o("touchstart",i,n),o("touchend",r,n),o("touchcancel",r,n)):"onpointerdown"in window&&(o("pointerdown",i,n),o("pointerup",r,n),o("pointercancel",r,n))}}function np(e){if(null==e.pointerType||"touch"==e.pointerType){ep._toTouch&&(clearTimeout(ep._toTouch),ep._toTouch=null),ep._touching=!0;var t=e.target,n=dd();n&&!yd(n,t)&&ep.getControl(bd(n,".wj-control"))&&t.focus()}}function ip(e){if((null==e.pointerType||"touch"==e.pointerType)&&(ep._toTouch=setTimeout(function(){ep._toTouch=null,ep._touching=!1},900),document.querySelector("ion-app"))){var t=e.target;bd(t,".wj-dropdown-panel,.wj-dropdown")&&(t.focus(),e.stopPropagation(),e.stopImmediatePropagation())}}var rp,op=function(){function e(e){this._title=null,this._copyCss=!0,null!=e&&Hh(this,e)}return Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(e){this._title=Vh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"copyCss",{get:function(){return this._copyCss},set:function(e){this._copyCss=Bh(e)},enumerable:!0,configurable:!0}),e.prototype.addCSS=function(e){this._css||(this._css=[]),this._css.push(e)},e.prototype.append=function(e){var t=this._getDocument();if(fh(e))t.write(e);else if(e instanceof Element){e instanceof HTMLElement&&ep.refreshAll(e);for(var n=e.cloneNode(!0),i=n.querySelectorAll("input"),r=0;r<i.length;r++){var o=i[r];switch(o.type){case"checkbox":sd(o,"checked",!!o.checked||null),sd(o,"indeterminate",!!o.indeterminate||null);break;case"radio":sd(o,"checked",!!o.checked||null);break;default:sd(o,"value",o.value||null)}}t.write(n.outerHTML)}else Fh(!1,"content should be an HTML string or an Element.")},e.prototype.print=function(e){var t=this;this._iframe&&(this._close(),setTimeout(function(){var n=t._iframe.contentWindow,i="onafterprint"in n&&!Sc();i&&(n.onafterprint=function(){t._afterPrint(e)}),kc()&&null==n.document.body||!document.queryCommandSupported("print")?(n.focus(),n.print()):n.document.execCommand("print",!0,null),i||t._afterPrint(e)},100))},e.prototype._afterPrint=function(e){document.body.removeChild(this._iframe),this._iframe=null,yh(e)&&e()},e.prototype._getDocument=function(){if(!this._iframe){var e=this._iframe=document.createElement("iframe");id(e,"wj-printdocument"),xd(e,{position:"fixed",left:32e3,top:32e3}),document.body.appendChild(e)}return this._iframe.contentDocument},e.prototype._close=function(){var e=this._getDocument();if(e.close(),e.title=null!=this.title?this.title:document.title,e.title&&e.title.trim()||(e.title="\xa0"),this._copyCss){for(var t=document.head.querySelectorAll("LINK"),n=0;n<t.length;n++){var i=t[n];if(i.href.match(/\.css$/i)&&i.rel.match(/stylesheet/i)){var r=Rd(i.href,{async:!1});this._addStyle(r.responseText)}}var o=document.head.querySelectorAll("STYLE");for(n=0;n<o.length;n++)this._addStyle(o[n].textContent)}if(this._css)for(n=0;n<this._css.length;n++){var s=e.createElement("style");r=Rd(this._css[n],{async:!1}),s.textContent=r.responseText,e.head.appendChild(s)}},e.prototype._addStyle=function(e){var t=this._getDocument(),n=t.createElement("style");n.textContent=e,t.head.appendChild(n)},e}(),sp=function(){function e(){}return e.copy=function(t){e._copyPaste(Vh(t),null)},e.paste=function(t){t=qh(t),e._copyPaste(null,t)},e._copyPaste=function(e,t){for(var n=dd(),i=bd(n,".wj-control");i&&ep.getControl(i);)i=i.parentElement;if(i=i||document.body){var r=!1,o=md('<textarea class="wj-clipboard">',i,{position:"fixed",opacity:"0"});o.onkeydown=function(e){return e.preventDefault()},o.onchange=function(e){return e.stopImmediatePropagation()},fh(e)?(o.value=e,o.select(),document.execCommand("copy")&&(r=!0)):(o.select(),yh(t)&&document.execCommand("paste")&&(t(o.value),r=!0)),setTimeout(function(){n.focus({preventScroll:!0}),hd(o),!r&&yh(t)&&t(o.value)},ep._CLIPBOARD_DELAY)}},e}(),lp=function(){function e(e){this._isDown=!1,this._mousedownBnd=this._mousedown.bind(this),this._mouseupBnd=this._mouseup.bind(this),this._clickBnd=this._click.bind(this),this.element=e,this._connect(!0)}return Object.defineProperty(e.prototype,"element",{get:function(){return this._e},set:function(e){this._connect(!1),this._e=Gh(e,HTMLElement,!0),this._connect(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=Bh(e)},enumerable:!0,configurable:!0}),e.prototype._connect=function(t){var n=this;this._e&&e._startEvents.forEach(function(e){t?n._e.addEventListener(e,n._mousedownBnd):n._e.removeEventListener(e,n._mousedownBnd)})},e.prototype._clearTimeouts=function(){this._toRepeat&&(clearTimeout(this._toRepeat),this._toRepeat=null),this._toDelay&&(clearTimeout(this._toDelay),this._toDelay=null)},e.prototype._mousedown=function(t){var n=this;this._isDown&&this._mouseup(null),this._disabled||(this._isDown=!0,e._stopEvents.forEach(function(e){document.addEventListener(e,n._mouseupBnd)}),this._clearTimeouts(),this._toDelay=setTimeout(function(){n._isDown&&(n._click(),n._toRepeat=setTimeout(n._clickBnd,ep._CLICK_REPEAT))},ep._CLICK_DELAY))},e.prototype._mouseup=function(t){var n=this;this._isDown&&t&&"keydown"!=t.type&&this._clicked&&t.preventDefault(),e._stopEvents.forEach(function(e){document.removeEventListener(e,n._mouseupBnd)}),this._clearTimeouts(),this._isDown=!1,this._clicked=!1},e.prototype._click=function(){this._clicked=!0,this._clearTimeouts(),this._e&&(this._e.click(),this._isDown&&(this._toRepeat=setTimeout(this._clickBnd,ep._CLICK_REPEAT)))},e._startEvents=["mousedown","touchstart"],e._stopEvents=["mouseup","mouseout","keydown","touchend","touchcancel"],e}();function ap(e,t,n,i,r,o){void 0===r&&(r=!0);var s=e.offsetHeight||e.offsetWidth,l=n;(vh(n)||null==n)&&(l=n?rp.AboveLeft:rp.BelowLeft);var a=function(e){var t=document.body;if(e instanceof HTMLElement){if(!yd(document.body,e))return t;for(var n=e;n;n=n.parentElement){if("DIALOG"==n.tagName||"ION-CONTENT"==n.tagName||"fixed"==getComputedStyle(n).position){t=n;break}if(dp(n)){t=n.querySelector(".ui-dialog-content")||n;break}}}return t}(t);if(function(e,t){e.offsetHeight&&e.offsetWidth&&e.parentElement==t||(xd(e,{opacity:"0",position:"fixed",left:0,top:0,transform:"",display:""}),t.appendChild(e))}(e,a),function(e,t,n){if(t instanceof HTMLElement&&n){var i=n instanceof HTMLElement?n:t,r=getComputedStyle(i);1==new jd(r.backgroundColor).a&&xd(e,{color:r.color,backgroundColor:r.backgroundColor,fontFamily:r.fontFamily,fontSize:r.fontSize,fontWeight:r.fontWeight,fontStyle:r.fontStyle})}}(e,t,r),ep.refreshAll(e),Sc()?requestAnimationFrame(function(){cp(e,t,l)}):cp(e,t,l),t instanceof HTMLElement&&(e[ep._OWNR_KEY]=t),!s){if(function(e,t,n){var i=t instanceof MouseEvent?t.target:t;if(i instanceof HTMLElement&&i.parentElement!=document.body){var r=Date.now(),o=i.getBoundingClientRect(),s=new ep(document.createElement("div"));e[ep._SCRL_KEY]=s,s.addEventListener(document,"scroll",function(l){if(l.target!=e.parentElement&&Date.now()-r>100&&yd(document,i)&&!yd(e,l.target)&&(l.target!=document||null!=t&&"fixed"==e.style.position)){var a=i.getBoundingClientRect(),u=Math.abs(a.left-o.left),c=Math.abs(a.top-o.top);(u>1||c>1)&&(yh(n)&&n(),hp(e,!0),s.dispose())}},!0)}}(e,t,o),i)return Sd(function(t){return e.style.opacity=t<1?t.toString():""});e.style.opacity=""}return null}function up(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1);var i=null;return n?i=Sd(function(n){e.style.opacity=(1-n).toString(),1==n&&(hp(e,t),e.style.opacity="")}):hp(e,t),i}function cp(e,t,n){var i=function(e,t){return t instanceof MouseEvent?t.clientX<=0&&t.clientY<=0&&t.target instanceof HTMLElement?Pd.fromBoundingRect(t.target.getBoundingClientRect()):new Pd(t.pageX-pageXOffset,t.pageY-pageYOffset,0,0):t instanceof Td?new Pd(t.x,t.y,0,0):t instanceof HTMLElement?Pd.fromBoundingRect(t.getBoundingClientRect()):t&&null!=t.top&&null!=t.left?t:null}(0,t),r=function(e){var t=document.body,n=document.documentElement,i=e.parentElement,r=new Td(t.scrollLeft||pageXOffset,t.scrollTop||pageYOffset);if(i!=t){var o=i==t?n:e.offsetParent||i;if(o==t&&(o=i),o){var s=o.getBoundingClientRect();r=new Td(o.scrollLeft-s.left,o.scrollTop-s.top)}}if(i instanceof HTMLElement){var l=getComputedStyle(i);r.x-=parseFloat(l.borderLeftWidth),r.y-=parseFloat(l.borderTopWidth)}return r}(e),o=function(e,t,n,i){var r=document.documentElement,o=r.clientWidth,s=r.clientHeight,l=rp;switch(n){case l.AboveLeft:case l.AboveRight:case l.BelowLeft:case l.BelowRight:if(t){var a=t.width;a&&(kc()&&(a-=e.offsetWidth-e.clientWidth),e.style.minWidth=a+"px")}}var u=getComputedStyle(e),c=parseFloat(u.marginTop)+parseFloat(u.marginBottom),h=parseFloat(u.marginLeft)+parseFloat(u.marginRight),d=new Id(e.offsetWidth+h,e.offsetHeight+c),p=new Td((o-d.width)/2,Math.round((s-d.height)/2*.7));if(t){"rtl"==u.direction&&(n=function(e){var t=rp;switch(e){case t.AboveLeft:return t.AboveRight;case t.AboveRight:return t.AboveLeft;case t.BelowLeft:return t.BelowRight;case t.BelowRight:return t.BelowLeft;case t.Left:return t.Right;case t.LeftTop:return t.RightTop;case t.LeftBottom:return t.RightBottom;case t.Right:return t.Left;case t.RightTop:return t.LeftTop;case t.RightBottom:return t.LeftBottom}return e}(n));var f=t.left,g=o-t.right;switch(p.x=t.left,n){case l.Above:case l.Below:p.x=t.left+(t.width-d.width)/2;break;case l.AboveLeft:case l.BelowLeft:p.x=t.left;break;case l.AboveRight:case l.BelowRight:p.x=t.right-d.width;break;case l.Left:case l.LeftTop:case l.LeftBottom:p.x=f>=d.width||f>=g?t.left-d.width:t.right;break;case l.RightTop:case l.RightBottom:case l.Right:p.x=g>=d.width||g>=f?t.right:t.left-d.width}var _=t.top,m=s-t.bottom;switch(n){case l.Above:case l.AboveLeft:case l.AboveRight:p.y=_>d.height||_>m?t.top-d.height:t.bottom;break;case l.Below:case l.BelowLeft:case l.BelowRight:p.y=m>d.height||m>_?t.bottom:t.top-d.height;break;case l.LeftTop:case l.RightTop:p.y=t.top;break;case l.LeftBottom:case l.RightBottom:p.y=t.bottom-d.height;break;case l.Left:case l.Right:p.y=t.bottom-d.height+(d.height-t.height)/2}}return p.x=Math.min(p.x,o-d.width),p.y=Math.min(p.y,s-d.height),p.x=Math.max(0,p.x)+i.x,p.y=Math.max(0,p.y)+i.y,p}(e,i,n,r),s={position:"absolute",zIndex:ep._POPUP_ZINDEX},l=0==r.x;l?(s.left=o.x,s.top=o.y):s.transform="translate("+o.x+"px, "+o.y+"px)";var a=e.getBoundingClientRect().width;if(xd(e,s),l){var u=a-e.getBoundingClientRect().width;u>0&&(e.style.left=o.x-Math.ceil(u)+"px")}}function hp(e,t){e.style.display="none",t&&e.parentElement&&setTimeout(function(){"none"==e.style.display&&(hd(e),yh(t)&&t())},ep._FOCUS_INTERVAL+50);var n=e[ep._SCRL_KEY];n instanceof ep&&n.dispose(),delete e[ep._SCRL_KEY],delete e[ep._OWNR_KEY]}function dp(e){var t=window.jQuery,n=yh(t)?t(e):null;return n&&yh(n.dialog)&&nd(e,"ui-dialog")}!function(e){e[e.Above=0]="Above",e[e.AboveRight=1]="AboveRight",e[e.RightTop=2]="RightTop",e[e.Right=3]="Right",e[e.RightBottom=4]="RightBottom",e[e.BelowRight=5]="BelowRight",e[e.Below=6]="Below",e[e.BelowLeft=7]="BelowLeft",e[e.LeftBottom=8]="LeftBottom",e[e.Left=9]="Left",e[e.LeftTop=10]="LeftTop",e[e.AboveLeft=11]="AboveLeft"}(rp||(rp={}));var pp=function(){function e(e){this._showAutoTipBnd=this._showAutoTip.bind(this),this._hideAutoTipBnd=this._hideAutoTip.bind(this),this._mousemoveBnd=this._mousemove.bind(this),this._html=!0,this._cssClass="",this._gap=6,this._isAnimated=!1,this._position=rp.Above,this._showAtMouse=!1,this._showDelay=500,this._hideDelay=0,this._tips=[],this.popup=new Xc,Hh(this,e)}return Object.defineProperty(e.prototype,"position",{get:function(){return this._position},set:function(e){this._position=Yh(e,rp)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAnimated",{get:function(){return this._isAnimated},set:function(e){this._isAnimated=Bh(e)},enumerable:!0,configurable:!0}),e.prototype.setTooltip=function(t,n,i){t=_d(t),n=this._getContent(n);var r=this._indexOf(t);r>-1&&(this._detach(t),this._tips.splice(r,1)),n&&(this._attach(t),this._tips.push({element:t,content:n,position:i}));var o=e._eTip;o&&o[ep._TTIP_KEY]==t&&(n?this._setContent(n):this._hideAutoTip())},e.prototype.getTooltip=function(e){e=_d(e);for(var t=this._tips,n=0;n<t.length;n++)if(t[n].element==e)return t[n].content;return null},e.prototype.show=function(t,n,i,r){if(t=_d(t),n=this._getContent(n),t){null==r&&(r=this.position);var o=e._eTip;o||(id(o=e._eTip=document.createElement("div"),"wj-tooltip"),o.style.visibility="none"),id(o,this.cssClass),this._setContent(n),o[ep._TTIP_KEY]=t;var s=new fp(n,t);if(this.onPopup(s),s.content&&!s.cancel){this._setContent(s.content),i||(i=Pd.fromBoundingRect(t.getBoundingClientRect()));var l=this.gap;if(l)switch(r){case rp.Above:case rp.AboveLeft:case rp.AboveRight:case rp.Below:case rp.BelowLeft:case rp.BelowRight:i=i.inflate(0,l);break;default:i=i.inflate(l,0)}ap(o,i,r,this.isAnimated),document.addEventListener("mousedown",this._hideAutoTipBnd)}}},e.prototype.hide=function(){var t=e._eTip;t&&(hd(t),rd(t,this.cssClass),t.innerHTML=""),document.removeEventListener("mousedown",this._hideAutoTipBnd)},e.prototype.dispose=function(){var e=this;this.isVisible&&this.hide();var t=this._tips;t.length&&(t.forEach(function(t){e._detach(t.element)}),t.splice(0,t.length)),this._clearTimeouts()},Object.defineProperty(e.prototype,"isVisible",{get:function(){var t=e._eTip;return null!=t&&null!=t.parentElement&&t.offsetWidth>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContentHtml",{get:function(){return this._html},set:function(e){this._html=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClass",{get:function(){return this._cssClass},set:function(e){this._cssClass=Vh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gap",{get:function(){return this._gap},set:function(e){this._gap=Nh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showAtMouse",{get:function(){return this._showAtMouse},set:function(e){this._showAtMouse=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showDelay",{get:function(){return this._showDelay},set:function(e){this._showDelay=zh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hideDelay",{get:function(){return this._hideDelay},set:function(e){this._hideDelay=zh(e)},enumerable:!0,configurable:!0}),e.prototype.onPopup=function(e){return this.popup&&this.popup.raise(this,e),!e.cancel},e.prototype._indexOf=function(e){for(var t=0;t<this._tips.length;t++)if(this._tips[t].element==e)return t;return-1},e.prototype._attach=function(e){e.addEventListener("mouseenter",this._showAutoTipBnd),e.addEventListener("mouseleave",this._hideAutoTipBnd),e.addEventListener("click",this._showAutoTipBnd),this.showAtMouse&&e.addEventListener("mousemove",this._mousemoveBnd)},e.prototype._detach=function(e){e.removeEventListener("mouseenter",this._showAutoTipBnd),e.removeEventListener("mouseleave",this._hideAutoTipBnd),e.removeEventListener("click",this._showAutoTipBnd),e.removeEventListener("mousemove",this._mousemoveBnd)},e.prototype._showAutoTip=function(e){var t=this;if(!e.defaultPrevented)if("click"!=e.type||ep._touching){var n="mouseenter"==e.type?this._showDelay:0,i=this._hideDelay;this._clearTimeouts(),this._eMouse=e,this._toShow=setTimeout(function(){var n=t._indexOf(e.target);if(n>-1){var r=t._tips[n],o=t._eMouse,s=t._showAtMouse?new Pd(o.clientX,o.clientY,0,0):null,l=r&&r.element;if(l&&(l.scrollHeight||l.scrollWidth)){var a=ep.getControl(r.element);null!=a&&0==a.isVisible||(t.show(r.element,r.content,s,r.position),i>0&&(t._toHide=setTimeout(function(){t.hide()},i)))}}},n)}else this._hideAutoTip()},e.prototype._mousemove=function(e){this._eMouse=e},e.prototype._hideAutoTip=function(){this._clearTimeouts(),this.hide()},e.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHide&&(clearTimeout(this._toHide),this._toHide=null)},e.prototype._getContent=function(e){if((e=Vh(e))&&"#"==e[0]){var t=_d(e);t&&(e=t.innerHTML)}return e},e.prototype._setContent=function(t){var n=e._eTip;n&&(this._html?n.innerHTML=t:n.textContent=t)},e}(),fp=function(e){function t(t,n){var i=e.call(this)||this;return i._content=Vh(t),i._e=n,i}return vc(t,e),Object.defineProperty(t.prototype,"tip",{get:function(){return pp._eTip},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this._e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this._content},set:function(e){this._content=Vh(e)},enumerable:!0,configurable:!0}),t}(eh);Od("wijmo",i);var gp="The Wijmo license in this application ",_p={evl:"Wijmo Evaluation Version ({version})",prd:gp+"is not valid for the <b>{control}</b> control.",ver:gp+"is not valid for the version in use. The license version is <b>{licVer}</b>; the product version is <b>{version}</b>.",dmn:gp+"is not valid for the current domain. The license domain is <b>{licDomain}</b>; the current domain is <b>{domain}</b>.",exp:gp+"has expired. The license expiration date is <b>{expDate:d}</b>.",lic:gp+"is invalid.",mss:gp+"is not set.",ctc:'If you are a customer, you can <a target="_blank" rel="noopener" href="https://www.grapecity.com/licensing/wijmo?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis">create a license</a> online. Otherwise, you can <a target="_blank" rel="noopener" href="https://www.grapecity.com/wijmo/request-trial-key?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis">generate a 30-day license</a> for free. For further assistance, contact GrapeCity: <a href="mailto:us.sales@grapecity.com">us.sales@grapecity.com</a>.',hdr:"Wijmo License",cls:"CLOSE"},mp={};function vp(e,t){var n=ep._wme;if(!(n&&yd(document.body,n)&&n.offsetWidth&&n.offsetHeight))if(t){var i=yp(e);mp[i]||(mp[i]=!0,function(e,t,n,i){var r=function(e,t){try{var n=e.indexOf(t="#"+t);if(n>-1)return{prefix:e.substring(0,n),lic:JSON.parse(Ip(e.substr(n+t.length)))}}catch(e){}return null}(e,t.algorithmCode);if(!r)return i();var o=r.lic,s=r.prefix+"#"+t.algorithmCode;if(function(e){for(var t=0,n=5381,i=0,r=e.length-1;r>=0;r--){var o=e.charCodeAt(r);t=o+(t<<6)+(t<<16)-t,n=o+((n<<5)+n),i=o+((i<<5)-i)}var s=t^n^i;return s<0&&(s=~s),s.toString(16).toUpperCase()}(s+JSON.stringify(o.D))!=o.H)return i();var l=window.msCrypto||window.crypto,a=l?l.subtle:null;if(!a||!location.protocol.match(/^https/i))return n(o.D);var u={name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},c={alg:"RS256",e:"AQAB",kty:"RSA",n:kp(t.publicKey)};c=window.msCrypto?Op(JSON.stringify(c)):c;try{Ap(a.importKey("jwk",c,u,!1,["verify"])).then(function(e){var t=function(e){return String.fromCharCode.apply(null,new Tp(e))}(Rp(function(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}))}(s+JSON.stringify(o.D))));Ap(a.verify(u,e,Rp(o.S),Op(t))).then(function(e){return e?n(o.D):i()})},function(){return n(o.D)})}catch(e){return n(o.D)}}(t,{algorithmCode:"B0",publicKey:"l6/zrbWoSbcLFwEetFh38rH3ErBZE9H+Cqix3R+wTlfA1wD5B+lUcCQn+EJ60I4RGrm0x1sFjkiLWwB0jAn6BWZv0W4WbqAKriOdeoivxDp1Wmjs3qkEDhvbsjPtfvwx2BHil6o+/tDrdMJQSGs18WZm2PoQLQuL+9VhZ4FNRHUQU3Jtioke/OZEGHJOdYVwvCGalzBad6QFOiVbDBQPePpS3++GJzOxN8SN/7lyS5/IdKiy3WJRaVGkB370+HbN6hKraDfUgReLX26yxRaKC/5aWnGAJ2NnWLoGyAGRcwT9dVjo4bcAZNrrA0U9JVKQxaSskhdv2p49XzJkltXx5w=="},function(n){wp(e,t,n),delete mp[i]},function(){wp(e,t,null),delete mp[i]}))}else wp(e,null,null)}function yp(e){return e._getProductInfo().split(",")[0]}function bp(e){return e._getProductInfo().split(",")[1]}function wp(e,t,n){var i=Md.Licensing||_p,r=null;n?function(e,t){if(t.Exp){var n=t.Exp,i=new Date(parseInt(n.substr(0,4))||0,parseInt(n.substr(4,2))-1||0,parseInt(n.substr(6,2))||0);if(Math.ceil((i.valueOf()-Date.now())/864e5)<=0)return!1}return!0}(0,n)?function(e,t){var n=t.Anl?t.Anl.ver:null;return!n||parseInt(n.replace("v",""))+10>=parseInt("5.20211.794".split(".")[1])}(0,n)?function(e,t){if(xp()||!t.Dms)return!0;for(var n=location.hostname,i=t.Dms.split(","),r=0;r<i.length;r++)if(Cp(n,i[r]))return!0;return!1}(0,n)?function(e,t){var n=yp(e);if(n&&n.length>=4)for(var i=0;i<t.Prd.length;i++)if(t.Prd[i].C.indexOf(n)>-1)return!0;return!1}(e,n)?Ep(0,n)&&(r=i.evl):r=i.prd:r=i.dmn:r=i.ver:r=i.exp:r=t?i.lic:i.mss,r&&function(e,t,n){if(t=Sp(e,t,n),!mp[" "]&&!xp()&&!Ep(0,n)){mp[" "]=!0;var i=Md.Licensing||_p,r=md('<div style="position:fixed;background:rgba(0,0,0,0.3);left:0;top:0;width:100%;height:100%;font-family: sans-serif;z-index:10000;"><div style="position:relative;overflow:auto;background:white;width:450px;padding:36pt;left:50%;top:50%;transform:translate(-50%,-50%)"><div><p style="font-size:150%;font-weight:bold">'+i.hdr+"</p><p>"+t+'</p></div><div style="text-align:right;margin-top:24pt"><button style="border:none;background:rgba(158,158,158,.2);padding:8px 16px">'+i.cls+"</button></div></div></div>",document.body);r.addEventListener("click",function(e){e.target instanceof HTMLButtonElement&&hd(r)})}if(!ep._wme){var o=md('<div><a href="'+("ja"==Md.Globalize.name?"https://www.grapecity.co.jp/developer/support/wijmo-license":"https://www.grapecity.com/licensing/wijmo?utm_source=Wijmo-In-App&utm_medium=Click-to-Site&utm_campaign=Wijmo-User-Analysis")+'" target="_blank" rel="noopener">'+Sp(e)+"</a></div>"),s={position:"fixed",display:"block",visibility:"visible",background:"rgba(240,240,240,.9)",padding:"8px 12px",margin:"6px",fontFamily:"sans-serif",fontSize:"14pt",fontWeight:"bold",zIndex:1e4,opacity:.8,height:"auto",width:"auto",transform:"none"};switch(Math.round(100*Math.random())%3){case 0:s.right=s.bottom=0;break;case 1:s.left=s.bottom=0;break;case 2:s.right=s.top=0}xd(o,s),document.body.appendChild(o),ep._wme=o,function(e,t){var n,i=md(t);i.className="wj-tooltip",xd(i,{pointerEvents:"auto",padding:"10px",margin:"6px"}),[e,i].forEach(function(e){e.addEventListener("mouseenter",function(){return o(!0)}),e.addEventListener("mouseleave",function(){return o(!1)})});var r=0;function o(t){r+=t?1:-1,n&&clearTimeout(n),n=setTimeout(function(){n=null,1==r?ap(i,e.getBoundingClientRect()):r<1&&up(i)},500)}}(o,t)}}(e,r+="<br/><br/>"+i.ctc,n)}function Cp(e,t){var n="^"+t.replace(/\./g,"\\.").replace(/\*/g,"(.*)")+"$",i=new RegExp(n,"i").test(e);return i||"*."!=t.substr(0,2)?i:Cp(e,t.substr(2))}function Ep(e,t){return!!t&&t.Evl}function xp(){var e=location,t=atob("Xih8bG9jYWxob3N0fGZpZGRsZS5qc2hlbGwubmV0fHJ1bi5wbG5rci5jb3xzLmNvZGVwZW4uaW98bnVsbC5qc2Jpbi5jb218Lio/LnN0YWNrYmxpdHouaW98MTI3LjAuMC4xfFt3LV0rLmxvY2FsfFt3LV0rfDo6MSkk");return"file:"==e.protocol||new RegExp(t,"i").test(e.hostname)}function Sp(e,t,n){(!t||t.trim().length<15)&&(t=(Md.Licensing||_p).evl),(!t||t.trim().length<15)&&(t=atob("V2lqbW8gRXZhbHVhdGlvbiBWZXJzaW9uICh7dmVyc2lvbn0p"));var i=null;if(n&&n.Exp){var r=n.Exp;i=new Date(parseInt(r.substr(0,4))||0,parseInt(r.substr(4,2))-1||0,parseInt(r.substr(6,2))||0)}return kh(t,{version:"5.20211.794",domain:location.hostname,control:bp(e),licVer:n&&n.Anl?"5."+n.Anl.ver.replace("v","")+".*":null,licDomain:n?n.Dms:null,expDate:i})}var Tp="undefined"==typeof window?null:window.Uint8Array||window.TypedArray;function Ip(e){if(!e)return"";var t=function(e){for(var t=e.split(""),n=t.length-5;n>=0;n--)Pp(t,n+1,n+3,Dp),Pp(t,n,n+2,Dp);return t.join("")}(e);t=function(e){return e.split("").reverse().join("")}(t);var n=Math.ceil(t.length/2);return function(e){for(var t=atob(e),n="",i=0;i<t.length;i++)n+="%"+("00"+t.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(n)}(t=(t=(t=t.substr(n)+t.substr(0,n)).replace("#","=")).replace("&","=="))}function Pp(e,t,n,i){e.length>1&&e.splice(n,1,i(e.splice(t,1,i(e[n]))[0]))}function Dp(e){return function(e,t){var n=e.charCodeAt(0);return n>=65&&n<=90?e.toLowerCase():n>=97&&n<=122?e.toUpperCase():n>=48&&n<=57?String.fromCharCode(48+(n-48+10-1)%10):e}(e)}function Rp(e){for(var t=atob(e),n=t.length,i=new Tp(n),r=0;r<n;r++)i[r]=t.charCodeAt(r);return i.buffer}function kp(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/\=+$/,"")}function Op(e){for(var t=new ArrayBuffer(e.length),n=new Tp(t),i=0,r=e.length;i<r;i++)n[i]=e.charCodeAt(i);return t}function Ap(e){return"oncomplete"in e&&(e.then=function(t,n){e.resolve=t,e.reject=n},e.oncomplete=function(t){e.resolve(e.result)},e.onerror=function(t){e.reject()}),e}var jp=function(){function e(){}return e.asyncBindings=!0,e}(),Mp=function(){function e(e){this.changeEventMap=[],this.allImplEvents=[],this.resolveChangeEventMap(e)}return e.prototype.resolveChangeEventMap=function(e){var t=this.changeEventMap,n=e.outputs,i=e.changeEvents||{};if(t.splice(0,t.length),this.allImplEvents=[],n&&n.length){var r=n.map(function(e){return e.split(":")}).map(function(e){return{implName:e[0].trim(),exposeName:e[1]&&e[1].trim()}});this.allImplEvents=r.map(function(e){return e.implName});for(var o=0,s=r.filter(function(e){return e.implName&&e.exposeName});o<s.length;o++){var l=s[o];if(Fp.getWjEventName(l.implName)){var a={eventImpl:l.implName,event:l.exposeName},u=i[l.exposeName];u&&u.length&&(a.props=u.map(function(e){return{prop:e,evExposed:Fp.getChangeEventNameExposed(e),evImpl:Fp.getChangeEventNameImplemented(e)}})),t.push(a)}}for(var c in i)c.indexOf(".")>-1&&(a={eventImpl:null,event:c,props:i[c].map(function(e){return{prop:e,evExposed:Fp.getChangeEventNameExposed(e),evImpl:Fp.getChangeEventNameImplemented(e)}})},t.push(a))}},e}(),Hp=function(){function e(t,n,i,r){this._pendingEvents=[],this.isInitialized=!1,this.isDestroyed=!1,this.nzRun=function(e){return e()},this.directive=t,this.elementRef=n,this.injector=i;var o=this.nz=i.get(Vl);o&&(this.nzRun=o.run.bind(o)),this.injectedParent=r;var s=this.typeData=t.constructor[e.directiveTypeDataProp];null==s.siblingId&&(s.siblingId=++e.siblingDirId+"");var l=t.constructor[e.directiveResolvedTypeDataProp];l?this.resolvedTypeData=l:t.constructor[e.directiveResolvedTypeDataProp]=l=this.resolvedTypeData=new Mp(s),t[e.BehaviourRefProp]=this,i[e.BehaviourRefProp]=this,t[e.isInitializedPropAttr]=!1,this._createEvents(),this._setupAsChild(),this._isHostElement()&&n.nativeElement.setAttribute(e.siblingDirIdAttr,s.siblingId),this.subscribeToEvents(!1)}return e.getHostElement=function(t,n){return e.ngZone=n.get(Vl),t.nativeElement},e.attach=function(t,n,i,r){return new e(t,n,i,r)},e.getZone=function(t){var n=e.getBehavior(t);return n&&n.nz||e.ngZone},e.prototype.ngOnInit=function(){this.isInitialized=!0,this._initParent(),this.subscribeToEvents(!0)},e.prototype.ngAfterViewInit=function(){var t=this;this.directive[e.isInitializedPropAttr]=!0,setTimeout(function(){t.isDestroyed||t.directive[e.initializedEventAttr].emit(void 0)})},e.prototype.ngOnDestroy=function(){if(!this.isDestroyed){this.isDestroyed=!0;var t=this.directive;if(this._siblingInsertedEH&&this.elementRef.nativeElement.removeEventListener("DOMNodeInserted",this._siblingInsertedEH),this._isChild()&&this.parentBehavior){var n=this.parentBehavior.directive,i=this._getParentProp();if(!this.parentBehavior.isDestroyed&&n&&i&&t){var r=n[i];if(Ch(r)&&r){var o=r.indexOf(t);o>=0&&r.splice(o,1)}}}if(t instanceof ep&&t.hostElement){var s=this.elementRef.nativeElement,l=s&&s.parentNode,a=l?Array.prototype.indexOf.call(l.childNodes,s):-1;t.dispose(),a>-1&&Array.prototype.indexOf.call(l.childNodes,s)<0&&(s.textContent="",a<l.childNodes.length&&l.replaceChild(s,l.childNodes[a]))}this.injector[e.BehaviourRefProp]=null}},e.instantiateTemplate=function(e,t,n,i,r){void 0===i&&(i=!1),void 0===r&&(r={});var o,s=t.createEmbeddedView(n,r,t.length),l=s.rootNodes;if(i&&1===l.length)o=l[0];else{o=document.createElement("div");for(var a=0,u=l;a<u.length;a++)o.appendChild(u[a])}return e&&e.appendChild(o),{viewRef:s,rootElement:o}},e.prototype.getPropChangeEvent=function(e){var t=this.typeData.changeEvents;if(t)for(var n in t)if(t[n].indexOf(e)>-1)return n;return null},e.prototype._createEvents=function(){for(var e=0,t=this.resolvedTypeData.allImplEvents;e<t.length;e++)this.directive[t[e]]=new rl(!1)},e.prototype.subscribeToEvents=function(e){var t=this.resolvedTypeData.changeEventMap;e=!!e;for(var n=0,i=t;n<i.length;n++)e!==(s=i[n]).event.indexOf(".")<0&&this.addHandlers(s);if(e)for(var r=0,o=t;r<o.length;r++){var s=o[r];this.triggerPropChangeEvents(s,!0)}},e.prototype.addHandlers=function(t){var n=this,i=this.directive;e.evaluatePath(i,t.event).addHandler(function(e,r){n.nzRun(function(){n.isInitialized&&n.triggerPropChangeEvents(t),t.eventImpl&&n._triggerEvent(i[t.eventImpl],r,t.props&&t.props.length>0)})})},e.prototype.triggerPropChangeEvents=function(e,t){void 0===t&&(t=!0);var n=this.directive;if(e.props&&e.props.length)for(var i=0,r=e.props;i<r.length;i++){var o=r[i];this._triggerEvent(n[o.evImpl],n[o.prop],t)}},e.prototype._setupAsChild=function(){this._isChild()&&(this._isHostElement()&&(this.elementRef.nativeElement.style.display="none"),this.parentBehavior=e.getBehavior(this.injectedParent))},e.prototype._isAsyncBinding=function(){var t=this.directive[e.asyncBindingUpdatePropAttr];return null==t?jp.asyncBindings:t},e.prototype._isChild=function(){return this._isParentInitializer()||this._isParentReferencer()},e.prototype._isParentInitializer=function(){return null!=this.directive[e.parPropAttr]},e.prototype._isParentReferencer=function(){return!!this.typeData.parentRefProperty},e.prototype._getParentProp=function(){return this.directive[e.parPropAttr]},e.prototype._getParentReferenceProperty=function(){return this.typeData.parentRefProperty},e.prototype._useParentObj=function(){return!1},e.prototype._parentInCtor=function(){return this._isParentReferencer()&&""==this._getParentReferenceProperty()},e.prototype._initParent=function(){if(this.parentBehavior&&!this._useParentObj()){var e=this.parentBehavior.directive,t=this._getParentProp(),n=this.directive;if(this._isParentInitializer()){this._getParentProp();var i=e[t];if(Ch(i)){var r=this._isHostElement(),o=r?this._getSiblingIndex():-1;(o<0||o>=i.length)&&(o=i.length),i.splice(o,0,n),r&&(this._siblingInsertedEH=this._siblingInserted.bind(this),this.elementRef.nativeElement.addEventListener("DOMNodeInserted",this._siblingInsertedEH))}else e[t]=n}this._isParentReferencer()&&!this._parentInCtor()&&(n[this._getParentReferenceProperty()]=e)}},e.prototype._getSiblingIndex=function(){var t=this.elementRef.nativeElement,n=t.parentElement;if(!n)return-1;for(var i=n.childNodes,r=-1,o=this.typeData.siblingId,s=0;s<i.length;s++){var l=i[s];if(1==l.nodeType&&l.getAttribute(e.siblingDirIdAttr)==o&&(++r,l===t))return r}return-1},e.prototype._siblingInserted=function(e){if(e.target===this.elementRef.nativeElement){var t=this._getSiblingIndex(),n=this.parentBehavior.directive[this._getParentProp()],i=this.directive,r=n.indexOf(i);t>=0&&r>=0&&t!==r&&(n.splice(r,1),t=Math.min(t,n.length),n.splice(t,0,i))}},e.prototype._isHostElement=function(){return this.elementRef.nativeElement.nodeType===Node.ELEMENT_NODE},e.prototype._triggerEvent=function(e,t,n){var i=this;n&&this._isAsyncBinding()?(this._pendingEvents.push({event:e,args:t}),null==this._pendingEventsTO&&(this._pendingEventsTO=setTimeout(function(){i._triggerPendingEvents(!1)},0))):e.emit(t)},e.prototype._triggerPendingEvents=function(e){if(null!=this._pendingEventsTO&&(clearTimeout(this._pendingEventsTO),this._pendingEventsTO=null),!this.isDestroyed){var t=[].concat(this._pendingEvents);this._pendingEvents.splice(0,this._pendingEvents.length);for(var n=0,i=t;n<i.length;n++){var r=i[n];r.event.emit(r.args)}e&&this._pendingEvents.length&&this._triggerPendingEvents(!0)}},e.prototype.flushPendingEvents=function(){this._triggerPendingEvents(!0)},e.evaluatePath=function(e,t){return this._pathBinding.path=t,this._pathBinding.getValue(e)},e.getBehavior=function(t){return t?t[e.BehaviourRefProp]:null},e.directiveTypeDataProp="meta",e.directiveResolvedTypeDataProp="_wjResolvedMeta",e.BehaviourRefProp="_wjBehaviour",e.parPropAttr="wjProperty",e.wjModelPropAttr="wjModelProperty",e.initializedEventAttr="initialized",e.isInitializedPropAttr="isInitialized",e.siblingDirIdAttr="wj-directive-id",e.asyncBindingUpdatePropAttr="asyncBindings",e.siblingDirId=0,e.wijmoComponentProviderId="WjComponent",e.outsideZoneEvents={pointermove:!0,pointerover:!0,mousemove:!0,wheel:!0,touchmove:!0,pointerenter:!0,pointerleave:!0,pointerout:!0,mouseover:!0,mouseenter:!0,mouseleave:!0,mouseout:!0},e._pathBinding=new Zc(""),e.\u0275fac=function(e){!function(){throw new Error("invalid")}()},e.\u0275dir=Je({type:e}),e}(),Fp=function(){function e(){}return e.initEvents=function(e,t){for(var n=[],i=0,r=t;i<r.length;i++){var o=r[i],s=o.props;if(o.event&&o.eventImpl&&n.push(o.eventImpl+":"+o.event),s&&s.length)for(var l=0,a=s;l<a.length;l++){var u=a[l];n.push(u.evImpl+":"+u.evExposed)}}return n},e.getChangeEventNameImplemented=function(t){return e.getChangeEventNameExposed(t)+e.changeEventImplementSuffix},e.getChangeEventNameExposed=function(e){return e+"Change"},e.getWjEventNameImplemented=function(t){return t+e.wjEventImplementSuffix},e.getWjEventName=function(t){if(t){var n=e.wjEventImplementSuffix,i=t.length-n.length;if(i>0&&t.substr(i)===n)return t.substr(0,i)}return null},e.getBaseType=function(e){var t;return e&&(t=Object.getPrototypeOf(e.prototype))&&t.constructor},e.getAnnotations=function(e){return Reflect.getMetadata("annotations",e)},e.getAnnotation=function(e,t){if(t&&e)for(var n=0,i=e;n<i.length;n++){var r=i[n];if(r instanceof t)return r}return null},e.getTypeAnnotation=function(t,n,i){for(var r=t;r;r=i?null:e.getBaseType(r)){var o=e.getAnnotation(e.getAnnotations(r),n);if(o)return o}return null},e.equals=function(e,t){return e!=e&&t!=t||Dd.equals(e,t)||e===t},e._copy=function(e,t,n,i,r){if(e&&t)for(var o in t)if(i||"_"!==o[0]){var s=t[o];if(!r||r(o,s)){var l=e[o];Ch(s)?e[o]=(!Ch(l)||n?[]:l).concat(s):void 0!==s&&(e[o]=s)}}},e.changeEventImplementSuffix="PC",e.wjEventImplementSuffix="Ng",e}(),Lp=function(){function e(e){this._writeQnt=0,this._isSubscribed=!1,this._dirUpdateQnt=0,this._onChange=function(e){},this._onTouched=function(){},this._directive=e,this._behavior=Hp.getBehavior(e)}return e.prototype.writeValue=function(e){var t=this;this._modelValue=e,++this._writeQnt,this._directive.isInitialized?(this._ensureInitEhUnsubscribed(),this._updateDirective()):this._dirInitEh||(this._dirInitEh=this._directive.initialized.subscribe(function(){t._updateDirective(),t._ensureInitEhUnsubscribed()}))},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.setDisabledState=function(e){var t=this._directive;t instanceof ep&&(t.isDisabled=e)},e.prototype._updateDirective=function(){if(!this._isFirstChange()||null!=this._modelValue){if(this._ensureNgModelProp(),this._directive&&this._ngModelProp){var e=this._modelValue;""===e&&(e=null),this._dirUpdateQnt++;try{this._directive[this._ngModelProp]=e}finally{this._dirUpdateQnt--}}this._ensureSubscribed()}},e.prototype._ensureSubscribed=function(){if(!this._isSubscribed){var e=this._directive;if(e){this._ensureNgModelProp();var t=this._ngModelProp=e[Hp.wjModelPropAttr];if(t){var n=this._behavior.getPropChangeEvent(t);n&&e[n].addHandler(this._dirValChgEh,this)}e instanceof ep&&e.lostFocus.addHandler(this._dirLostFocusEh,this),this._isSubscribed=!0}}},e.prototype._ensureNgModelProp=function(){!this._ngModelProp&&this._directive&&(this._ngModelProp=this._directive[Hp.wjModelPropAttr])},e.prototype._ensureInitEhUnsubscribed=function(){this._dirInitEh&&(this._dirInitEh.unsubscribe(),this._dirInitEh=null)},e.prototype._isFirstChange=function(){return this._writeQnt<2},e.prototype._dirValChgEh=function(e,t){if(this._onChange&&this._directive&&this._ngModelProp){var n=this._directive[this._ngModelProp],i=this._modelValue;""===i&&(i=null),(this._dirUpdateQnt>0&&Vp(i)&&Vp(n)||Fp.equals(i,n))&&!Ch(n)||(this._modelValue=n,this._onChange(n))}},e.prototype._dirLostFocusEh=function(e,t){this._onTouched&&this._onTouched()},e}();function Vp(e){return null==e||""===e}var Np=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();Ld("InputNumber",{ariaLabels:{incVal:"Increase Value",decVal:"Decrease Value"}});var zp=function(e){function t(t,n){var i=e.call(this,t)||this;i._value=null,i._min=null,i._max=null,i._format="",i._step=null,i._showBtn=!0,i._readOnly=!1,i._handleWheel=!0,i._oldText="",i.textChanged=new Xc,i.valueChanged=new Xc,sd(i.hostElement,"role","spinbutton",!0);var r=i.getTemplate();i.applyTemplate("wj-control wj-content wj-inputnumber",r,{_tbx:"input",_btnUp:"btn-inc",_btnDn:"btn-dec"},"input");var o=Md.InputNumber.ariaLabels;ad(i._btnUp.querySelector("button"),o.incVal),ad(i._btnDn.querySelector("button"),o.decVal),i._tbx.type.match(/number/i)&&(i.inputType="");var s=i._tbx;s.autocomplete="off",s.spellcheck=!1,i._updateSymbols();var l=i.addEventListener.bind(i);l(s,"keypress",i._keypress.bind(i)),l(s,"keydown",i._keydown.bind(i)),l(s,"input",i._input.bind(i)),l(s,"blur",function(){i.text!=i._oldText&&i._setText(i.text)}),l(s,"compositionstart",function(){i._composing=!0}),l(s,"compositionend",function(){i._composing=!1,setTimeout(function(){var e=i.text,t=i._oldText,n=i._chrPct;t&&t.indexOf(n)>-1&&e.indexOf(n)<0&&(e+=n),i._setText(e)})});var a=i._clickSpinner.bind(i);return l(i._btnUp,"click",a),l(i._btnDn,"click",a),i._rptUp=new lp(i._btnUp.querySelector("button")),i._rptDn=new lp(i._btnDn.querySelector("button")),l(s,"wheel",function(e){if(i.handleWheel&&!e.defaultPrevented&&!e.ctrlKey&&i._isEditable()&&i.containsFocus()){var t=Mh(-e.deltaY,-1,1);i._increment((i.step||1)*t),setTimeout(function(){return i.selectAll()}),e.preventDefault()}}),i.value=0,i.isRequired=!0,i.initialize(n),i}return Np(t,e),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=Vh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!=this._value)if(null==(e=Nh(e,!this.isRequired||null==e&&null==this._value)))this._setText("");else if(!isNaN(e)){var t=Hd.format(e,this.format);this._setText(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=Bh(e),this.inputElement.readOnly=this._readOnly,od(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){this._handleWheel=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){e!=this._min&&(this._min=Nh(e,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){e!=this._max&&(this._max=Nh(e,!0),this._updateAria())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){this._step=Nh(e,!0),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(e){e!=this.format&&(this._format=Vh(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._oldText=null,this._setText(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSpinner",{get:function(){return this._showBtn},set:function(e){this._showBtn=Bh(e),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(e){this._rptUp.disabled=this._rptDn.disabled=!Bh(e)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._tbx;ud(e,0,e.value.length)},t.prototype.clamp=function(e){return Mh(e,this.min,this.max)},t.prototype.onTextChanged=function(e){this.textChanged.raise(this,e),this._updateState()},t.prototype.onValueChanged=function(e){this._updateAria(),this.valueChanged.raise(this,e)},t.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,e.prototype.dispose.call(this)},t.prototype.onGotFocus=function(t){this._oldValue=this.value,this.isTouching||(this._tbx.focus(),this.selectAll()),e.prototype.onGotFocus.call(this,t)},t.prototype.onLostFocus=function(t){if(this._composing&&(this._composing=!1,this._setText(this.text)),this._isEditable()){var n=this.clamp(this.value);if(n==this.value||this.onInvalidInput(new eh)){var i=Hd.format(n,this.format);this._setText(i)}}e.prototype.onLostFocus.call(this,t)},t.prototype.refresh=function(t){if(void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement){this._updateSymbols();var n=Hd.format(this.value,this.format);this._setText(n)}},t.prototype._isEditable=function(){return!this.isReadOnly&&!this.isDisabled},t.prototype._updateSymbols=function(){var e=Md.Globalize.numberFormat,t=Hd._parseNumericFormat(this.format);this._chrDec=e["."]||".",this._chrTho=e[","]||",",this._chrNeg=e["-"]||"-",this._chrPls=e["+"]||"+",this._chrPct=e["%"]||"%",this._chrCur=t.curr||e.currency.symbol||"$",this._fmtSpc=t.spec,this._fmtPrc=t.prec,this._rxSym=new RegExp("^[%+\\-() \\"+this._chrDec+"\\"+this._chrCur+"\\"+this._chrNeg+"\\"+this._chrPls+"\\"+this._chrPct+"]*$"),this._rxNeg=new RegExp("(\\-|\\(|\\"+this._chrNeg+")")},t.prototype._isNumeric=function(e,t){var n=e==this._chrDec||e>="0"&&e<="9",i="x"==this._fmtSpc;return!n&&i&&(n=e>="a"&&e<="f"||e>="A"&&e<="F"),n||t||i||(n=e==this._chrPls||e==this._chrNeg||"("==e||")"==e),n},t.prototype._getInputRange=function(e){for(var t=[0,0],n=this.text,i=!1,r=0;r<n.length;r++)this._isNumeric(n[r],e)&&(i||(t[0]=r,i=!0),t[1]=r+1);return t},t.prototype._flipSign=function(){var e=this._getSelStartDigits();this.value*=-1,this._setSelStartDigits(e)},t.prototype._getSelStartDigits=function(){for(var e=0,t=this._tbx.selectionStart,n=this._tbx.value,i=0;i<n.length&&i<t;i++)this._isNumeric(n[i],!0)&&e++;return e},t.prototype._setSelStartDigits=function(e){for(var t=this._tbx.value,n=0;n<t.length&&e>=0;n++)if(this._isNumeric(t[n],!0)){if(!e){ud(this._tbx,n);break}e--}else if(!e){ud(this._tbx,n);break}},t.prototype._increment=function(e){if(e){var t=this.clamp(_h(this.value)?this.value+e:0),n=Hd.format(t,this.format,!1,!1);this._setText(n)}},t.prototype._updateBtn=function(){var e=this.showSpinner&&!!this.step,t=e;xd([this._btnUp,this._btnDn],{display:e?"":"none"}),od(this.hostElement,"wj-input-show-spinner",e),Cd(this._btnUp,t),Cd(this._btnDn,t),this._updateAria()},t.prototype._setText=function(e){if(!this._composing){var t=this._tbx,n=this._chrDec,i=this._rxNeg.test(e),r=this._delKey,o=this.containsFocus();if(e&&this._rxSym.test(e)&&o&&(e=this.isRequired||!r?(i?"-0":"0")+(e.indexOf(n)>-1?n:""):""),this._delKey=!1,r&&0==this.value&&!this.isRequired&&(e=""),!e){if(!this.isRequired)return t.value="",null!=this._value&&(this._value=null,this.onValueChanged()),this._oldText&&(this._oldText=e,this.onTextChanged()),void this._updateBtn();e="0"}var s=e.indexOf(n),l=this._format||(s>-1?"n2":"n0"),a=Hd.parseFloat(e,l);if(isFinite(a)||(a=this.clamp(a)),isNaN(a))this.onInvalidInput(new eh)?t.value=this._oldText:this.focus();else{var u=Hd.format(a,l,!1,!1,o&&s>-1?2:null);i&&a>=0&&!r&&(u=this._chrNeg+u),o&&s>-1&&"g"==this._fmtSpc&&0!=this._fmtPrc&&(u=e).indexOf(n)<0&&(u+=n),t.value!=u&&(t.value=u,a=Hd.parseFloat(u,l)),a!=this._value&&(this._value=a,this.onValueChanged()),this.text!=this._oldText&&(this._oldText=this.text,this.onTextChanged()),this._updateBtn(),this._updateState()}}},t.prototype._keypress=function(e){if(!e.defaultPrevented&&!this._composing&&this._isEditable()&&e.charCode&&!e.ctrlKey&&!e.metaKey){var t=this._tbx,n=String.fromCharCode(e.charCode);if(this._isNumeric(n,!1)){var i=t.maxLength;if(i>-1&&t.value.length>=i&&t.selectionEnd==t.selectionStart)return void e.preventDefault();var r=this._getInputRange(!0),o=t.selectionStart,s=t.selectionEnd;if(o<r[0]&&s<t.value.length&&(s=Math.max(s,r[0]),ud(t,r[0],s)),o>=r[1]){var l=null!=this._fmtPrc?this._fmtPrc:2,a=t.value.indexOf(this._chrDec);a>-1&&o-a>l&&e.preventDefault()}}else e.preventDefault();switch(n){case"-":case this._chrNeg:this.clamp(-1)>=0?this.value<0&&this._flipSign():this.value&&t.selectionStart==t.selectionEnd?this._flipSign():this.clamp(-1)<0&&(t.value=this._chrNeg,ud(t,1)),e.preventDefault();break;case"+":case this._chrPls:this.value<0&&this._flipSign(),e.preventDefault();break;case".":case this._chrDec:if(0==this._fmtPrc)e.preventDefault();else{var u=t.value.indexOf(this._chrDec);u>-1&&(t.selectionStart<=u&&u++,ud(t,u),e.preventDefault())}}if(!e.defaultPrevented&&kc()){var c=t.value;(o=t.selectionStart)==(s=t.selectionEnd)&&(t.value=c.substr(0,o)+n+c.substr(s),ud(t,o+1),e.preventDefault(),this._input())}}},t.prototype._keydown=function(e){var t=this;if(this._delKey=!1,!e.defaultPrevented&&!this._composing&&!nd(this._tbx,"wj-grid-ime")){var n=this._tbx,i=n.value,r=n.selectionStart,o=n.selectionEnd;switch(e.keyCode){case 65:e.ctrlKey&&(setTimeout(function(){t.selectAll()}),e.preventDefault());break;case ih.Up:case ih.Down:this.step&&this._isEditable()&&(this._increment(this.step*(e.keyCode==ih.Up?1:-1)),setTimeout(function(){t.selectAll()}),e.preventDefault());break;case ih.Back:if(this._delKey=!0,o-r<2&&this._isEditable()){var s=i[o-1];s!=this._chrDec&&s!=this._chrPct&&s!=this._chrTho&&")"!=s||(setTimeout(function(){o=s==t._chrPct?t._getInputRange(!0)[1]:o-1,ud(n,o)}),e.preventDefault())}break;case ih.Delete:if(this._delKey=!0,o-r<2&&this._isEditable())if("0"==i&&1==r)ud(n,0);else{var l=i[r];l!=this._chrDec&&l!=this._chrPct||(setTimeout(function(){ud(n,r+1)}),e.preventDefault())}break;case ih.Escape:this.value=this._oldValue,this.selectAll()}}},t.prototype._input=function(){var e=this;this._composing||setTimeout(function(){var t=e._tbx,n=t.value,i=n.indexOf(e._chrDec),r=t.selectionStart,o=e._getSelStartDigits();if("p"==e._fmtSpc&&n.length&&n.indexOf(e._chrPct)<0&&(n+=e._chrPct),e._setText(n),e.containsFocus()){var s=t.value,l=s.indexOf(e._chrDec),a=e._getInputRange(!0);if(n==e._chrNeg+e._chrDec&&l>-1)return void ud(t,l+1);if(n[0]==e._chrNeg&&s[0]!=e._chrNeg)return void(1==s.length?ud(t,1):e._setSelStartDigits(o));n?n==e._chrDec&&l>-1?r=l+1:r<=i&&l>-1||i<0&&l<0?r+=s.length-n.length:i<0&&l>-1&&(r=l):r=l>-1?l:a[1],ud(t,r=Mh(r,a[0],a[1]))}})},t.prototype._clickSpinner=function(e){var t=this;!e.defaultPrevented&&this._isEditable()&&this.step&&(this._increment(this.step*(yd(this._btnUp,e.target)?1:-1)),this.isTouching||setTimeout(function(){return t.selectAll()}))},t.prototype._updateAria=function(){var e=this.hostElement;e&&(sd(e,"aria-valuemin",this.min),sd(e,"aria-valuemax",this.max),sd(e,"aria-valuenow",this.value),Cd(this._btnDn,null==this.min||this.value>this.min),Cd(this._btnUp,null==this.max||this.value<this.max))},t.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group"><span wj-part="btn-dec" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">-</button></span><input type="tel" wj-part="input" class="wj-form-control wj-numeric"/><span wj-part="btn-inc" class="wj-input-group-btn" tabindex="-1"><button class="wj-btn wj-btn-default" tabindex="-1">+</button></span></div></div></div>',t}(ep),Bp=function(e){function t(t,n){var i=e.call(this,t)||this;i.valueChanged=new Xc;var r=i.getTemplate();if(i.applyTemplate("wj-control wj-content wj-inputmask",r,{_tbx:"input"},"input"),"INPUT"==i._orgTag){var o=i._tbx.getAttribute("value");o&&(i.value=o)}return i._msk=new Nd(i._tbx),i.isRequired=!0,i.initialize(n),i.addEventListener(i._tbx,"input",function(){i.onValueChanged()}),i.addEventListener(i._tbx,"blur",i._commitText.bind(i)),i.addEventListener(i._tbx,"keydown",function(e){e.keyCode==ih.Enter&&i._commitText()}),i}return Np(t,e),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=Vh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._tbx.value},set:function(e){e!=this.value&&(this._tbx.value=Vh(e),e=this._msk._applyMask(),this._tbx.value=e,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rawValue",{get:function(){return this._msk.getRawValue()},set:function(e){e!=this.rawValue&&(this.value=Vh(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask||""},set:function(e){var t=this.value;this._msk.mask=Vh(e),this.value!=t&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"promptChar",{get:function(){return this._msk.promptChar},set:function(e){var t=this.value;this._msk.promptChar=e,this.value!=t&&this.onValueChanged()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"overwriteMode",{get:function(){return this._msk.overwriteMode},set:function(e){this._msk.overwriteMode=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskFull",{get:function(){return this._msk.maskFull},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(e){this._tbx.readOnly=Bh(e),od(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._msk.getMaskRange();ud(this._tbx,e[0],e[1]+1)},t.prototype.onValueChanged=function(e){this.value!=this._oldValue&&(this._oldValue=this.value,this.valueChanged.raise(this,e)),this._updateState()},t.prototype._commitText=function(){if((this.value||this.isRequired)&&!this.maskFull&&!this.onInvalidInput(new eh)){var e=this._tbx,t=e.value,n=t.indexOf(this.promptChar);n>-1&&ud(e,n,t.length)}this._updateState()},t.prototype.dispose=function(){this._msk.input=null,e.prototype.dispose.call(this)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement&&this._msk.refresh()},t.prototype.onGotFocus=function(t){e.prototype.onGotFocus.call(this,t),this.selectAll()},t.controlTemplate='<div class="wj-input"><div class="wj-input-group"><input wj-part="input" class="wj-form-control"/></div></div>',t}(ep),Wp=function(e){function t(n,i){var r=e.call(this,n)||this;r._hsb=[.5,1,1],r._alpha=1,r.valueChanged=new Xc;var o=r.getTemplate();r.applyTemplate("wj-control wj-content wj-colorpicker",o,{_eSB:"div-sb",_eHue:"div-hue",_eAlpha:"div-alpha",_ePreview:"div-pv",_ePal:"div-pal",_eText:"div-text"}),r._palette="#FFF,#000,#F00,#FFC000,#FFFF00,#92D050,#00B050,#00B0F0,#0070C0,#7030A0".split(","),r._updatePalette(),r._eHue.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAD4CAIAAACi6hsPAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGvSURBVDhPXdBPaM9xHMfxz4pWaxcmtoOhpdXSVpiyHWxqmVpDjaU5rK34XfypjTJ/p+ZPay6jhsOsRrKwaJElf9IQq03WIkv4FeMwMq221tfje1ByeFzfvd7PEKWGEKWTQRZLySWfVRRTQjmVbKWGOhLsZT+HaeY0bbTTQSfdXOcWffTzmAFeMcwoYyT5ygS/mA5hNgphip98J8kHRnnNSwZ4yH1uc4OrdHGR87RximYO0cgedlLLdqqoYAPrWMtKVrCcJSxiPmnMJUQp/Bsyk2xyyKOAQooopYwKtlDNDur5G7SBJo7RQiv/B+2hl3s84CkvGGKEOOYnxolj/mYmhBmDJ5ngCx95xxsGecYj4pB3iENeoZMO2mmlhaMcpIE4ZII6aqhmM3HMMkooopB88sghm0wySCeVlCjMCVFIYx4LWUwOeRSwhmLWU84mqqihll3sppEmjnOSs5zjEl1c4yZ99POE5wwxwns+840fTDFLFKaZZIJxkozxlmEGGSC+GF++Sy89dHOZC8Rr4lVnOMERDrCPBPXEX22jko2UEn+/mnxyWUYWC0gnNUQh/AEc0HJs6cex0gAAAABJRU5ErkJggg==)",r._eHue.style.backgroundSize="contain",navigator.appVersion.indexOf("MSIE 9")>-1&&(r._eSB.children[0].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#ffffffff,endColorstr=#00ffffff,GradientType=1)",r._eSB.children[1].style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr=#ff000000,GradientType=0)"),r._cSB=md(o=t._tplCursor),r._cHue=md(o),r._cHue.style.width="100%",r._cAlpha=md(o),r._cAlpha.style.height="100%",r._eSB.appendChild(r._cSB),r._eHue.appendChild(r._cHue),r._eAlpha.appendChild(r._cAlpha);var s=r.addEventListener.bind(r),l=r.removeEventListener.bind(r),a=document;s(r.hostElement,"mousedown",function(e){s(a,"mousemove",u),s(a,"mouseup",c),r._mouseDown(e)}),s(r.hostElement,"touchstart",function(e){s(a,"touchmove",u),s(a,"touchend",c),r._mouseDown(e)});var u=function(e){r._mouseMove(e)},c=function(e){l(a,"mousemove",u),l(a,"mouseup",c),l(a,"touchmove",u),l(a,"touchend",c),r._mouseUp(e)};return s(r.hostElement,"click",function(e){var t=e.target;if(t&&"DIV"==t.tagName&&yd(r._ePal,t)){var n=t.style.backgroundColor;n&&(r.value=new jd(n).toString())}}),r.value="#ffffff",r.initialize(i),r._updatePanels(),r}return Np(t,e),Object.defineProperty(t.prototype,"showAlphaChannel",{get:function(){return"none"!=this._eAlpha.parentElement.style.display},set:function(e){this._eAlpha.parentElement.style.display=Bh(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showColorString",{get:function(){return"none"!=this._eText.style.display},set:function(e){this._eText.style.display=Bh(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!=this.value){e=Vh(e);var t=jd.fromString(e);if(t){this._value=e,this._eText.innerText=e;var n=t.getHsb();this._hsb[0]==n[0]&&this._hsb[1]==n[1]&&this._hsb[2]==n[2]&&this._alpha==t.a||(0==n[2]?(n[0]=this._hsb[0],n[1]=this._hsb[1]):0==n[1]&&(n[0]=this._hsb[0]),this._hsb=n,this._alpha=t.a,this._updatePanels(),this.onValueChanged())}}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._palette},set:function(e){(e=(e=Uh(e)).slice(0,10)).every(function(e){return null!=jd.fromString(e)})&&(this._palette=e,this._updatePalette())},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this._updatePanels(),this.valueChanged.raise(this,e)},t.prototype._mouseDown=function(e){this._htDown=this._getTargetPanel(e),this._htDown&&(e.preventDefault(),this.focus(),this._mouseMove(e))},t.prototype._mouseMove=function(e){var t=e.touches?e.touches[0]:e,n=this._htDown;if(n){var i=n.getBoundingClientRect(),r=this._hsb;n==this._eHue?r[0]=Mh((t.clientY-i.top)/i.height,0,.99):n==this._eSB?(r[1]=Mh((t.clientX-i.left)/i.width,0,1),r[2]=Mh(1-(t.clientY-i.top)/i.height,0,1)):n==this._eAlpha&&(this._alpha=Mh((t.clientX-i.left)/i.width,0,1)),this._updateColor()}},t.prototype._mouseUp=function(e){this._htDown=null},t.prototype._updateColor=function(){var e=jd.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],this._alpha);this.value=e.toString(),this._updatePanels()},t.prototype._updatePalette=function(){var e=new jd("#fff"),t=new jd("#000");this._ePal.innerHTML="";for(var n=0;n<this._palette.length;n++){var i=md('<div style="float:left;width:10%;box-sizing:border-box;padding:1px">'),r=new jd(this._palette[n]),o=r.getHsb();i.appendChild(this._makePalEntry(r,4));for(var s=0;s<5;s++)r=0==o[1]?jd.interpolate(e,t,.1*s+(o[2]>.5?.05:.55)):jd.fromHsb(o[0],.1+.2*s,1-.1*s),i.appendChild(this._makePalEntry(r,0));this._ePal.appendChild(i)}},t.prototype._makePalEntry=function(e,t){var n=document.createElement("div");return xd(n,{cursor:"pointer",backgroundColor:e.toString(),marginBottom:t||""}),n.innerHTML="&nbsp",n},t.prototype._updatePanels=function(){var e=jd.fromHsb(this._hsb[0],1,1,1),t=jd.fromHsb(this._hsb[0],this._hsb[1],this._hsb[2],1);this._eSB.style.backgroundColor=e.toString(),this._eAlpha.style.background="linear-gradient(to right, transparent 0%, "+t.toString()+" 100%)",navigator.appVersion.indexOf("MSIE 9")>-1&&(this._eAlpha.style.filter="progid:DXImageTransform.Microsoft.gradient(startColorstr=#00000000,endColorstr="+t.toString()+", GradientType = 1)"),this._ePreview.style.backgroundColor=this.value,this._cHue.style.top=(100*this._hsb[0]).toFixed(0)+"%",this._cSB.style.left=(100*this._hsb[1]).toFixed(0)+"%",this._cSB.style.top=(100-100*this._hsb[2]).toFixed(0)+"%",this._cAlpha.style.left=(100*this._alpha).toFixed(0)+"%"},t.prototype._getTargetPanel=function(e){var t=e.target;return yd(this._eSB,t)?this._eSB:yd(this._eHue,t)?this._eHue:yd(this._eAlpha,t)?this._eAlpha:null},t.controlTemplate='<div style="position:relative;width:100%;height:100%"><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-pal"><div style="float:left;width:10%;box-sizing:border-box;padding:2px"><div style="background-color:black;width:100%">&nbsp;</div><div style="height:6px"></div></div></div><div wj-part="div-text" style="position:absolute;bottom:0px;display:none"></div></div><div style="float:left;width:50%;height:100%;box-sizing:border-box;padding:2px"><div wj-part="div-sb" class="wj-colorbox" style="float:left;width:89%;height:89%"><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to right, white 0%,transparent 100%)"></div><div style="position:absolute;width:100%;height:100%;background:linear-gradient(to top, black 0%,transparent 100%)"></div></div><div style="float:left;width:1%;height:89%"></div><div style="float:left;width:10%;height:89%"><div wj-part="div-hue" class="wj-colorbox"></div></div><div style="float:left;width:89%;height:1%"></div><div style="float:left;width:89%;height:10%"><div style="width:100%;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAAcSURBVBhXY/iPBBYgAWpKQGkwgMqDAdUk/v8HAM7Mm6GatDUYAAAAAElFTkSuQmCC)"><div wj-part="div-alpha" class="wj-colorbox"></div></div></div><div style="float:left;width:1%;height:10%"></div><div style="float:left;width:10%;height:10%"><div wj-part="div-pv" class="wj-colorbox" style="position:static"></div></div></div></div>',t._tplCursor='<div style="position:absolute;left:50%;top:50%;width:7px;height:7px;transform:translate(-50%,-50%);border:2px solid #f0f0f0;border-radius:50px;box-shadow:0px 0px 4px 2px #0f0f0f"></div>',t}(ep),qp=function(e){function t(t,n){var i=e.call(this,t)||this;i._view=null,i._byPage=!1,i._fmt="{current:n0} / {count:n0}";var r=i.getTemplate();return i.applyTemplate("wj-control wj-content wj-pager wj-collectionview-navigator",r,{_btnFirst:"btn-first",_btnPrev:"btn-prev",_txtCurr:"txt-curr",_btnNext:"btn-next",_btnLast:"btn-last"},"input"),i._rptNext=new lp(i._btnNext.querySelector("button")),i._rptPrev=new lp(i._btnPrev.querySelector("button")),i.addEventListener(i.hostElement,"click",i._click.bind(i)),i.initialize(n),i._update(),i}return Np(t,e),Object.defineProperty(t.prototype,"cv",{get:function(){return this._view},set:function(e){if(e!=this._view){var t=this._view;t&&(t.collectionChanged.removeHandler(this._collectionChanged),t.currentChanged.removeHandler(this._currentChanged)),t=this._view=Gh(e,"ICollectionView",!0),this._update(),t&&(t.collectionChanged.addHandler(this._collectionChanged,this),t.currentChanged.addHandler(this._currentChanged,this))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byPage",{get:function(){return this._byPage},set:function(e){e!=this._byPage&&(this._byPage=Bh(e),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormat",{get:function(){return this._fmt},set:function(e){e!=this._fmt&&(this._fmt=Vh(e),this._update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptNext.disabled},set:function(e){this._rptNext.disabled=this._rptPrev.disabled=!Bh(e)},enumerable:!0,configurable:!0}),t.prototype._update=function(){var e=this._view,t=this._byPage,n=e?t?e.pageIndex:e.currentPosition:0,i=e?t?e.pageCount:e.itemCount:0;Cd(this._btnFirst,e&&n>0),Cd(this._btnPrev,e&&n>0),Cd(this._txtCurr,null!=e),Cd(this._btnNext,e&&n<i-1),Cd(this._btnLast,e&&n<i-1),this._txtCurr.value=kh(this._fmt,{current:e?n+1:0,count:e?i:0,currentItem:e?e.currentPosition+1:0,itemCount:e?e.itemCount:0,currentPage:e?e.pageIndex+1:0,pageCount:e?e.pageCount:0})},t.prototype._currentChanged=function(){this._update()},t.prototype._collectionChanged=function(){this._update()},t.prototype._click=function(e){var t=e.target,n=this._view,i=this._byPage;n&&(yd(this._btnFirst,t)?i?n.moveToFirstPage():n.moveCurrentToFirst():yd(this._btnPrev,t)?i?n.moveToPreviousPage():n.moveCurrentToPrevious():yd(this._btnNext,t)?i?n.moveToNextPage():n.moveCurrentToNext():yd(this._btnLast,t)&&(i?n.moveToLastPage():n.moveCurrentToLast()),e.preventDefault())},t.controlTemplate='<div class="wj-input-group"><span wj-part="btn-first" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-backward"></span></button></span><span wj-part="btn-prev" class="wj-input-group-btn"> <button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span> </button></span><input wj-part="txt-curr" class="wj-form-control" readonly><span wj-part="btn-next" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></span><span wj-part="btn-last" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-step-forward"></span></button></span></div>',t}(ep),Up=function(e){function t(n,i){var r=e.call(this,n,null,!0)||this;r._cv=null,r._itemFormatter=null,r._pathDisplay=new Zc(""),r._pathValue=new Zc(""),r._pathChecked=new Zc(""),r._html=!1,r._shGroups=!1,r._checkedItems=null,r._itemRole="option",r._caseSensitive=!1,r._vThreshold=t._VTHRESH,r._isVirtual=!1,r._children=[],r._clientHeight=-1,r._itemHeight=30,r._itemsAbove=-1,r._itemsBelow=-1,r._eSizer=document.createElement("div"),r._ePadTop=document.createElement("div"),r._ePadBot=document.createElement("div"),r._checking=!1,r._search="",r._fmtItemHandlers=0,r._itemCount=0,r._oldSel=null,r.selectedIndexChanged=new Xc,r.itemsChanged=new Xc,r.loadingItems=new Xc,r.loadedItems=new Xc,r.itemChecked=new Xc,r.checkedItemsChanged=new Xc,r.formatItem=new Xc(function(){r.invalidate()}),r.applyTemplate("wj-control wj-content wj-listbox",null,null);var o=r.hostElement;return sd(o,"role","listbox",!0),"SELECT"==r._orgTag&&r._initFromSelect(r.hostElement),r.addEventListener(o,"click",r._click.bind(r)),r.addEventListener(o,"keydown",r._keydown.bind(r)),r.addEventListener(o,"keypress",r._keypress.bind(r)),r.addEventListener(o,"wheel",function(e){o.scrollHeight>o.offsetHeight&&(e.deltaY<0&&0==o.scrollTop||e.deltaY>0&&o.scrollTop+o.offsetHeight>=o.scrollHeight)&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation())}),[r._eSizer,r._ePadTop,r._ePadBot].forEach(function(e){e.tabIndex=-1,sd(e,"aria-hidden",!0),xd(e,{pointerEvents:"none",opacity:"0"})}),r.initialize(i),r._updateViewRange(),r.hostElement.addEventListener("scroll",function(e){r._updateViewRange()}),r}return Np(t,e),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){this._items!=e&&(this._cv&&(this._cv.currentChanged.removeHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.removeHandler(this._cvCollectionChanged,this),this._cv=null),this._items=e,this._checkedItems=null,this._cv=Kh(e),null!=this._cv&&(this._cv.currentChanged.addHandler(this._cvCurrentChanged,this),this._cv.collectionChanged.addHandler(this._cvCollectionChanged,this)),this._populateList(),this.onItemsChanged(),this.onSelectedIndexChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._vThreshold},set:function(e){if(e!=this._vThreshold){var t=this._getVirtual();this._vThreshold=Nh(e,!1,!0),t!=this._getVirtual()&&this._populateList()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._shGroups},set:function(e){e!=this._shGroups&&(this._shGroups=Bh(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._html},set:function(e){e!=this._html&&(this._html=Bh(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._itemFormatter=qh(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._pathDisplay.path},set:function(e){e!=this.displayMemberPath&&(this._pathDisplay.path=Vh(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._pathValue.path},set:function(e){this._pathValue.path=Vh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){return this._pathChecked.path},set:function(e){e!=this.checkedMemberPath&&(this._pathChecked.path=Vh(e),this._populateList())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._caseSensitive},set:function(e){this._caseSensitive=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemRole",{get:function(){return this._itemRole},set:function(e){e!=this.itemRole&&(this._itemRole=Vh(e),this._populateList())},enumerable:!0,configurable:!0}),t.prototype.getDisplayValue=function(e){var t=null;e>-1&&Jh(this._cv)&&(t=this._cv.items[e],this.displayMemberPath&&(t=this._pathDisplay.getValue(t)));var n=null!=t?t.toString():"";return this._itemFormatter&&(n=this._itemFormatter(e,n)),n},t.prototype.getDisplayText=function(e){var t=this._getChild(e);return null!=t?t.textContent:""},t.prototype.isItemEnabled=function(e){var t=this._getChild(e);return null!=t&&!t.hasAttribute("disabled")&&!nd(t,"wj-state-disabled")&&!nd(t,"wj-separator")},Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._cv?this._cv.currentPosition:-1},set:function(e){this._cv&&this._cv.moveCurrentToPosition(Nh(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._cv?this._cv.currentItem:null},set:function(e){this._cv&&this._cv.moveCurrentTo(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValue",{get:function(){var e=this.selectedItem;return e&&this.selectedValuePath&&(e=this._pathValue.getValue(e)),e},set:function(e){var t=this._cv,n=t?t.items:null,i=this.selectedValuePath,r=-1;if(n){for(var o=0;o<n.length;o++){var s=n[o],l=i?this._pathValue.getValue(s):s;if(l===e||Dd.equals(l,e)){r=o;break}if(this.isContentHtml&&fh(l)&&l.indexOf("<")>-1&&td(l)===e){r=o;break}}this.selectedIndex=r}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){var e=this.hostElement,t=e?parseFloat(e.style.maxHeight):null;return isNaN(t)?null:t},set:function(e){var t=this.hostElement;t&&(e=Nh(e,!0),t.style.maxHeight=null==e?"":e+"px")},enumerable:!0,configurable:!0}),t.prototype.showSelection=function(e){void 0===e&&(e=this.containsFocus());var t=this.hostElement,n=this._children,i=this._getSelectedElement(!1),r=new Pd(0,0,0,0);i!=this._oldSel&&(this._updateItemAttributes(i,!0),this._updateItemAttributes(this._oldSel,!1),this._oldSel=i),i instanceof HTMLElement?r=this._getBoundingClientRect(i):this._children.length>0&&(r=this._getBoundingClientRect(this._getChild(0)));var o=this._getBoundingClientRect(t),s=0;if(this._shGroups&&(s=this._itemHeight,!this._isVirtual)){var l=n[0];l.offsetHeight&&nd(l,"wj-header")&&(s=l.offsetHeight)}r.bottom>o.bottom?t.scrollTop+=r.bottom-o.bottom:r.top<o.top+s&&(t.scrollTop-=o.top+s-r.top),this._updateViewRange(),i=this._getSelectedElement(!0),e&&(i&&!yd(i,dd())?i:t).focus(),t.tabIndex=i?-1:this._orgTabIndex},t.prototype.loadList=function(){this._populateList()},t.prototype.getItemChecked=function(e){var t=this._cv.items[e],n=this._pathChecked;if(Eh(t)&&n.path)return n.getValue(t);var i=this._getCheckbox(e);return!!i&&i.checked},t.prototype.setItemChecked=function(e,t){this._setItemChecked(e,t,!0)},t.prototype.toggleItemChecked=function(e){this.setItemChecked(e,!this.getItemChecked(e))},Object.defineProperty(t.prototype,"checkedItems",{get:function(){return null==this._checkedItems&&(this._checkedItems=this._getCheckedItems()),this._checkedItems},set:function(e){var t=this,n=Uh(e,!1);if(!this._arrayEquals(n,this.checkedItems)){var i=this._cv,r=this._pathChecked,o=new Map;if(r&&i){var s=i.sourceCollection;if(s&&s.length){Eh(s[0])||(r=null),n.forEach(function(e){return o.set(e,!0)}),this._checking=!0;var l=[];s.forEach(function(e){var t=o.has(e);t&&l.push(e),r&&r.setValue(e,t)}),this._checking=!1,n=l}i.items.forEach(function(e,n){t._setItemChecked(n,o.has(e),!1)})}this._arrayEquals(n,this._checkedItems)||(this._checkedItems=n,this.onCheckedItemsChanged())}},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(e){return(e=bd(e,".wj-listbox-item"))?e[t._DIDX_KEY]:-1},t.prototype.onSelectedIndexChanged=function(e){this.selectedIndexChanged.raise(this,e)},t.prototype.onItemsChanged=function(e){this.itemsChanged.raise(this,e)},t.prototype.onLoadingItems=function(e){this.loadingItems.raise(this,e)},t.prototype.onLoadedItems=function(e){this.loadedItems.raise(this,e)},t.prototype.onItemChecked=function(e){this.itemChecked.raise(this,e)},t.prototype.onCheckedItemsChanged=function(e){this.checkedItemsChanged.raise(this,e)},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.refresh=function(t){if(void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement){var n=this.formatItem.handlerCount;(this._cv?this._cv.items.length:0)==this._itemCount&&n==this._fmtItemHandlers||(this._fmtItemHandlers=n,this._populateList())}},t.prototype._getBoundingClientRect=function(e){if(!e.offsetHeight){var t=this.indexOf(e),n=this.hostElement;if(t>-1&&n){t=this._getElementIndex(t);var i=n.getBoundingClientRect();return new Pd(0,i.top-n.scrollTop+t*this._itemHeight,i.width,this._itemHeight)}}return Pd.fromBoundingRect(e.getBoundingClientRect())},t.prototype._updateItemAttributes=function(e,t){if(e){var n=this.checkedMemberPath?this._getCheckbox(this.indexOf(e)):null,i=n?n.checked:null;od(e,"wj-state-selected",t),sd(e,"aria-selected",this._getAriaSelected(t,i)),e.tabIndex=t?this._orgTabIndex:-1}},t.prototype._getCheckedItems=function(){var e=this,t=this._cv,n=this._pathChecked,i=[];return t&&n&&n.path&&(i=t.sourceCollection.filter(function(i,r){if(t.filter&&!t.filter(i))return!1;if(Eh(i))return n.getValue(i);var o=t.items[r]==i?r:t.items.indexOf(i);return e.getItemChecked(o)})),i},t.prototype._arrayEquals=function(e,t){if(e==t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0},t.prototype._getChild=function(e){return e=this._getElementIndex(e),this._children[e]},t.prototype._getElementIndex=function(e){if(this._shGroups)for(var t=this._children,n=0;n<=e&&n<t.length;n++)nd(t[n],"wj-header")&&e++;return e},t.prototype._setItemChecked=function(e,t,n){void 0===n&&(n=!0);var i=this._cv.items[e],r=this._pathChecked,o=!1,s=this.selectedIndex,l=this._checking;if(Eh(i)&&r.path){if(r.getValue(i)!=t){var a=dh(this._cv,"IEditableCollectionView");o=!0,this._checking=!0,a?(a.editItem(i),r.setValue(i,t),a.commitEdit()):(r.setValue(i,t),a.refresh()),this._checking=l}}else o=!0;var u=this._getCheckbox(e);if(u){u.checked=t;var c=bd(u,".wj-listbox-item");c&&(od(c,"wj-state-checked",t),sd(c,"aria-selected",!!t||null))}return n&&(o&&(this._checkedItems=null,this.onItemChecked(),this.onCheckedItemsChanged()),s!=this.selectedIndex&&this.onSelectedIndexChanged()),o},t.prototype._cvCollectionChanged=function(){this._checking||(this._populateList(),this.onItemsChanged())},t.prototype._cvCurrentChanged=function(){this._checking||(this.showSelection(),this.onSelectedIndexChanged())},t.prototype._populateList=function(){var e=this.hostElement,n=this._cv;if(this._itemCount=n?n.items.length:0,this._isVirtual=this._getVirtual(),this._oldSel=null,this._itemsAbove=-1,this._itemsBelow=-1,e){var i=this.containsFocus(),r=void 0;this.onLoadingItems();var o=this._children=[];if(e.textContent="",n){var s=0,l=void 0,a=[];if(this._shGroups&&n.groups&&n.groups.length){r={};for(var u=0;u<n.groups.length;u++){var c=n.groups[u];r[s]=c,l=this._createHeaderItem(c),a.push(l);for(var h=0;h<c.items.length;h++,s++)l=this._createItem(s),a.push(l)}}else for(h=0;h<n.items.length;h++,s++)l=this._createItem(s),a.push(l);var d=this._isVirtual?document.createElement("div"):e,p=0;for(d.innerHTML=a.join(""),h=0;h<d.children.length;h++){var f=d.children[h];p==n.currentPosition&&(this._oldSel=f),f[t._DIDX_KEY]=f.className.indexOf("wj-header")<0?p++:-1,o.push(f)}}if(this.formatItem.hasHandlers&&n){s=0;var g=n.items;for(f=new Gp(0,null,null),h=0;h<o.length;h++)f._item=o[h],this._shGroups&&nd(f._item,"wj-header")?(f._index=-1,f._data=r[s]):(f._index=s,f._data=g[s++]),this.onFormatItem(f)}if(this._isVirtual){var _=this._getCanvasContext(),m=null,v=0;for(h=0;h<o.length;h++){var y=_.measureText((l=o[h]).textContent);y.width>v&&(m=l,v=y.width)}if(m){var b=!1,w=e.style.display,C=e.style.position;e.parentElement||(b=!0,document.body.appendChild(e),xd(e,{display:"",position:"absolute"})),e.appendChild(m);var E=m.style.whiteSpace;m.style.whiteSpace="nowrap",this._ePadTop.style.width=m.offsetWidth+"px",this._itemHeight=m.offsetHeight||this._itemHeight,m.style.whiteSpace=E,b&&(hd(e),xd(e,{display:w,position:C})),hd(m)}else this._ePadTop.style.width="";this._eSizer.style.height=o.length*this._itemHeight+"px",e.appendChild(this._eSizer),this._clientHeight=e.clientHeight,hd(this._eSizer),this._updateViewRange()}this.checkedItems=this._getCheckedItems();var x=this._getSelectedElement(!0);i?(x||e).focus():x&&this.showSelection(),e.tabIndex=x?-1:this._orgTabIndex,this.onLoadedItems()}},t.prototype._getCanvasContext=function(){var e=document.createElement("canvas").getContext("2d"),t=getComputedStyle(this.hostElement);return t.fontSize&&t.fontFamily&&(e.font=t.fontSize+" "+t.fontFamily.split(",")[0]),e},t.prototype._getVirtual=function(){if(this._itemCount<=this._vThreshold)return!1;var e=this.hostElement;if(e){var t=getComputedStyle(e);if(parseInt(t.columnCount)>1||t.display.indexOf("flex")>-1||t.display.indexOf("grid")>-1)return!1}return!0},t.prototype._getMaxSupportedCssHeight=function(){var e=265e5;return kc()?e=15e5:Sc()&&(e=175e5),e},t.prototype._updateViewRange=function(){var e=this.hostElement,t=e.scrollTop,n=this._itemHeight,i=this._children;if(!(e&&e.parentElement&&this._isVirtual&&this._children))return!1;Fh(n*i.length<this._getMaxSupportedCssHeight(),"The number of items ("+i.length+") exceeds the maximum number of items ("+Math.floor(this._getMaxSupportedCssHeight()/n)+") allowed for this browser.");var r=Math.max(e.clientHeight,this._clientHeight),o=Math.floor(t/n),s=Math.min(i.length,Math.ceil((t+r)/n)-o),l=Math.max(0,i.length-o-s);if(o==this._itemsAbove&&l==this._itemsBelow)return!1;this._itemsAbove=o,this._itemsBelow=l;var a=document.createDocumentFragment(),u=this.containsFocus();if(this._ePadTop.style.height=o*n+"px",a.appendChild(this._ePadTop),this.showGroups&&!nd(i[o],"wj-header"))for(var c=o;c>=0;c--)if(nd(i[c],"wj-header")){a.appendChild(i[c]);break}for(c=o;c<=o+s&&c<i.length;c++)a.appendChild(i[c]);this._ePadBot.style.height=l*n+"px",a.appendChild(this._ePadBot),e.textContent="",e.appendChild(a),this._ePadBot.style.height=this._ePadBot.offsetHeight-((o+s+l)*n-e.scrollHeight)+"px";var h=this._getSelectedElement(!0);return u&&(h||e).focus({preventScroll:!0}),e.tabIndex=h?-1:this._orgTabIndex,!0},t.prototype._getSelectedElement=function(e){var t=this._getElementIndex(this.selectedIndex),n=t>-1?this._children[t]:null;return e&&n&&!n.offsetHeight&&(n=null),n},t.prototype._handleResize=function(){this._updateViewRange()},t.prototype._createItem=function(e){var t=this._cv.items[e],n=e==this._cv.currentPosition,i=this.getDisplayValue(e);1!=this._html&&(i=$h(i));var r=null;this.checkedMemberPath&&(r=!1,Eh(t)?r=!!this._pathChecked.getValue(t):this._checkedItems&&(r=this._checkedItems.indexOf(t)>-1),i='<label><input type="checkbox" tabindex="-1"'+(r?" checked":"")+"><span></span> "+i+"</label>");var o="wj-listbox-item";if(n&&(o+=" wj-state-selected"),r&&(o+=" wj-state-checked"),this._html){var s=["wj-separator","wj-state-disabled"];if(i.indexOf(s[0])>-1||i.indexOf(s[1])>-1){var l=md(i);s.forEach(function(e){nd(l,e)&&(o+=" "+e)})}}return'<div class="'+o+'" role="'+this.itemRole+'" '+(this._getAriaSelected(n,r)?'aria-selected="true" ':"")+'tabindex="'+(n?this._orgTabIndex:-1)+'">'+i+"</div>"},t.prototype._getAriaSelected=function(e,t){return!!(null!=t?t:e)||null},t.prototype._createHeaderItem=function(e){return'<div class="wj-listbox-item wj-header wj-state-disabled" role="presentation" tabindex="-1">'+$h(e.name)+"</div>"},t.prototype._click=function(e){if(0==e.button&&!e.defaultPrevented){var t=this.indexOf(e.target);if(t>-1&&(this.selectedIndex=t,this.checkedMemberPath)){var n=this._getCheckbox(t),i=bd(n,".wj-listbox-item");e.target!=n&&e.target!=i||(i.focus({preventScroll:!0}),this.setItemChecked(t,n.checked))}}},t.prototype._keydown=function(e){var t=this.selectedIndex;if(!e.defaultPrevented){if(65==e.keyCode&&(e.ctrlKey||e.metaKey)){var n=this.collectionView;if(this.checkedMemberPath&&Jh(n))return this.checkedItems=this.checkedItems.length!=n.items.length?n.items:[],void e.preventDefault()}if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey))switch(e.keyCode){case ih.Down:e.preventDefault(),this._selectNext();break;case ih.Up:e.preventDefault(),this._selectPrev();break;case ih.Home:e.preventDefault(),this._selectFirst();break;case ih.End:e.preventDefault(),this._selectLast();break;case ih.PageDown:e.preventDefault(),this._selectNextPage();break;case ih.PageUp:e.preventDefault(),this._selectPrevPage();break;case ih.Space:if(this.checkedMemberPath&&t>-1){var i=this._getCheckbox(t);i&&this.isItemEnabled(t)&&(this.setItemChecked(t,!i.checked),e.preventDefault())}}}},t.prototype._keypress=function(e){var t=this;if(!e.defaultPrevented&&!(e.target instanceof HTMLInputElement)&&(e.charCode>32||32==e.charCode&&this._search)){e.preventDefault(),this._search+=String.fromCharCode(e.charCode),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){t._toSearch=null,t._search=""},ep._SEARCH_DELAY);var n=this._findNext();n<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],n=this._findNext()),n>-1&&(this.selectedIndex=n)}},t.prototype._selectNext=function(){for(var e=this.selectedIndex+1;e<this._children.length;e++)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectPrev=function(){for(var e=this.selectedIndex-1;e>=0;e--)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectFirst=function(){for(var e=0;e<this._children.length;e++)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectLast=function(){for(var e=this._children.length-1;e>=0;e--)if(this.isItemEnabled(e))return this.selectedIndex=e,!0;return!1},t.prototype._selectNextPage=function(){var e=this.hostElement.offsetHeight,t=this._children,n=this._cv?this._cv.items.length:0,i=0;if(e>0)for(var r=this.selectedIndex+1;r<n;r++){var o=t[r].scrollHeight||this._itemHeight;if(i+o>e&&this.isItemEnabled(r))return this.selectedIndex=r,!0;i+=o}return this._selectLast()},t.prototype._selectPrevPage=function(){var e=this.hostElement.offsetHeight,t=this._children,n=0;if(e>0)for(var i=this.selectedIndex-1;i>0;i--){var r=t[i].scrollHeight||this._itemHeight;if(n+r>e&&this.isItemEnabled(i))return this.selectedIndex=i,!0;n+=r}return this._selectFirst()},t.prototype._findNext=function(){if(this.hostElement){var e=this._children.length,t=this.selectedIndex;(t<0||1==this._search.length)&&t++;var n=this._search,i=this.caseSensitiveSearch;i||(n=n.toLowerCase());for(var r=0;r<e;r++){var o=(t+r)%e;if(this.isItemEnabled(o)){var s=this.getDisplayText(o).trim();if(i||(s=s.toLowerCase()),0==s.indexOf(n))return o}}}return-1},t.prototype._getCheckbox=function(e){var t=this._children;return e=this._getElementIndex(e),this.hostElement&&e>-1&&e<t.length?t[e].querySelector("input[type=checkbox]"):null},t.prototype._initFromSelect=function(e){for(var t=e.children,n=[],i=-1,r=0;r<t.length;r++){var o=t[r];"OPTION"==o.tagName&&(o.hasAttribute("selected")&&(i=n.length),n.push(o.innerHTML?{hdr:o.innerHTML,val:o.getAttribute("value"),cmdParam:o.getAttribute("cmd-param")}:{hdr:'<div class="wj-separator"></div>'}),e.removeChild(o),r--)}n&&(this.displayMemberPath="hdr",this.selectedValuePath="val",this.itemsSource=n,this.selectedIndex=i)},t._DIDX_KEY="$WJ-DIDX",t._VTHRESH=Number.MAX_VALUE/2,t}(ep),Gp=function(e){function t(t,n,i){var r=e.call(this)||this;return r._index=Nh(t),r._data=n,r._item=Gh(i,HTMLElement,!0),r}return Np(t,e),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"item",{get:function(){return this._item},enumerable:!0,configurable:!0}),t}(Qc);Ld("MultiSelectListBox",{filterPlaceholder:"Filter",selectAll:"Select All"});var Yp,Kp,Jp=function(e){function t(n,i){var r=e.call(this,n)||this;r._selectAllLabel=null,r._filterPlaceholder=null,r._filterText="",r._checkOnFilter=!0,r._delay=ep._SEARCH_DELAY,r.checkedItemsChanged=new Xc,r.selectedIndexChanged=new Xc;var o=r.getTemplate();r.applyTemplate("wj-control wj-content wj-multiselectlistbox",o,{_selectAll:"select-all",_filter:"filter",_lbHost:"list-box"}),r._selectAll.style.display="none",r._filter.style.display="none",r._lbx=new Up(r._lbHost,{checkedMemberPath:t._DEF_CHECKED_PATH,loadedItems:function(){return r._updateCheckAllCheckbox()},checkedItemsChanged:function(){return r.onCheckedItemsChanged()},selectedIndexChanged:function(){return r.onSelectedIndexChanged()}}),r._cbSelectAll=r._selectAll.querySelector("input[type=checkbox]"),r._spSelectAll=r._selectAll.querySelector("label>span");var s=Md.MultiSelectListBox;return vd(r._spSelectAll,s.selectAll),r._filter.placeholder=s.filterPlaceholder,r.initialize(i),r.addEventListener(r._filter,"input",function(){r._filter.value!=r._filterText&&(r._filterText=r._filter.value,r._toSearch&&clearTimeout(r._toSearch),r._toSearch=setTimeout(function(){r._toSearch=null,r._applyFilter()},r.delay))}),r.addEventListener(r._cbSelectAll,"click",function(e){var t=r._lbx.collectionView;Jh(t)&&(r.checkedItems=e.target.checked?t.items:[])}),r.addEventListener(r.hostElement,"keydown",function(e){var t=r.showFilterInput?r._filter:null,n=r._lbx;if(t&&e.keyCode==ih.F3&&(ud(t,0,t.value.length),e.preventDefault()),dd()==t){var i=!e.altKey;switch(e.keyCode){case ih.Escape:case ih.F4:i=!1}i&&e.stopPropagation()}if(!n.containsFocus())switch(e.keyCode){case ih.Up:case ih.Down:r._lbx.focus(),n.selectedIndex=Math.max(0,n.selectedIndex+(e.keyCode==ih.Up?-1:1)),e.preventDefault()}},!0),r}return Np(t,e),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(e){this._lbx.itemsSource=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._lbx.virtualizationThreshold},set:function(e){this._lbx.virtualizationThreshold=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(e){this._lbx.displayMemberPath=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(e){this._lbx.isContentHtml=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(e){this._lbx.caseSensitiveSearch=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=Nh(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(e){this._lbx.showGroups=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkOnFilter",{get:function(){return this._checkOnFilter},set:function(e){e!=this.checkOnFilter&&(this._checkOnFilter=Bh(e),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(e){this._lbx.selectedIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFilterInput",{get:function(){return""==this._filter.style.display},set:function(e){e!=this.showFilterInput&&(this._filter.style.display=Bh(e)?"":"none",this.showFilterInput||(this._filter.value="",this._applyFilter()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterInputPlaceholder",{get:function(){return this._filterPlaceholder},set:function(e){e!=this._filterPlaceholder&&(this._filterPlaceholder=Vh(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectAllCheckbox",{get:function(){return""==this._selectAll.style.display},set:function(e){this._selectAll.style.display=Bh(e)?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectAllLabel",{get:function(){return this._selectAllLabel},set:function(e){e!=this._selectAllLabel&&(this._selectAllLabel=Vh(e),this.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){var e=this.listBox.checkedMemberPath;return e!=t._DEF_CHECKED_PATH?e:null},set:function(e){e=Vh(e),this.listBox.checkedMemberPath=e||t._DEF_CHECKED_PATH},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedItems",{get:function(){return this.listBox.checkedItems},set:function(e){this.listBox.checkedItems=Uh(e)},enumerable:!0,configurable:!0}),t.prototype.onCheckedItemsChanged=function(e){this._updateCheckAllCheckbox(),this.checkedItemsChanged.raise(this,e)},t.prototype.onSelectedIndexChanged=function(e){this.selectedIndexChanged.raise(this,e)},t.prototype.refresh=function(t){if(void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement){var n=Md.MultiSelectListBox;this._filter.placeholder=null!=this._filterPlaceholder?this._filterPlaceholder:n.filterPlaceholder,this._spSelectAll&&vd(this._spSelectAll,null!=this._selectAllLabel?this._selectAllLabel:n.selectAll),this._updateCheckAllCheckbox()}},t.prototype.dispose=function(){this.listBox.dispose(),e.prototype.dispose.call(this)},t.prototype._applyFilter=function(){var e=this,t=this._lbx,n=t.collectionView,i=this._filter.value,r=i?new RegExp(ed(i),t.caseSensitiveSearch?"":"i"):null,o=this.displayMemberPath,s=o?new Zc(o):null,l=this.checkOnFilter?null:this.checkedItems;n.filter=function(t){return null==r||!!(l&&l.indexOf(t)>-1)||(s&&(t=s.getValue(t)),e.isContentHtml&&(t=td(t)),null!=t&&r.test(t.toString()))},t.selectedIndex=Math.max(0,t.selectedIndex),this._checkOnFilter&&(this.checkedItems=r?n.items:[])},t.prototype._updateCheckAllCheckbox=function(){var e=this._lbx.collectionView,t=this._cbSelectAll;if(Jh(e)){var n=this.checkedItems.length;ld(t,n==e.items.length||0!=n&&null),t.disabled=!1}else ld(t,!1),t.checked=!1,t.disabled=!0},t._DEF_CHECKED_PATH="$checked",t.controlTemplate='<div class="wj-template wj-listbox"><input wj-part="filter" class="wj-form-control"><div wj-part="select-all" class="wj-header wj-select-all wj-listbox-item"><label><input type="checkbox" tabindex="-1"> <span></span></label></div><div wj-part="list-box"/></div>',t}(ep);Ld("Calendar",{ariaLabels:{calendar:"Calendar",monthView:"Month View",yearView:"Year View",prvMo:"Previous Month",today:"Today",nxtMo:"Next Month",prvYr:"Previous Year",currMo:"Current Month",nxtYr:"Next Year"}}),function(e){e[e.None=0]="None",e[e.Day=1]="Day",e[e.Month=2]="Month",e[e.Range=3]="Range"}(Yp||(Yp={})),function(e){e[e.None=0]="None",e[e.FirstMonth=1]="FirstMonth",e[e.LastMonth=2]="LastMonth",e[e.FirstAndLastMonths=3]="FirstAndLastMonths",e[e.AllMonths=4]="AllMonths",e[e.Outside=5]="Outside"}(Kp||(Kp={}));var Zp,$p=function(e){function t(t,n){var i=e.call(this,t)||this;i._yrPicker=!0,i._mtPicker=Kp.FirstMonth,i._wksBefore=0,i._wksAfter=0,i._rngMin=0,i._rngMax=0,i._min=null,i._max=null,i._readOnly=!1,i._handleWheel=!0,i._fdw=null,i._selMode=Yp.Day,i._tmYrHidden=0,i._fmtYrMo="y",i._fmtYr="yyyy",i._fmtDayHdr="ddd",i._fmtDay="d ",i._fmtMonths="MMM",i.valueChanged=new Xc,i.rangeEndChanged=new Xc,i.rangeChanged=new Xc,i.displayMonthChanged=new Xc,i.formatItem=new Xc(function(){i.invalidate()}),i._value=i._rngEnd=Dd.newDate(),i._month=i._getMonth(i._value),i._cals=[i],i._createChildren(),i._createYearPicker();var r=i.hostElement,o=i.addEventListener.bind(i);return o(r,"keydown",i._keydown.bind(i)),o(r,"click",i._click.bind(i)),i._rptUp=new lp(i._btnPrv),i._rptDn=new lp(i._btnNxt),i.addEventListener(r,"wheel",function(e){i.handleWheel&&!e.defaultPrevented&&!i.isReadOnly&&i.containsFocus()&&(e.deltaY<0?i._btnPrv.click():i._btnNxt.click(),e.preventDefault())}),i.initialize(n),i.refresh(!0),i}return Np(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){if(e!==this._value&&(this._clearingRangeEnd=!Dd.equals(this._value,e),this.rangeEnd=null,this._clearingRangeEnd=!1,e=Wh(e,!0),e=this._clamp(e),(this._valid(e)||null==e)&&(this.ensureVisible(e),Dd.equals(this._value,e)||(this._value=e,this.invalidate(!1),this.onValueChanged())),!this.value)){var t=this.min,n=this.max,i=this.displayMonth;n&&n<i?this.ensureVisible(n):t&&t>i&&this.ensureVisible(t)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeEnd",{get:function(){return this._rngEnd},set:function(e){if(e=Wh(e,!0),(e=this._clamp(e))&&this._value&&this._rngMode()){e<this._value&&(e=this._value);var t=this._rngMin,n=this._rngMax;if(t&&t>0||n&&n>0){var i=this._value,r=Math.ceil((e.getTime()-i.getTime())/864e5)+1;t&&t>0&&r<t&&(e=Dd.addDays(i,t-1)),n&&n>0&&r>n&&(e=Dd.addDays(i,n-1))}}!this._valid(e)&&null!=e||Dd.equals(this._rngEnd,e)||(this._rngEnd=e,this.ensureVisible(e),this.invalidate(!1),this.onRangeEndChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMin",{get:function(){return this._rngMin},set:function(e){(e=Nh(e,!0,!0))!=this._rngMin&&(this._rngMin=e,this._syncProp(this,"rangeMin"),this._rngMode()&&this._rngEnd&&(this.rangeEnd=this._rngEnd))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMax",{get:function(){return this._rngMax},set:function(e){(e=Nh(e,!0,!0))!=this._rngMax&&(this._rngMax=e,this._syncProp(this,"rangeMax"),this._rngMode()&&this._rngEnd&&(this.rangeEnd=this._rngEnd))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){(e=Wh(e,!0))!=this.min&&(this._min=e,this._syncProp(this,"min"),this.refresh(),!this.value&&e&&e>this.displayMonth&&this.ensureVisible(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){(e=Wh(e,!0))!=this.max&&(this._max=e,this._syncProp(this,"max"),this.refresh(),!this.value&&e&&e<this.displayMonth&&this.ensureVisible(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selMode},set:function(e){var t=Yp;(e=Yh(e,t))!=this._selMode&&(this._selMode=e,this._mthMode()&&(this.monthView=!1),this._rngEnd=e==t.Range?this._value:null,this.refresh(),this._syncProp(this,"selectionMode"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=Bh(e),od(this.hostElement,"wj-state-readonly",this.isReadOnly),this._syncProp(this,"isReadOnly")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){this._handleWheel=Bh(e),this._syncProp(this,"handleWheel")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return!this._rptUp.disabled},set:function(e){this._rptUp.disabled=this._rptDn.disabled=!Bh(e),this._syncProp(this,"repeatButtons")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showYearPicker",{get:function(){return this._yrPicker},set:function(e){e!=this._yrPicker&&(this._yrPicker=Bh(e),this._syncProp(this,"showYearPicker"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMonthPicker",{get:function(){return this._mtPicker},set:function(e){if(e!=this._mtPicker){var t=Kp;vh(e)&&(e=e?t.FirstMonth:t.None),this._mtPicker=Yh(e,t),od(this.hostElement,"wj-btns-outside",this._getShowMonthPicker()==t.Outside),this.refresh(),this._syncProp(this,"showMonthPicker")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstDayOfWeek",{get:function(){return this._fdw},set:function(e){if(e!=this._fdw){if((e=Nh(e,!0))&&(e>6||e<0))throw"firstDayOfWeek must be between 0 and 6 (Sunday to Saturday).";this._fdw=e,this.refresh(),this._syncProp(this,"firstDayOfWeek")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMonth",{get:function(){return this._month},set:function(e){e=Wh(e),e=this._getMonth(e);var t=this._getDisplayMonthRange();t.to&&e>t.to&&(e=t.to),t.from&&e<t.from&&(e=t.from),Dd.equals(this.displayMonth,e)||(this._month=e,this.invalidate(!0),this.onDisplayMonthChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthCount",{get:function(){var e=this.hostElement;return e?e.querySelectorAll(".wj-calendar").length+1:0},set:function(e){var n=this,i=this.hostElement;if(e!=this.monthCount&&i){var r=i.querySelectorAll(".wj-calendar");Fh((e=zh(e,!1))>0,"monthCount must be >= 1."),Fh(1==e||!bd(i.parentElement,".wj-calendar"),"Only top-level calendars can set monthCount.");for(var o=0;o<r.length;o++){var s=r[o];hd(s),this._getCalendar(s).dispose()}for(this._cals=[this],o=1;o<e;o++){for(var l in(s=new t(document.createElement("div"),{itemFormatter:this.itemFormatter,itemValidator:this.itemValidator,formatItem:function(e,t){return n.onFormatItem(t)}}))._selMode=this._selMode,s._value=this._value,s._rngEnd=this._rngEnd,this)if(!/^(_.*|constructor|displayMonth|monthCount|hostElement|rightToLeft|isUpdating|isTouching)$/.test(l)){var a=this[l];yh(a)||a instanceof Xc||(s[l]=a)}this._cals.push(s),i.appendChild(s.hostElement)}od(i,"wj-calendar-multimonth",e>1),this._syncProp(this,"displayMonth")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatYearMonth",{get:function(){return this._fmtYrMo},set:function(e){e!=this._fmtYrMo&&(this._fmtYrMo=Vh(e),this._syncProp(this,"formatYearMonth"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatDayHeaders",{get:function(){return this._fmtDayHdr},set:function(e){e!=this._fmtDayHdr&&(this._fmtDayHdr=Vh(e),this._syncProp(this,"formatDayHeaders"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatDays",{get:function(){return this._fmtDay},set:function(e){e!=this._fmtDay&&(this._fmtDay=Vh(e),this._syncProp(this,"formatDays"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatYear",{get:function(){return this._fmtYr},set:function(e){e!=this._fmtYr&&(this._fmtYr=Vh(e),this._syncProp(this,"formatYear"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatMonths",{get:function(){return this._fmtMonths},set:function(e){e!=this._fmtMonths&&(this._fmtMonths=Vh(e),this._syncProp(this,"formatMonths"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return"none"!=this._tbHdr.style.display},set:function(e){e!=this.showHeader&&(this._tbHdr.style.display=Bh(e)?"":"none",this._syncProp(this,"showHeader"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthView",{get:function(){return"none"!=this._tbMth.style.display},set:function(e){if(e!=this.monthView){this._tbMth.style.display=e?"":"none",this._tbYr.style.display=e?"none":"",this.refresh();var t=Md.Calendar.ariaLabels;ad(this._btnPrv,e?t.prvMo:t.prvYr),ad(this._btnTdy,e?t.today:t.currMo),ad(this._btnNxt,e?t.nxtMo:t.nxtYr),ad(this._btnMth,e?t.monthView:t.yearView),this._syncProp(this,"monthView")}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksBefore",{get:function(){return this._wksBefore},set:function(e){e!=this._wksBefore&&(this._wksBefore=Math.floor(Nh(e,!1,!0)),this._syncProp(this,"weeksBefore"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksAfter",{get:function(){return this._wksAfter},set:function(e){e!=this._wksAfter&&(this._wksAfter=Math.floor(Nh(e,!1,!0)),this._syncProp(this,"weeksAfter"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._itemFormatter=qh(e),this._syncProp(this,"itemFormatter"),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(e){e!=this._itemValidator&&(this._itemValidator=qh(e),this._syncProp(this,"itemValidator"),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.hitTest=function(e){var n=e instanceof MouseEvent?e.target:e instanceof Element?e:null;return Fh(null!=n,"MouseEvent or Element expected"),n?n[t._DATE_KEY]:null},t.prototype.ensureVisible=function(e){if(null!=e){var t=this._getCalendars(),n=t.indexOf(this),i=t[t.length-1];e<t[0].displayMonth?this.displayMonth=Dd.addMonths(this._getMonth(e),n):e>i.displayMonth&&(this.displayMonth=Dd.addMonths(this._getMonth(e),n-t.length+1))}},t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e),this._syncProp(this,"value")},t.prototype.onRangeEndChanged=function(e){this.rangeEndChanged.raise(this,e),this._syncProp(this,"rangeEnd"),this._value&&this._rngEnd&&this.onRangeChanged(e)},t.prototype.onRangeChanged=function(e){this.rangeChanged.raise(this,e)},t.prototype.onDisplayMonthChanged=function(e){this.displayMonthChanged.raise(this,e),this._syncProp(this,"displayMonth")},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.containsFocus=function(){return e.prototype.containsFocus.call(this)||this._lbYears.containsFocus()},t.prototype.dispose=function(){this._rptUp.element=null,this._rptDn.element=null,this._lbYears.dispose(),e.prototype.dispose.call(this)},t.prototype.refresh=function(t){void 0===t&&(t=!0);var n=this.hostElement,i=this.containsFocus();if(n){e.prototype.refresh.call(this,t),t&&this._updateContent(),this._updateSelection();var r=this._getDisplayMonthRange(),o=this.displayMonth;if(Cd(this._btnPrv,null==r.from||o>r.from),Cd(this._btnNxt,null==r.to||o<r.to),i){var s=(this.monthView?this._tbMth:this._tbYr).querySelector("td.wj-state-selected")||n;s&&s.focus()}var l=this._getCalendars();l.length>1&&this==l[0]&&l.forEach(function(e,n){n>0&&e.refresh(t)})}},t.prototype._getShowMonthPicker=function(){var e=Kp,t=this._getCalendars(),n=t.indexOf(this),i=this.showMonthPicker;switch(i){case e.FirstMonth:case e.Outside:return 0==n?i:0;case e.LastMonth:return n==t.length-1?i:0;case e.FirstAndLastMonths:return 0==n||n==t.length-1?i:0;case e.AllMonths:return i}return 0},t.prototype._getDisplayMonthRange=function(){var e={from:null,to:null};if(this.min||this.max){var t=this._getCalendars(),n=t.indexOf(this),i=this._mthMode()?Dd.addYears:Dd.addMonths;this.min&&(e.from=i(this._getMonth(this.min),n)),this.max&&(e.to=i(this._getMonth(this.max),n-t.length+1))}return e},t.prototype._getCalendar=function(e){return ep.getControl(e)},t.prototype._getCalendars=function(){var e=bd(this.hostElement,".wj-calendar-multimonth");return(e?this._getCalendar(e):this)._cals},t.prototype._syncProp=function(e,t){var n=this;if(!this._syncing){var i=this._getCalendars();if(i&&i.length>1){var r=e[t],o=this._mthMode()?Dd.addYears:Dd.addMonths;"displayMonth"==t&&(r=o(r,-i.indexOf(e))),i[0].deferUpdate(function(){n._syncing=!0,i.forEach(function(i,s){if(i!=e){var l=i.displayMonth;i[t]="displayMonth"==t?o(r,s):r,"value"==t&&(i.displayMonth=l,n._rngMode()&&(i.rangeEnd=null))}}),n._syncing=!1})}}},t.prototype._updateContent=function(){var e=this.displayMonth,n=Hd.format,i=Dd,r=this._getShowMonthPicker();vd(this._spMth,n(e,this._fmtYrMo));var o=this._btnMth.querySelector(".wj-glyph-down");o&&(o.style.display=this._mthMode()||!r?"none":"");var s=bd(this._btnTdy,".wj-btn-group");s&&(s.style.display=r?"":"none");for(var l=null!=this._fdw?this._fdw:Hd.getFirstDayOfWeek(),a=i.addDays(e,-(e.getDay()-l+7)%7),u=i.monthLast(e),c=this._tbMth.querySelectorAll("td"),h=0;h<7&&h<c.length;h++){var d=i.addDays(a,h);vd(c[h],n(d,this._fmtDayHdr))}var p=this._tbMth.querySelectorAll("tr");for(h=1;h<p.length;h++)hd(p[h]);var f=i.addDays(a,-7*this._wksBefore);for(h=0;h<this._wksBefore;h++)f=this._addWeek(f,"wj-week-before");for(;f<=u;)f=this._addWeek(f);for(h=0;h<this._wksAfter;h++)f=this._addWeek(f,"wj-week-after");for((c=this._tbYr.querySelectorAll("td")).length&&vd(c[0],n(e,this._fmtYr)),h=1;h<c.length;h++){f=i.newDate(e.getFullYear(),h-1,1);var g=c[h],_=!this._monthInValidRange(f);g[t._DATE_KEY]=f,vd(g,n(f,this._fmtMonths)),od(g,"wj-state-disabled",_),ad(g,Hd.format(f,"MMMM yyyy"))}},t.prototype._updateSelection=function(){for(var e=t._DATE_KEY,n=Dd,i=this._tbMth.querySelectorAll("td"),r=7;r<i.length;r++){var o=(h=i[r])[e],s=this.value,l=this.rangeEnd,a=this._selMode&&null!=s&&n.sameDate(o,s),u=this._selMode&&null!=s&&n.sameDate(o,l),c=this._selMode&&null!=s&&o>s&&null!=l&&o<=l;od(h,"wj-state-selected",a),od(h,"wj-state-multi-selected",c),od(h,"wj-state-last-selected",u),sd(h,"aria-selected",!!a||null),this._customizeCell(r,o,h)}for(i=this._tbYr.querySelectorAll("td"),r=0;r<i.length;r++){var h;o=(h=i[r])[e],od(h,"wj-state-selected",a=this._sameMonth(o,this.value)),sd(h,"aria-selected",!!a||null)}},t.prototype._addWeek=function(e,n){for(var i=this._createElement("tr",this._tbMth,n),r=Dd,o=0;o<7;o++){var s=this._createElement("td",i),l=r.addDays(e,o);s[t._DATE_KEY]=l,vd(s,Hd.format(l,this._fmtDay)),ad(s,Hd.format(l,"D"));var a=!this._valid(l),u=l.getDay(),c=l.getMonth()!=this.displayMonth.getMonth();od(s,"wj-day-today",r.sameDate(l,r.newDate())),od(s,"wj-day-weekend",0==u||6==u),od(s,"wj-day-othermonth",c||!this._inValidRange(l)||a),od(s,"wj-state-invalid",a)}return r.addDays(e,7)},t.prototype._customizeCell=function(e,t,n){if(yh(this.itemFormatter)&&this.itemFormatter(t,n),this.formatItem.hasHandlers){var i=new Gp(e,t,n);this.onFormatItem(i)}},t.prototype._canChangeValue=function(){return!this._readOnly&&this._selMode!=Yp.None},t.prototype._valid=function(e){return!(!wh(e)||!Dd.sameDate(e,this._clamp(e)))&&(!yh(this.itemValidator)||this.itemValidator(e))},t.prototype._inValidRange=function(e){var t=Dd.fromDateTime;return!(this.min&&e<t(this.min,e)||this.max&&e>t(this.max,e))},t.prototype._monthInValidRange=function(e){if(this.min||this.max){var t=e.getFullYear(),n=e.getMonth(),i=Dd,r=i.newDate(t,n,1),o=i.newDate(t,n+1,0);if(this.min&&this.min>o)return!1;if(this.max&&this.max<r)return!1}return!0},t.prototype._sameMonth=function(e,t){return wh(e)&&wh(t)&&e.getMonth()==t.getMonth()&&e.getFullYear()==t.getFullYear()},t.prototype._getValidDate=function(e,t){if(wh(e))for(var n=e.getFullYear(),i=e.getMonth()+(t?0:1),r=Dd,o=r.newDate(n,i,t?1:0),s=t?1:-1,l=0;l<31;l++){if(this._valid(o))return o;o=r.addDays(o,s)}return null},t.prototype._clamp=function(e){if(e){var t=Dd.fromDateTime;if(this.min){var n=t(this.min,e);e<n&&(e=n)}if(this.max){var i=t(this.max,e);e>i&&(e=i)}}return e},t.prototype._createChildren=function(){var e=this.getTemplate();this.applyTemplate("wj-control wj-calendar",e,{_tbHdr:"tbl-header",_btnMth:"btn-month",_spMth:"span-month",_btnPrv:"btn-prev",_btnTdy:"btn-today",_btnNxt:"btn-next",_tbMth:"tbl-month",_tbYr:"tbl-year"}),this._tbYr.style.display="none";var t=Md.Calendar.ariaLabels;ad(this._tbMth,t.calendar),ad(this._tbYr,t.calendar),ad(this._btnPrv,t.calendar),ad(this._btnMth,t.monthView),ad(this._btnPrv,t.prvMo),ad(this._btnTdy,t.today),ad(this._btnNxt,t.nxtMo);for(var n=this._createElement("tr",this._tbMth,"wj-header"),i=0;i<7;i++)this._createElement("td",n);n=this._createElement("tr",this._tbYr,"wj-header"),this._createElement("td",n).setAttribute("colspan","4");for(var r=0;r<3;r++){n=this._createElement("tr",this._tbYr);for(var o=0;o<4;o++)this._createElement("td",n)}},t.prototype._createYearPicker=function(){var e=this,t=this.hostElement,n=this._createElement("div",null,"wj-dropdown-panel wj-yearpicker");n.tabIndex=this._orgTabIndex,this._lbYears=new Up(n,{lostFocus:function(t){if(up(n),e._tmYrHidden=Date.now(),e.removeEventListener(window,"touchstart"),t.selectedIndex>-1){var i=Dd.clone(e.displayMonth);i.setFullYear(t.selectedIndex+t.itemsSource[0]),e.displayMonth=i}}}),this.addEventListener(n,"keydown",function(n){switch(n.keyCode){case ih.Enter:t.focus();break;case ih.Escape:e._lbYears.selectedIndex=-1,t.focus()}n.defaultPrevented&&n.stopPropagation()}),this.addEventListener(n,"click",function(e){t.focus()})},t.prototype._createElement=function(e,t,n){var i=document.createElement(e);return n&&id(i,n),t&&t.appendChild(i),i},t.prototype._click=function(e){var t=this;if(!e.defaultPrevented&&0==e.button){var n=!1,i=e.target;if(yd(this._btnMth,i)&&!this._mthMode()&&this._getShowMonthPicker()?(this.monthView=!this.monthView,n=!0):yd(this._btnPrv,i)?(this._navigate(-1),n=!0):yd(this._btnNxt,i)?(this._navigate(1),n=!0):yd(this._btnTdy,i)&&(this._navigate(0),n=!0),i&&!n&&this._yrPicker&&yd(this._tbYr,i)&&bd(i,".wj-header")){if(Date.now()-this._tmYrHidden<600)return void e.preventDefault();for(var r=this.displayMonth.getFullYear(),o=this.min?this.min.getFullYear():r-100,s=this.max?this.max.getFullYear():r+100,l=[],a=o;a<=s;a++)l.push(a);var u=this._lbYears,c=u.hostElement,h=bd(i,".wj-header"),d=this.hostElement,p=bd(d,".wj-inputdate-dropdown")||d;return u.itemsSource=l,u.selectedIndex=r-l[0],sd(c,"dir",this.rightToLeft?"rtl":null),xd(c,{minWidth:"",width:h.offsetWidth}),ap(c,h,!1,!1,p),requestAnimationFrame(function(){u.showSelection(!0)}),this.addEventListener(window,"touchstart",function(e){yd(c,e.target)||(up(c),t._tmYrHidden=Date.now(),t.removeEventListener(window,"touchstart"))}),void e.preventDefault()}if(i&&!n){var f=bd(i,"td");if(f){var g=this.hitTest(f),_=Dd.fromDateTime;if(this.monthView){if(g&&this._canChangeValue()){var m=_(g,this._value);this._inValidRange(m)&&this._valid(m)&&(this._rngMode()&&this.value&&!this.rangeEnd&&m>=this.value?this.rangeEnd=m:this.value=m),n=!0}}else g&&(this.displayMonth=g,this._mthMode()?this._canChangeValue()&&(m=_(this.displayMonth,this.value),this._inValidRange(m)&&(this.value=m)):this.monthView=!0,n=!0)}}n&&(e.preventDefault(),this.focus())}},t.prototype._keydown=function(e){if(!e.defaultPrevented){if(e.altKey)switch(e.keyCode){case ih.Up:case ih.Down:return;case ih.End:return this._navigate(0),void e.preventDefault()}if(!(e.ctrlKey||e.metaKey||e.shiftKey&&!this._rngMode())){var t=this._getKeyCode(e),n=0,i=0,r=!0;if(this.monthView)switch(t){case ih.Left:n=-1;break;case ih.Right:n=1;break;case ih.Up:n=-7;break;case ih.Down:n=7;break;case ih.PageDown:i=e.altKey?12:1;break;case ih.PageUp:i=e.altKey?-12:-1;break;case ih.Home:case ih.End:if(this._canChangeValue()&&!e.shiftKey){var o=this.value||this.displayMonth;(l=this._getValidDate(o,t==ih.Home))&&(this.value=Dd.fromDateTime(l,this.value),this._rngEnd=null)}break;default:r=!1}else switch(t){case ih.Left:i=-1;break;case ih.Right:i=1;break;case ih.Up:i=-4;break;case ih.Down:i=4;break;case ih.PageDown:i=e.altKey?120:12;break;case ih.PageUp:i=e.altKey?-120:-12;break;case ih.Home:i=this.value?-this.value.getMonth():0;break;case ih.End:i=this.value?11-this.value.getMonth():0;break;case ih.Enter:this._mthMode()?r=!1:this.monthView=!0;break;default:r=!1}if(this._canChangeValue()&&(n||i)){var s=e.shiftKey&&null!=this.rangeEnd?this.rangeEnd:this.value,l=Dd;if(s?(s=l.addDays(s,n),s=l.addMonths(s,i)):s=this._getValidDate(new Date,!0),i&&!this._valid(s)){o=s.getMonth();for(var a=1;a<31&&!this._valid(s);a++){var u=l.addDays(s,+a),c=l.addDays(s,-a);this._valid(u)&&u.getMonth()==o?s=u:this._valid(c)&&c.getMonth()==o&&(s=c)}}for(a=0;a<31&&!this._valid(s);a++)s=l.addDays(s,n>0||i>0?1:-1);e.shiftKey&&s>this.value?this.rangeEnd=s:this.value=s}r&&e.preventDefault()}}},t.prototype._getMonth=function(e){var t=Dd;return e=e||t.newDate(),t.newDate(e.getFullYear(),e.getMonth(),1)},t.prototype._mthMode=function(){return this.selectionMode==Yp.Month},t.prototype._rngMode=function(){return this.selectionMode==Yp.Range},t.prototype._navigate=function(e){var t=this.monthView,n=this.displayMonth,i=Dd;switch(e){case 0:var r=i.newDate();this._canChangeValue()&&(this.value=t?i.fromDateTime(r,this.value):this._getMonth(r)),n=this._getMonth(r);break;case 1:n=i.addMonths(n,t?1:12);break;case-1:n=i.addMonths(n,t?-1:-12)}this.displayMonth=n},t._DATE_KEY="$WJ-DATE",t.controlTemplate='<div class="wj-content wj-calendar-outer"><div wj-part="tbl-header" class="wj-calendar-header"><div wj-part="btn-month" class="wj-month-select" role="button"><span wj-part="span-month"></span> <span class="wj-glyph-down"></span></div><div class="wj-btn-group"><button wj-part="btn-prev" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-left"></span></button><button wj-part="btn-today" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-circle"></span></button><button wj-part="btn-next" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-right"></span></button></div></div><table wj-part="tbl-month" class="wj-calendar-month" role="grid"></table><table wj-part="tbl-year" class="wj-calendar-year" role="grid"></table></div>',t}(ep);Ld("DropDown",{ariaLabels:{tgl:"Toggle Dropdown"}}),function(e){e[e.Select=0]="Select",e[e.Open=1]="Open",e[e.Toggle=2]="Toggle"}(Zp||(Zp={}));var Xp,Qp,ef=function(e){function t(t,n){var i=e.call(this,t)||this;i._clickAction=Zp.Select,i._showBtn=!0,i._autoExpand=!0,i._animate=!1,i._oldText="",i.textChanged=new Xc,i.isDroppedDownChanging=new Xc,i.isDroppedDownChanged=new Xc;var r=i.getTemplate();i.applyTemplate("wj-control wj-content wj-dropdown",r,{_tbx:"input",_btn:"btn",_dropDown:"dropdown"},"input"),i._dropDown.style.display="none";var o=Md.DropDown.ariaLabels;ad(i._btn.querySelector("button"),o.tgl);var s=i._elRef=i._tbx;cd(s),i._createDropDown(),i._updateBtn();var l=i.hostElement;id(l,"wj-state-collapsed"),i.addEventListener(window,"resize",function(){i.isDroppedDown&&i.invalidate()});var a=i.dropDown,u=i.addEventListener.bind(i),c=i._updateFocusState.bind(i);u(a,"blur",c,!0),u(a,"focus",c);var h=i._keydown.bind(i);u(l,"keydown",h),u(a,"keydown",h);var d=i._keypress.bind(i);return u(l,"keypress",d,!0),u(a,"keypress",d,!0),u(s,"input",function(){i._setText(i.text,!1)}),u(s,"blur",function(){i._commitText(!0)},!0),u(s,"click",function(){i._autoExpand&&i._expandSelection()}),u(s,"mousedown",function(e){switch(i._clickAction){case Zp.Open:i.isDroppedDown||(e.preventDefault(),i.focus(),i.isDroppedDown=!0);break;case Zp.Toggle:e.preventDefault(),i.focus(),i.isDroppedDown=!i.isDroppedDown}}),u(i._btn,"mousedown",function(e){i._btnclick(e)}),hd(a),kc()&&i._elRef==i._tbx&&u(l,"mouseup",function(e){if(!e.defaultPrevented&&0==e.button&&nd(e.target,"wj-btn")){var t=dd();t&&t!=e.target&&setTimeout(function(){t.focus()})}}),Ac()&&u(s,"keyup",function(){i._setText(i.text,!1)}),u(a,"click",i._dropDownClick.bind(i)),i}return Np(t,e),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=Vh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._tbx.readOnly},set:function(e){this._tbx.readOnly=Bh(e),od(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isRequired",{get:function(){return this._tbx.required},set:function(e){this._tbx.required=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"placeholder",{get:function(){return this._tbx.placeholder},set:function(e){this._tbx.placeholder=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clickAction",{get:function(){return this._clickAction},set:function(e){this._clickAction=Yh(e,Zp)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDroppedDown",{get:function(){var e=this._dropDown;return e&&"none"!=e.style.display},set:function(e){var t=this,n=this.hostElement,i=this._dropDown,r=this.containsFocus();n&&i&&(e=Bh(e)&&!this.isDisabled&&!this.isReadOnly&&n.offsetWidth>0)!=this.isDroppedDown&&this.onIsDroppedDownChanging(new eh)&&(e?(this._minWidthDropdown=i.style.minWidth,i.style.display="",this._updateDropDown(),this.addEventListener(window,"touchstart",function(e){for(var i=e.target;i;){if(i==n)return;i=i[ep._OWNR_KEY]||i.parentNode}ep._touching=!0,t.isDroppedDown=!1,ep._touching=!1})):(this.removeEventListener(window,"touchstart"),up(i),i.style.minWidth=this._minWidthDropdown),r&&(this.isTouching&&this.showDropDownButton?n.focus():this.selectAll()),this._updateFocusState(),od(n,"wj-state-collapsed",!this.isDroppedDown),this.onIsDroppedDownChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDown",{get:function(){return this._dropDown},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropDownCssClass",{get:function(){return this._cssClass},set:function(e){e!=this._cssClass&&(rd(this._dropDown,this._cssClass),this._cssClass=Vh(e),id(this._dropDown,this._cssClass))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDownButton",{get:function(){return this._showBtn},set:function(e){this._showBtn=Bh(e),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoExpandSelection",{get:function(){return this._autoExpand},set:function(e){this._autoExpand=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isAnimated",{get:function(){return this._animate},set:function(e){this._animate=Bh(e)},enumerable:!0,configurable:!0}),t.prototype.selectAll=function(){var e=this._tbx;this._elRef==e&&ud(e,0,this.text.length),this.containsFocus()||this.focus()},t.prototype.onTextChanged=function(e){this.textChanged.raise(this,e),this._updateState()},t.prototype.onIsDroppedDownChanging=function(e){return this.isDroppedDownChanging.raise(this,e),!e.cancel},t.prototype.onIsDroppedDownChanged=function(e){this.isDroppedDownChanged.raise(this,e)},t.prototype.onGotFocus=function(t){this.isTouching||yd(this._dropDown,dd())||this.selectAll(),e.prototype.onGotFocus.call(this,t)},t.prototype.onLostFocus=function(t){this._commitText(),this.isDroppedDown=!1,e.prototype.onLostFocus.call(this,t)},t.prototype.containsFocus=function(){return e.prototype.containsFocus.call(this)||this.isDroppedDown&&yd(this._dropDown,dd())},t.prototype.dispose=function(){this.isDroppedDown=!1;var t=this._dropDown;if(t){this._dropDown=null,hd(t);var n=ep.getControl(t);n&&n.dispose()}e.prototype.dispose.call(this)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t);var n=this.hostElement;if(n&&n.offsetHeight&&this.isDroppedDown){var i=dd();this.isAnimated&&""!=this._dropDown.style.opacity||ap(this._dropDown,n,!1,!1,null==this.dropDownCssClass),i instanceof HTMLElement&&i!=dd()&&i.focus()}},t.prototype._handleResize=function(){this.isDroppedDown&&this.refresh()},t.prototype._dropDownClick=function(e){e.stopPropagation()},t.prototype._expandSelection=function(){var e=this._tbx,t=e.value,n=e.selectionStart,i=e.selectionEnd;if(t&&n==i){var r=this._getCharType(t,n);if(r>-1){for(;i<t.length&&this._getCharType(t,i)==r;i++);for(;n>0&&this._getCharType(t,n-1)==r;n--);n!=i&&ud(e,n,i)}}},t.prototype._getCharType=function(e,t){var n=e[t];return n>="0"&&n<="9"?0:n>="a"&&n<="z"||n>="A"&&n<="Z"?1:-1},t.prototype._keydown=function(e){if(!e.defaultPrevented&&!this._isHiddenEditor()){switch(e.keyCode){case ih.Tab:case ih.Escape:case ih.Enter:this.isDroppedDown&&(this.isDroppedDown=!1,e.keyCode==ih.Tab||this.containsFocus()||this.focus(),e.preventDefault());break;case ih.F4:case ih.Up:case ih.Down:if(e.keyCode==ih.F4||e.altKey){var t=this.hostElement;t&&t.offsetHeight&&(this.isDroppedDown=!this.isDroppedDown,e.preventDefault())}}if(!e.defaultPrevented&&e.keyCode==ih.Escape&&kc()){var n=this._tbx;if(e.target==n){var i=n.value;n.value=i+" ",n.value=i}}}},t.prototype._isHiddenEditor=function(){return nd(this._tbx,"wj-grid-ime")},t.prototype._keypress=function(e){"AltLeft"!=e.code&&"AltRight"!=e.code||e.preventDefault()},t.prototype._btnclick=function(e){e.defaultPrevented||0!=e.button||(e.preventDefault(),this.focus(),this.isDroppedDown=!this.isDroppedDown)},t.prototype._setText=function(e,t){(e=(e||"").toString())!=this._tbx.value&&(this._tbx.value=e),e!=this._oldText&&(this._oldText=e,this.onTextChanged()),this._updateState()},t.prototype._updateBtn=function(){this._btn.style.display=this._showBtn?"":"none"},t.prototype._createDropDown=function(){},t.prototype._commitText=function(e){},t.prototype._updateDropDown=function(){if(this.isDroppedDown){this._commitText();var e=this.dropDown;sd(e,"dir",this.rightToLeft?"rtl":null),ap(e,this.hostElement,!1,this._animate,null==this.dropDownCssClass)}},t.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"><span wj-part="btn" class="wj-input-group-btn"><button class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-down"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',t}(ep);!function(e){e[e.None=0]="None",e[e.ClickOwner=1]="ClickOwner",e[e.ClickPopup=2]="ClickPopup",e[e.Click=3]="Click",e[e.BlurOwner=4]="BlurOwner",e[e.BlurPopup=8]="BlurPopup",e[e.Blur=12]="Blur",e[e.ClickOrBlur=15]="ClickOrBlur",e[e.DownOwner=16]="DownOwner",e[e.DownPopup=32]="DownPopup",e[e.Down=48]="Down",e[e.EnterOwner=64]="EnterOwner",e[e.EnterPopup=128]="EnterPopup",e[e.Enter=192]="Enter",e[e.LeaveOwner=256]="LeaveOwner",e[e.LeavePopup=512]="LeavePopup",e[e.Leave=768]="Leave"}(Qp||(Qp={})),function(e){e[e.None=0]="None",e[e.Left=1]="Left",e[e.Top=2]="Top",e[e.Right=4]="Right",e[e.Bottom=8]="Bottom",e[e.LeftTop=3]="LeftTop",e[e.RightTop=6]="RightTop",e[e.RightBottom=12]="RightBottom",e[e.LeftBottom=9]="LeftBottom"}(Xp||(Xp={}));var tf=function(e){function t(t,n){var i=e.call(this,t)||this;i._owner=null,i._modal=!1,i._position=rp.BelowLeft,i._showTrigger=Qp.ClickOwner,i._hideTrigger=Qp.Blur,i._hideAnim=[],i._fadeIn=!0,i._fadeOut=!0,i._removeOnHide=!0,i._draggable=!1,i._resizable=!1,i._result=null,i._resultEnter=null,i._resultSubmit=null,i._callback=null,i._visible=!1,i._ownerClickBnd=i._ownerClick.bind(i),i._ownerDownBnd=i._ownerDown.bind(i),i._ownerBlurBnd=i._ownerBlur.bind(i),i._ownerEnterBnd=i._ownerEnter.bind(i),i._ownerLeaveBnd=i._ownerLeave.bind(i),i._mousedownBnd=i._mousedown.bind(i),i._mousemoveBnd=i._mousemove.bind(i),i._mousedragBnd=i._mousedrag.bind(i),i._mouseupBnd=i._mouseup.bind(i),i._hideBnd=i.hide.bind(i),i._lastShow=0,i.showing=new Xc,i.shown=new Xc,i.hiding=new Xc,i.hidden=new Xc,i.resizing=new Xc,i.resized=new Xc,i.dragging=new Xc,i.dragged=new Xc,i.sizeChanging=new Xc,i.sizeChanged=new Xc,i.positionChanging=new Xc,i.positionChanged=new Xc;var r=i.hostElement;id(r,"wj-control wj-content wj-popup"),r.getAttribute("tabindex")||(r.tabIndex=0),up(r,!1);var o=i.addEventListener.bind(i);o(r,"compositionstart",function(){i._composing=!0}),o(r,"compositionend",function(){i._composing=!1}),o(window,"resize",function(){!i.isVisible||i._dragged||i.isTouching||i.invalidate()}),o(r,"keydown",function(e){if(!e.defaultPrevented){if(e.keyCode!=ih.Escape||i._composing||(e.preventDefault(),i.hide()),e.keyCode==ih.Enter&&!i._composing){var t=i.dialogResultEnter;t&&(e.preventDefault(),i._validateAndHide(t))}e.keyCode==ih.Tab&&i.modal&&(e.preventDefault(),pd(r,e.shiftKey?-1:1))}}),o(r,"click",function(e){var t=e.target;if(t instanceof HTMLElement){if(t instanceof HTMLButtonElement&&"submit"==t.type){var n=i.hostElement,r=i.dialogResultSubmit;n instanceof HTMLFormElement&&r&&n.reportValidity()&&(e.preventDefault(),i.hide(r))}var o=t.className.match(/\bwj-hide[\S]*\b/);o&&o.length>0&&(e.preventDefault(),e.stopPropagation(),i.hide(o[0]))}});var s=i._toggle.bind(i),l=Qp;return i.addEventListener(r,"click",function(e){i._ignoreClick||s(e,l.ClickPopup)},!0),i.addEventListener(r,"mousedown",function(e){i._ignoreClick=!1,s(e,l.DownPopup)},!0),i.addEventListener(r,"mouseenter",function(e){e.target==r&&s(e,l.EnterPopup)},!0),i.addEventListener(r,"mouseleave",function(e){e.target==r&&s(e,l.LeavePopup)},!0),i.addEventListener(r,"blur",function(e){i.containsFocus()||s(e,l.BlurPopup)},!0),o(document,"wheel",function(e){if(i.isVisible&&i._modal){for(var t=e.target;t&&t!=document.body;t=t.parentElement)if(t.scrollHeight>t.clientHeight)return;e.preventDefault()}}),i.initialize(n),i}return Np(t,e),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},set:function(e){var t=this._owner;t&&(this.removeEventListener(t,"click"),this.removeEventListener(t,"mousedown"),this.removeEventListener(t,"mouseenter"),this.removeEventListener(t,"mouseleave"),this.removeEventListener(t,"blur")),(t=this._owner=null!=e?_d(e):null)&&(this.addEventListener(t,"click",this._ownerClickBnd,!0),this.addEventListener(t,"mousedown",this._ownerDownBnd,!0),this.addEventListener(t,"mouseenter",this._ownerEnterBnd,!0),this.addEventListener(t,"mouseleave",this._ownerLeaveBnd,!0),this.addEventListener(t,"blur",this._ownerBlurBnd,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=Yh(e,rp)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"content",{get:function(){return this.hostElement.firstElementChild},set:function(e){e!=this.content&&(this.hostElement.innerHTML="",e instanceof HTMLElement&&this.hostElement.appendChild(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showTrigger",{get:function(){return this._showTrigger},set:function(e){this._showTrigger=Yh(e,Qp)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hideTrigger",{get:function(){return this._hideTrigger},set:function(e){this._hideTrigger=Yh(e,Qp)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fadeIn",{get:function(){return this._fadeIn},set:function(e){this._fadeIn=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fadeOut",{get:function(){return this._fadeOut},set:function(e){this._fadeOut=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"removeOnHide",{get:function(){return this._removeOnHide},set:function(e){if((e=Bh(e))!=this.removeOnHide&&(this._removeOnHide=e,!this.isVisible)){var t=this.hostElement;e?hd(t):t&&document.body&&(t.style.display="none",document.body.appendChild(t))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"modal",{get:function(){return this._modal},set:function(e){this._modal=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDraggable",{get:function(){return this._draggable},set:function(e){this._draggable=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isResizable",{get:function(){return this._resizable},set:function(e){this._resizable=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResult",{get:function(){return this._result},set:function(e){this._result=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResultEnter",{get:function(){return this._resultEnter},set:function(e){this._resultEnter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogResultSubmit",{get:function(){return this._resultSubmit},set:function(e){this._resultSubmit=Vh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){var e=this.hostElement;return this._visible&&null!=e&&e.offsetHeight>0},enumerable:!0,configurable:!0}),t.prototype.show=function(e,t){var n=this;if(this._lastShow=Date.now(),!this.isVisible){var i=this.hostElement;this.dialogResult=null,this._callback=null,this._oldFocus=null,this._myFocus=null,this._hideAnim.forEach(function(e){clearInterval(e)}),this._hideAnim.length=0;var r=new eh;this.onShowing(r)&&(null!=e&&(this.modal=Bh(e)),null!=t&&(this._callback=qh(t)),this._oldFocus=dd(),ap(i,this._owner,this._position,this._fadeIn,!1,this._hideBnd),this._modal&&this._showBackdrop(),this._composing=!1,this._visible=!0,this.onShown(r),this._clearTimeouts(),this.modal&&(this.addEventListener(window,"focus",function(){if(!n.containsFocus()){var e=n._myFocus;e&&e.offsetHeight?e.focus():pd(i,0)}}),this.addEventListener(i,"focusin",function(){var e=dd();e&&yd(i,e)&&(e.tabIndex>-1||!n._myFocus)&&(n._myFocus=e)})),this._resized=this._dragged=this._ignoreClick=!1,this._handleDragResize(!0),this.addEventListener(window,"touchstart",function(e){n._hideTrigger&Qp.Blur&&!yd(i,e.target,!0)&&n.hide()}),setTimeout(function(){n.addEventListener(window,"click",function(e){n._hideTrigger&Qp.BlurPopup&&n.isDisabled&&!yd(i,e.target,!0)&&n.hide()})}),setTimeout(function(){if(!n.isDisabled&&!n.containsFocus()&&!n.isTouching){var e=i.querySelector("[autofocus]");e&&e.clientHeight>0&&!e.disabled&&e.tabIndex>-1&&!bd(e,"[disabled],.wj-state-disabled")?(e.focus(),yh(e.select)&&e.select()):pd(i,0)}n.isDisabled||n.containsFocus()||(i.tabIndex=0,i.focus())},100))}},t.prototype.hide=function(e){var n=this;if(this._handleDragResize(!1),this.removeEventListener(window,"touchstart"),this.removeEventListener(window,"click"),this.isVisible){bh(e)||(this.dialogResult=e);var i=new eh,r=this.hostElement;if(this.onHiding(i)){for(var o=this.containsFocus()?this._oldFocus:null,s=r.querySelectorAll(".wj-control.wj-dropdown"),l=0;l<s.length;l++){var a=ep.getControl(s[l]);a instanceof ef&&(a.isDroppedDown=!1)}var u=this.removeOnHide,c=this.fadeOut;this._bkDrop&&this._hideAnim.push(up(this._bkDrop,u,c)),this._hideAnim.push(up(r,u,c)),this._visible=!1,this._oldFocus=null,this._myFocus=null,this.removeEventListener(window,"focus"),this.removeEventListener(r,"focusin"),this.containsFocus()&&dd().blur(),setTimeout(function(){if(n._updateState(),n.onHidden(i),n._callback&&n._callback(n),n.hideTrigger&Qp.LeavePopup){var e=ep.getControl(bd(n.owner,".wj-popup"));if(e instanceof t&&0!=(e.hideTrigger&Qp.Leave)){var r=t._evtHover,o=r?document.elementFromPoint(r.clientX,r.clientY):null,s=ep.getControl(bd(o,".wj-popup"));s instanceof t&&!s.isVisible&&(o=null),o&&yd(e.hostElement,o,!0)||e.hide()}}}),this._clearTimeouts(),!this.isVisible&&o&&o.offsetHeight&&o.focus()}}},t.prototype.onShowing=function(e){return this.showing.raise(this,e),!e.cancel},t.prototype.onShown=function(e){this.shown.raise(this,e)},t.prototype.onHiding=function(e){return this.hiding.raise(this,e),!e.cancel},t.prototype.onHidden=function(e){this._wasVisible=!1,this.hidden.raise(this,e)},t.prototype.onResizing=function(e){return this.resizing.raise(this,e),!e.cancel},t.prototype.onResized=function(e){this.resized.raise(this,e)},t.prototype.onDragging=function(e){return this.dragging.raise(this,e),!e.cancel},t.prototype.onDragged=function(e){this.dragged.raise(this,e)},t.prototype.onSizeChanging=function(e){return this.sizeChanging.raise(this,e),!e.cancel},t.prototype.onSizeChanged=function(e){this.sizeChanged.raise(this,e)},t.prototype.onPositionChanging=function(e){return this.positionChanging.raise(this,e),!e.cancel},t.prototype.onPositionChanged=function(e){this.positionChanged.raise(this,e)},t.prototype.onLostFocus=function(t){if(e.prototype.onLostFocus.call(this,t),this._hideTrigger&Qp.BlurPopup&&!this.containsFocus()){var n=document.createEvent("Event");n.initEvent("blur",!0,!0),this._toggle(n,Qp.BlurPopup)}},t.prototype.dispose=function(){this.owner=null,e.prototype.dispose.call(this)},t.prototype.refresh=function(t){void 0===t&&(t=!0);var n=this.hostElement;if(e.prototype.refresh.call(this,t),this.isVisible&&!this._refreshing&&n){this._refreshing=!0;for(var i=dd(),r=this._owner?this._owner.getBoundingClientRect():null,o=[],s=n.querySelectorAll(".wj-dropdown"),l=0;l<s.length;l++){var a=ep.getControl(s[l]);a instanceof ef&&a.isDroppedDown&&(o.push(a),a.dropDown.style.display="none")}ap(n,r,this._position),o.forEach(function(e){e.dropDown.style.display="",e._updateDropDown()}),this._modal&&i instanceof HTMLElement&&i!=dd()&&i.focus(),this._refreshing=!1}},t.prototype._clearTimeouts=function(){this._toShow&&(clearTimeout(this._toShow),this._toShow=null),this._toHideLeave&&(clearTimeout(this._toHideLeave),this._toHideLeave=null),this._toHideBlur&&(clearTimeout(this._toHideBlur),this._toHideBlur=null)},t.prototype._handleDragResize=function(e){var t=this.hostElement,n=this._draggable?this._getHeaderElement():null,i=this.addEventListener.bind(this),r=this.removeEventListener.bind(this),o=this._mousemoveBnd,s=this._mousedownBnd;e?(i(t,"mousemove",o),i(t,"mousedown",s),i(t,"touchstart",s),n&&(n.style.touchAction="none")):(this._mousedownEvt=null,this._rcBounds=null,r(t,"mousemove",o),r(t,"mousedown",s),r(t,"touchstart",s),r(document,"mousemove",this._mousedragBnd),r(document,"mouseup",this._mouseupBnd),n&&(n.style.touchAction=""))},t.prototype._mousemove=function(e){if(!this._mousedownEvt){var t=this.hostElement,n=this._getEdges(t,e),i="",r=Xp;this._edges=n,this._resizable&&(n==r.LeftTop||n==r.RightBottom?i="nwse-resize":n==r.LeftBottom||n==r.RightTop?i="nesw-resize":n==r.Left||n==r.Right?i="ew-resize":n!=r.Top&&n!=r.Bottom||(i="ns-resize")),this._draggable&&!i&&this._getClosestHeader(e.target)&&(i="move"),t.style.cursor=i}},t.prototype._mousedown=function(e){if(!e.defaultPrevented){var t=e.touches&&e.touches.length>0?e.touches[0]:e;if(this._edges=this._getEdges(this.hostElement,t),this._edges||this._draggable&&this._getClosestHeader(e.target)){var n=new eh;if(this._edges?this.onResizing(n):this.onDragging(n)){this._mousedownEvt=t,this._rcBounds=this.hostElement.getBoundingClientRect();var i=this.addEventListener.bind(this),r=document,o=this._mousedragBnd,s=this._mouseupBnd;i(r,"mousemove",o),i(r,"touchmove",o),i(r,"mouseup",s),i(r,"touchend",s)}}this._ignoreClick=!1}},t.prototype._mouseup=function(){this._mousedownEvt=null,this._rcBounds=null;var e=this.removeEventListener.bind(this),t=document,n=this._mousedragBnd,i=this._mouseupBnd;e(t,"mousemove",n),e(t,"touchmove",n),e(t,"mouseup",i),e(t,"touchend",i),this._resized?this.onResized():this._dragged&&this.onDragged(),this._resized=this._dragged=this._ignoreClick=!1},t.prototype._mousedrag=function(e){if(!e.defaultPrevented){var n=this.hostElement,i=this._mousedownEvt,r=e.touches&&e.touches.length>0?e.touches[0]:e,o=r.clientX-i.clientX,s=r.clientY-i.clientY,l=this._rcBounds,a=this._edges,u=t._SZ_MIN,c=Pd.fromBoundingRect(l);if(a){if(a&Xp.Left?(c.left=l.left+o+(r.pageX-r.clientX),c.width=Math.max(l.width-o,u)):a&Xp.Right&&(c.left=l.left,c.width=Math.max(l.width+o,u)),a&Xp.Top?(c.top=l.top+s+(r.pageY-r.clientY),c.height=Math.max(l.height-s,u)):a&Xp.Bottom&&(c.top=l.top,c.height=Math.max(l.height+s,u)),this.onSizeChanging(new nf(c))&&(xd(n,{left:c.left,top:c.top,width:c.width,height:c.height}),this._resized=this._dragged=this._ignoreClick=!0,this.onSizeChanged()),!window.ResizeObserver)for(var h=this.hostElement.children,d=0;d<h.length;d++)ep.invalidateAll(h[d])}else this._draggable&&(this._dragged||Math.abs(o)+Math.abs(s)>t._DRAG_THRESHOLD)&&(c.left=Math.max(l.left+o+(r.pageX-r.clientX),50-l.width),c.top=Math.max(l.top+s+(r.pageY-r.clientY),0),this.onPositionChanging(new nf(c))&&(xd(n,{left:c.left,top:c.top}),this._dragged=this._ignoreClick=!0,this.onPositionChanged()))}},t.prototype._getEdges=function(e,n){var i=0;if(this._resizable){var r=e.getBoundingClientRect(),o=t._SZ_EDGE;n.clientX-r.left<o&&(i|=Xp.Left),n.clientY-r.top<o&&(i|=Xp.Top),r.right-n.clientX<o&&(i|=Xp.Right),r.bottom-n.clientY<o&&(i|=Xp.Bottom)}return i},t.prototype._ownerClick=function(e){this._toggle(e,Qp.ClickOwner)},t.prototype._ownerDown=function(e){this._wasVisible=this.isVisible,this._toggle(e,Qp.DownOwner)},t.prototype._ownerBlur=function(e){yd(this._owner,dd())||this._toggle(e,Qp.BlurOwner)},t.prototype._ownerEnter=function(e){e.target==this._owner&&this._toggle(e,Qp.EnterOwner)},t.prototype._ownerLeave=function(e){e.target==this._owner&&this._toggle(e,Qp.LeaveOwner)},t.prototype._toggle=function(e,n){var i=this;if(e instanceof MouseEvent&&(t._evtHover=e),!("mouseenter"==e.type&&Date.now()-this._lastShow<300||e.defaultPrevented)){var r=0!=(this._hideTrigger&n),o=0!=(this._showTrigger&n),s=Qp;(r||o)&&this._clearTimeouts(),r&&this.isVisible&&(n&s.Leave?this._toHideLeave=setTimeout(function(){var e=t._evtHover,n=e?document.elementFromPoint(e.clientX,e.clientY):null;n&&yd(i.hostElement,n,!0)||i.hide()},ep._LEAVE_DELAY):n&s.Blur?this._toHideBlur=setTimeout(function(){i.containsFocus()||yd(i._owner,dd())||i.hide()},ep._FOCUS_INTERVAL+50):this.hide()),o&&n!=s.ClickPopup&&(this._wasVisible||(n&s.Enter?this._toShow=setTimeout(function(){i.show()},ep._HOVER_DELAY):this.show()))}},t.prototype._getHeaderElement=function(){var e=this.hostElement;return e.querySelector(".wj-dialog-header")||e.querySelector(".modal-header")},t.prototype._getClosestHeader=function(e){return bd(e,".wj-dialog-header")||bd(e,".modal-header")},t.prototype._showBackdrop=function(){var e=this;this._bkDrop||(this._bkDrop=document.createElement("div"),this._bkDrop.tabIndex=-1,id(this._bkDrop,"wj-popup-backdrop"),this.addEventListener(this._bkDrop,"mousedown",function(t){t.preventDefault(),t.stopPropagation(),e.hostElement.focus(),e.hideTrigger&Qp.Blur&&e.hide()})),xd(this._bkDrop,{zIndex:ep._POPUP_ZINDEX,display:""});var t=this.hostElement;t.parentElement.insertBefore(this._bkDrop,t)},t.prototype._validateAndHide=function(e){var t=this.hostElement;if(t instanceof HTMLFormElement)t.reportValidity()&&this.hide(e);else{var n=this.hostElement.querySelector(":invalid");n?n.focus():this.hide(e)}},t._DRAG_THRESHOLD=6,t._SZ_EDGE=10,t._SZ_MIN=40,t}(ep),nf=function(e){function t(t){var n=e.call(this)||this;return n._rc=t,n}return Np(t,e),Object.defineProperty(t.prototype,"bounds",{get:function(){return this._rc},enumerable:!0,configurable:!0}),t}(eh),rf=function(e){function t(t,n){var i=e.call(this,t)||this;i._fmt="d",i._sep=" - ",i._rngs=null,i._showCal=!1,i._clsOnSel=!0,i._handleWheel=!0,i._clicked=!1,i._rangeChanged=!1,i.valueChanged=new Xc,i.rangeEndChanged=new Xc,i.rangeChanged=new Xc,id(i.hostElement,"wj-inputdate"),i._msk=new Nd(i._tbx),Ac()||(i.inputType="tel"),i._tbx.type.match(/^(tel|text|)$/i)||(i.inputType="text"),i.addEventListener(i.hostElement,"wheel",function(e){if(i.handleWheel&&!e.defaultPrevented&&!i.isDroppedDown&&i.containsFocus()&&null!=i.value&&i._canChangeValue()){var t=Mh(-e.deltaY,-1,1),n=i.value;i.value=i.selectionMode==Yp.Month?Dd.addMonths(n,t):Dd.addDays(n,t),i.selectAll(),e.preventDefault()}});var r=i._lbx=new Up(document.createElement("div"),{displayMemberPath:"name",selectedIndexChanged:function(e){var t=e.selectedItem,n=Dd.fromDateTime;if(t&&t.from&&t.to){var r=i.value;i.value=n(t.from,r),i.rangeEnd=n(t.to,r),i._selectAll()}else i._cal.hostElement.style.display=""}}),o=i._cal=new $p(document.createElement("div")),s=i._dropDown;if(id(s,"wj-inputdate-dropdown"),s.appendChild(r.hostElement),s.appendChild(o.hostElement),i.addEventListener(s,"click",function(){i._clicked=!0,setTimeout(function(){i._clicked=!1},50)},!0),"INPUT"==i._orgTag){var l=i._tbx.getAttribute("value");l&&(o.value=o.rangeEnd=Hd.parseDate(l,"yyyy-MM-dd"))}return i.isRequired=!0,i.initialize(n),i._tbx.value=i._oldText=i._getText(),i._updateState(),o.valueChanged.addHandler(function(e,t){i._refreshText(),i.onValueChanged(t),i._closeOnChange()}),o.rangeEndChanged.addHandler(function(e,t){o._rngMode()&&(i.onRangeEndChanged(t),i._closeOnChange(),o._clearingRangeEnd||i._refreshText())}),o.hostElement.addEventListener("click",function(e){if(o.selectionMode&&!o._rngMode()){var t=e.target,n=o.hitTest(t);(Dd.sameDate(i.value,n)||bd(t,"[wj-part=btn-today]"))&&i._closeOnChange()}}),i}return Np(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._cal.value},set:function(e){this._cal.value=e,this._refreshText()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeEnd",{get:function(){return this._cal.rangeEnd},set:function(e){this._cal.rangeEnd=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMin",{get:function(){return this._cal.rangeMin},set:function(e){this._cal.rangeMin=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rangeMax",{get:function(){return this._cal.rangeMax},set:function(e){this._cal.rangeMax=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){if(e!=this.text){var t=e;(t=(t||"").toString())!=this._tbx.value&&(this._tbx.value=t),t!=this._oldText&&(this._oldText=t),this._commitText(),this.onTextChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._fmt},set:function(e){e!=this.format&&(this._fmt=Vh(e),this._refreshText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"separator",{get:function(){return this._sep},set:function(e){e!=this._sep&&(this._sep=Vh(e,!1),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){this._msk.mask=Vh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeOnSelection",{get:function(){return this._clsOnSel},set:function(e){this._clsOnSel=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){e=Bh(e),this._handleWheel=e,e||(this.calendar.handleWheel=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"predefinedRanges",{get:function(){return this._rngs},set:function(e){this._rngs!=e&&(Fh(null==e||Eh(e),"Object expected"),this._rngs=e,this._lbx.itemsSource=this._getRanges(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alwaysShowCalendar",{get:function(){return this._showCal},set:function(e){this._showCal=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._cal.min},set:function(e){this._cal.min=Wh(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._cal.max},set:function(e){this._cal.max=Wh(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"repeatButtons",{get:function(){return this._cal.repeatButtons},set:function(e){this._cal.repeatButtons=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showYearPicker",{get:function(){return this._cal.showYearPicker},set:function(e){this._cal.showYearPicker=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMonthPicker",{get:function(){return this._cal.showMonthPicker},set:function(e){this._cal.showMonthPicker=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showHeader",{get:function(){return this._cal.showHeader},set:function(e){this._cal.showHeader=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksBefore",{get:function(){return this._cal.weeksBefore},set:function(e){this._cal.weeksBefore=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"weeksAfter",{get:function(){return this._cal.weeksAfter},set:function(e){this._cal.weeksAfter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._cal.selectionMode},set:function(e){e!=this.selectionMode&&(this._cal.selectionMode=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"monthCount",{get:function(){return this._cal.monthCount},set:function(e){this._cal.monthCount=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"calendar",{get:function(){return this._cal},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=Vh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._cal.itemValidator},set:function(e){e!=this.itemValidator&&(this._cal.itemValidator=qh(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._cal.itemFormatter},set:function(e){this._cal.itemFormatter=qh(e)},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onRangeEndChanged=function(e){this.rangeEndChanged.raise(this,e),this.rangeEnd&&(this.isDroppedDown?this._rangeChanged=!0:this.onRangeChanged(e))},t.prototype.onRangeChanged=function(e){this._rangeChanged=!1,this.rangeChanged.raise(this,e)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement&&(this._msk&&this._msk.refresh(),this._cal&&this._cal.refresh(),this._refreshText())},t.prototype.onIsDroppedDownChanging=function(t){if(this.isDroppedDown)(i=this._cal)._rngMode()&&i.value&&!i.rangeEnd&&(i.rangeEnd=i.value);else{var n=this._lbx,i=this._cal,r=n.collectionView,o=n.hostElement.style,s=i.hostElement.style;if(i._rngMode()&&Jh(r)){var l=this._updateRangeSelection();o.display="",s.display=!this._showCal&&l&&l.from&&r.items.some(function(e){return!e.to})?"none":""}else o.display="none",s.display="";i._mthMode()||(i.monthView=!0)}return e.prototype.onIsDroppedDownChanging.call(this,t)},t.prototype.onIsDroppedDownChanged=function(t){e.prototype.onIsDroppedDownChanged.call(this,t);var n=this.containsFocus();this.isDroppedDown?(n&&(this._tryFocus(this._cal)||this._tryFocus(this._lbx)||this.dropDown.focus()),this._lbx.showSelection(),this._cal.refresh()):(this._commitText(),this._rangeChanged&&this.onRangeChanged())},t.prototype._updateDropDown=function(){this._commitText();var t=getComputedStyle(this.hostElement);this._dropDown.style.minWidth=18*parseFloat(t.fontSize)+"px",this._cal.refresh(),e.prototype._updateDropDown.call(this)},t.prototype._keydown=function(t){if(!(t.defaultPrevented||t.altKey||t.ctrlKey||t.metaKey)){if(this._isHiddenEditor())return;switch(t.keyCode){case ih.Enter:this._commitText();break;case ih.Escape:this.text=this._getText(),this.selectAll();break;case ih.Tab:if(this._cal._rngMode()){var n=this._tbx,i=this._sep,r=n.value,o=r.indexOf(i);if(o>-1){var s=r.length,l=n.selectionStart,a=n.selectionEnd,u=null;n.selectionEnd<=o&&!t.shiftKey?u=0==l&&0==a:t.shiftKey&&n.selectionStart>=o+i.length&&(u=l<s||a<s),null!=u&&(u?ud(n,0,o):ud(n,o+i.length,s),t.preventDefault())}}break;case ih.Up:case ih.Down:if(!this.isDroppedDown&&this.value&&this._canChangeValue()){var c=t.keyCode==ih.Up?1:-1,h=this.selectionMode==Yp.Month?Dd.addMonths(this.value,c):Dd.addDays(this.value,c);this.value=this._fromDateTime(h),this.selectAll(),t.preventDefault()}}}e.prototype._keydown.call(this,t)},t.prototype._expandSelection=function(){if(this._cal._rngMode()){var t=this._tbx,n=t.selectionStart,i=t.selectionEnd,r=this._sep,o=t.value.indexOf(r);o>-1&&n==i&&(i<=o?ud(t,0,o):n>=o+r.length&&ud(t,o+r.length,t.value.length))}else e.prototype._expandSelection.call(this)},t.prototype._refreshText=function(){var e=this._getText();e!=this.text&&(this._tbx.value=this._oldText=e,this.onTextChanged())},t.prototype._selectAll=function(){this.isDroppedDown||!this.containsFocus()||this.isTouching||this.selectAll()},t.prototype._closeOnChange=function(){var e=this;if(this._clsOnSel&&this._clicked){var t=this._cal;(!t._rngMode()||t.value&&t.rangeEnd)&&setTimeout(function(){e.isDroppedDown=!1})}},t.prototype._tryFocus=function(e){var t=e.hostElement;return!(!t||!t.offsetHeight||(t.focus(),0))},t.prototype._clamp=function(e){return this._cal._clamp(e)},t.prototype._getText=function(){var e=Hd.format,t=this._fmt,n=e(this.value,t);return this._cal._rngMode()&&n&&(n+=this._sep+e(this.rangeEnd,t)),n},t.prototype._commitText=function(e){var t=this._tbx.value;if(t!=this._getText()){var n=!1,i=this._fmt,r=this._cal,o=Hd.parseDate;if(t||this.isRequired)if(r._rngMode()){var s=t.split(this._sep);if(2==s.length&&s[0]&&(a=o(s[0],i,this.value))){var l=o(s[1],i,this.value);r.value=this._fromDateTime(a),r.rangeEnd=l&&l>=a?this._fromDateTime(l):a,n=!0}}else{var a;(a=o(t,i,this.value))&&(this.value=this._fromDateTime(a),n=!0)}else this.value=this.rangeEnd=null,n=!0;(n||this.onInvalidInput(new eh))&&(this.text=this._getText())}e||this._selectAll()},t.prototype._fromDateTime=function(e){return Dd.fromDateTime(e,this.value)},t.prototype._canChangeValue=function(){return!this.isReadOnly&&!this.isDisabled&&this.selectionMode!=Yp.None},t.prototype._isValidDate=function(e){if(e){if(this._clamp(e)!=e)return!1;if(this.itemValidator&&!this.itemValidator(e))return!1}return!0},t.prototype._getRanges=function(e){var t=[];if(Eh(e))for(var n in e){var i=e[n];t.push({name:n,from:i?i[0]:null,to:i?i[1]:null})}return new Kd(t,{currentItem:null})},t.prototype._updateRangeSelection=function(){var e=this._lbx,t=-1;if(Jh(e.collectionView))for(var n=this._lbx.collectionView.items,i=Dd.sameDate,r=0;r<n.length;r++){var o=n[r];if(o.from){if(i(o.from,this.value)&&i(o.to,this.rangeEnd)){t=r;break}}else t=r}return e.selectedIndex=t,e.selectedItem},t}(ef),of=function(e){function t(t,n){var i=e.call(this,t,{selectionMode:Yp.Range,showMonthPicker:"Outside",monthCount:2})||this;return id(i.hostElement,"wj-inputdaterange"),i.initialize(n),i}return Np(t,e),Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this.calendar.selectionMode},set:function(e){Fh((e=Yh(e,Yp))==Yp.Range,'InputDateRange.selectionMode must be "Range"'),this.calendar.selectionMode=e},enumerable:!0,configurable:!0}),t}(rf),sf=function(e){function t(t,n){var i=e.call(this,t)||this;return i.valueChanged=new Xc,id(i.hostElement,"wj-inputcolor"),i._ePreview=md('<div class="wj-inputcolorbox"></div>',i.hostElement.firstElementChild),"INPUT"==i._orgTag&&(i._tbx.type="",i._commitText()),i.value="#ffffff",i.isRequired=!0,i.initialize(n),i.addEventListener(i._colorPicker.hostElement,"click",function(e){var t=e.target;t&&"DIV"==t.tagName&&(bd(t,'[wj-part="div-pal"]')||bd(t,'[wj-part="div-pv"]'))&&t.style.backgroundColor&&(i.isDroppedDown=!1)}),i}return Np(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){(e=Vh(e))==this.text||!e&&this.isRequired||e&&!jd.fromString(e)||(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAlphaChannel",{get:function(){return this._colorPicker.showAlphaChannel},set:function(e){this._colorPicker.showAlphaChannel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showColorString",{get:function(){return this._colorPicker.showColorString},set:function(e){this._colorPicker.showColorString=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"palette",{get:function(){return this._colorPicker.palette},set:function(e){this._colorPicker.palette=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colorPicker",{get:function(){return this._colorPicker},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onIsDroppedDownChanged=function(t){e.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown&&!this.isTouching&&this.selectAll()},t.prototype._createDropDown=function(){var e=this;this._colorPicker=new Wp(this._dropDown),xd(this._dropDown,{minWidth:420,minHeight:200}),this._colorPicker.valueChanged.addHandler(function(){e.value=e._colorPicker.value})},t.prototype._keydown=function(t){if(!t.defaultPrevented)switch(t.keyCode){case ih.Enter:this._commitText(),this.selectAll();break;case ih.Escape:this.text=this.value,this.selectAll()}e.prototype._keydown.call(this,t)},t.prototype._commitText=function(){if(this._value!=this.text){if(!this.isRequired&&!this.text)return this._value=this.text,this._ePreview.style.backgroundColor="",void this.onValueChanged();if(jd.fromString(this.text)){var e=this._colorPicker;e.value=this.text,this._value=e.value,this._ePreview.style.backgroundColor=this.value,this.onValueChanged()}else this.onInvalidInput(new eh)&&(this.text=this._value?this._value:"")}},t}(ef),lf=function(e){function t(t,n){var i=e.call(this,t)||this;i._editable=!1,i._trimText=!0,i._handleWheel=!0,i._delKey=0,i._pathHdr=new Zc(null),i._bsCollapse=!0,i._fmtItemHandlers=0,i.itemsSourceChanged=new Xc,i.selectedIndexChanged=new Xc;var r=i.hostElement;id(r,"wj-combobox"),i.dropDown.id=Sh(r.id+"_dropdown"),i.autoExpandSelection=!1;var o=i._tbx;i.addEventListener(o,"compositionstart",function(){i._composing=!0;var e=o.selectionStart,t=o.selectionEnd;if(t>e){var n=o.value;o.value=n.substring(0,e)+n.substring(t,n.length)}}),i.addEventListener(o,"compositionend",function(){i._composing=!1,i._setText(i.text,!0)}),i.addEventListener(r,"wheel",i._wheel.bind(i)),"SELECT"==i._orgTag&&i._lbx._initFromSelect(r);var s=i._lbx;return s.loadedItems.addHandler(function(e){i.selectedIndex>-1&&(i.selectedIndex=s.selectedIndex)}),i.isRequired=!0,i.initialize(n),i}return Np(t,e),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._lbx.itemsSource},set:function(e){this._lbx.itemsSource!=e&&(this._lbx.itemsSource=e,this.onItemsSourceChanged()),this._updateBtn()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._lbx.collectionView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._lbx.virtualizationThreshold},set:function(e){this._lbx.virtualizationThreshold=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._lbx.showGroups},set:function(e){this._lbx.showGroups=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayMemberPath",{get:function(){return this._lbx.displayMemberPath},set:function(e){this._lbx.displayMemberPath=e;var t=this.getDisplayText();this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerPath",{get:function(){return this._pathHdr.path},set:function(e){this._pathHdr.path=Vh(e);var t=this.getDisplayText();this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValuePath",{get:function(){return this._lbx.selectedValuePath},set:function(e){this._lbx.selectedValuePath=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isContentHtml",{get:function(){return this._lbx.isContentHtml},set:function(e){if(e!=this.isContentHtml){this._lbx.isContentHtml=Bh(e);var t=this.getDisplayText();this.text!=t&&this._setText(t,!0)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._lbx.caseSensitiveSearch},set:function(e){this._lbx.caseSensitiveSearch=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trimText",{get:function(){return this._trimText},set:function(e){e!=this._trimText&&(this._trimText=Bh(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._lbx.itemFormatter},set:function(e){this._lbx.itemFormatter=qh(e),this.selectedIndex=this._lbx.selectedIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formatItem",{get:function(){return this._lbx.formatItem},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedIndex",{get:function(){return this._lbx.selectedIndex},set:function(e){e!=this.selectedIndex&&_h(e)&&(this._lbx.selectedIndex=e);var t=this.getDisplayText(e=this.selectedIndex);this.text!=t&&this._setText(t,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItem",{get:function(){return this._lbx.selectedItem},set:function(e){this._lbx.selectedItem=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedValue",{get:function(){return this.collectionView?this._lbx.selectedValue:this.text},set:function(e){this.collectionView?this._lbx.selectedValue=e:null!=e&&(this.text=e.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEditable",{get:function(){return this._editable},set:function(e){this._editable=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleWheel",{get:function(){return this._handleWheel},set:function(e){this._handleWheel=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDropDownHeight",{get:function(){return this._lbx.maxHeight},set:function(e){this._lbx.maxHeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxDropDownWidth",{get:function(){var e=this._dropDown,t=e?parseInt(e.style.maxWidth):null;return isNaN(t)?null:t},set:function(e){var t=this._dropDown.style;e=Nh(e,!0),t.maxWidth=null==e?"":e+"px",t.minWidth=""},enumerable:!0,configurable:!0}),t.prototype.getDisplayText=function(e,t){void 0===e&&(e=this.selectedIndex),void 0===t&&(t=this._trimText);var n,i=this.collectionView;if(this.headerPath&&e>-1&&Jh(i)){var r=i.items[e];n=null!=(n=r?this._pathHdr.getValue(r):null)?n.toString():"",this.isContentHtml&&(n=td(n))}else n=this._lbx.getDisplayText(e);return t?n.trim():n},t.prototype.indexOf=function(e,t){var n=this.collectionView,i=this.caseSensitiveSearch;if(Jh(n)&&null!=e){e=e.toString(),i||(e=e.toLowerCase());var r=this.selectedIndex,o=this.getDisplayText(r);if(t&&(i||(o=o.toLowerCase()),e==o))return r;for(var s=0;s<n.items.length;s++)if(this._lbx.isItemEnabled(s))if(o=this.getDisplayText(s),i||(o=o.toLowerCase()),t){if(o==e)return s}else if(e&&0==o.indexOf(e))return s}return-1},Object.defineProperty(t.prototype,"listBox",{get:function(){return this._lbx},enumerable:!0,configurable:!0}),t.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},t.prototype.onSelectedIndexChanged=function(e){this._updateBtn(),this.selectedIndexChanged.raise(this,e)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement&&Jh(this.collectionView)&&(this._lbx.refresh(),this.selectedIndex>-1&&(this.selectedIndex=this._lbx.selectedIndex))},t.prototype.onLostFocus=function(t){this._composing&&(this._composing=!1,this._setText(this.text,!0)),this.isEditable&&this.isRequired&&!this.text&&Jh(this.collectionView)&&(this.selectedIndex=0),e.prototype.onLostFocus.call(this,t)},t.prototype.onIsDroppedDownChanging=function(t){return this.isDroppedDown||this._hasItems()?e.prototype.onIsDroppedDownChanging.call(this,t):(t.cancel=!0,!1)},t.prototype.onIsDroppedDownChanged=function(t){e.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown&&(this._fmtItemHandlers=this.formatItem.handlerCount,this._lbx.showSelection()),this._updateAria()},t.prototype._updateBtn=function(){var t=this.collectionView,n=this._tbx,i=this._hasItems();e.prototype._updateBtn.call(this),this._btn.style.display=this._showBtn&&null!=t?"":"none",Cd(this._btn,i),sd(n,"role",i?"combobox":null),sd(n,"aria-autocomplete",i?"both":null),this._updateAria()},t.prototype._hasItems=function(){return Jh(this.collectionView)},t.prototype._updateAria=function(){var e=this._tbx,t=this.isDroppedDown,n=this.dropDown?this.dropDown.id:null,i=n&&Jh(this.collectionView);sd(e,"aria-owns",i&&t?n:null),sd(e,"aria-expanded",i?t:null)},t.prototype._createDropDown=function(){var e=this;this._lbx||(this._lbx=new Up(this._dropDown)),this._lbx.maxHeight=200,this._lbx.selectedIndexChanged.addHandler(function(){e._updateBtn();var t=e._lbx.selectedIndex,n=e._lbx.hostElement.children,i=t>-1&&t<n.length?n[t].id:null;sd(e._tbx,"aria-activedescendant",i&&i.length?i:null),e.selectedIndex=t,e.onSelectedIndexChanged()}),this._lbx.itemsChanged.addHandler(function(){e._updateBtn()})},t.prototype._wheel=function(e){if(this.handleWheel&&!e.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex>-1){var t=this._findNext("",e.deltaY>0?1:-1);t>-1&&(this.selectedIndex=t),e.preventDefault()}},t.prototype._dropDownClick=function(t){t.defaultPrevented||t.target!=this._dropDown&&(this.isDroppedDown=!1),e.prototype._dropDownClick.call(this,t)},t.prototype._setText=function(t,n){if(!this._composing&&!this._settingText){if(this._settingText=!0,this.containsFocus()){var i=this.formatItem.handlerCount;this._fmtItemHandlers!=i&&(this._fmtItemHandlers=i,this._lbx.loadList())}null==t&&(t=""),t=t.toString();var r=this.selectedIndex,o=this.collectionView,s=this._getSelStart(),l=-1,a=!0;if(this.isEditable&&(this._delKey||this._getSelEnd()<t.length||!this.containsFocus())&&(n=!0,a=!1),r=this.indexOf(t,n),a&&(r<0&&n&&(r=this.indexOf(t,!1)),r<0&&s>0&&(r=this.indexOf(t.substr(0,s),!1))),r<0&&!this.isEditable&&Jh(o)&&(this.isRequired||t)){var u=this._oldText||"";r=Math.max(0,this.indexOf(u,!1));for(var c=0;c<t.length&&c<u.length;c++)if(t[c]!=u[c]){s=c;break}}r>-1&&(l=s,t=this.getDisplayText(r));var h=this._tbx;t!=h.value&&(h.value=t),l>-1&&this.containsFocus()&&!this.isTouching&&this._updateInputSelection(l),o&&o.moveCurrentToPosition(r),this._delKey=0,this._settingText=!1,e.prototype._setText.call(this,t,n)}},t.prototype._findNext=function(e,t,n){void 0===n&&(n=this.selectedIndex);var i=this.collectionView,r=i?i.items.length:0,o=this._lbx,s=this.caseSensitiveSearch;if(i&&r&&t){s||(e=e.toLowerCase());for(var l=n+t;l>-1&&l<r;l+=t){var a=this.getDisplayText(l);if(s||(a=a.toLowerCase()),0==a.indexOf(e)&&(!this.dropDown.children[l]||o.isItemEnabled(l)))return l}}return n},t.prototype._keydown=function(t){if(e.prototype._keydown.call(this,t),!t.defaultPrevented&&!this.isReadOnly&&!t.altKey&&Jh(this.collectionView)&&this._elRef==this._tbx&&!this._isHiddenEditor()){this._delKey=0;var n=this._getSelStart();switch(t.keyCode){case ih.Back:if(this._bsCollapse&&!this.isEditable){var i=this._getSelEnd();n>0&&i==this._tbx.value.length&&Jh(this.collectionView)&&this._setSelRange(n-1,i)}this._delKey=t.keyCode;break;case ih.Delete:this._delKey=t.keyCode;break;case ih.Up:case ih.Down:n==this.text.length&&(n=0),this.selectedIndex=this._findNext(this.text.substr(0,n),t.keyCode==ih.Up?-1:1),this._setSelRange(n,this.text.length),t.preventDefault();break;case ih.PageUp:this._lbx._selectPrevPage(),this.selectAll(),t.preventDefault();break;case ih.PageDown:this._lbx._selectNextPage(),this.selectAll(),t.preventDefault()}}},t.prototype._updateInputSelection=function(e){var t=this._tbx;this._elRef==t&&this._setSelRange(e,t.value.length)},t.prototype._getSelStart=function(){var e=this._tbx;return e&&e.value?e.selectionStart:0},t.prototype._getSelEnd=function(){var e=this._tbx;return e&&e.value?e.selectionEnd:0},t.prototype._setSelRange=function(e,t){var n=this._tbx;this._elRef!=n||n.readOnly||ud(n,e,t)},t}(ef);Ld("MultiSelect",{itemsSelected:"{count:n0} items selected",selectAll:"Select All"});var af=function(e){function t(t,n){var i=e.call(this,t)||this;return i._maxHdrItems=2,i._readOnly=!1,i._hdrFmt=null,i.checkedItemsChanged=new Xc,id(i.hostElement,"wj-multiselect"),i._tbx.readOnly=!0,i.checkedMemberPath=null,i.removeEventListener(i.dropDown,"click"),i._lbx.itemsChanged.addHandler(function(){i._updateHeader()}),i._lbx.checkedItemsChanged.addHandler(function(){i._updateHeader(),i.onCheckedItemsChanged()}),i.clickAction=Zp.Toggle,i.initialize(n),i}return Np(t,e),Object.defineProperty(t.prototype,"showSelectAllCheckbox",{get:function(){return this._msLbx.showSelectAllCheckbox},set:function(e){this._msLbx.showSelectAllCheckbox=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showFilterInput",{get:function(){return this._msLbx.showFilterInput},set:function(e){this._msLbx.showFilterInput=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._msLbx.delay},set:function(e){this._msLbx.delay=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._msLbx.caseSensitiveSearch},set:function(e){this._msLbx.caseSensitiveSearch=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filterInputPlaceholder",{get:function(){return this._msLbx.filterInputPlaceholder},set:function(e){this._msLbx.filterInputPlaceholder=Vh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkOnFilter",{get:function(){return this._msLbx.checkOnFilter},set:function(e){e!=this.checkOnFilter&&(this._msLbx.checkOnFilter=Bh(e),this.checkedItems=[])},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectAllLabel",{get:function(){return this._msLbx.selectAllLabel},set:function(e){this._msLbx.selectAllLabel=Vh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedMemberPath",{get:function(){return this._msLbx.checkedMemberPath},set:function(e){this._msLbx.checkedMemberPath=Vh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeaderItems",{get:function(){return this._maxHdrItems},set:function(e){this._maxHdrItems!=e&&(this._maxHdrItems=Nh(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormat",{get:function(){return this._hdrFmt},set:function(e){e!=this._hdrFmt&&(this._hdrFmt=Vh(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerFormatter",{get:function(){return this._hdrFormatter},set:function(e){e!=this._hdrFormatter&&(this._hdrFormatter=qh(e),this._updateHeader())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"checkedItems",{get:function(){return this._msLbx.checkedItems},set:function(e){this._msLbx.checkedItems=null==e?[]:Uh(e),this._updateHeader()},enumerable:!0,configurable:!0}),t.prototype.onCheckedItemsChanged=function(e){this.checkedItemsChanged.raise(this,e)},t.prototype.dispose=function(){this._lbx.dispose(),e.prototype.dispose.call(this)},t.prototype.onIsDroppedDownChanged=function(t){var n=this;e.prototype.onIsDroppedDownChanged.call(this,t),setTimeout(function(){if(n.isDroppedDown&&n.containsFocus())if(n.showFilterInput&&!n.isTouching)n._msLbx._filter.focus();else{var e=n.listBox;if(e.selectedIndex<0){var t=0,i=e.checkedItems;i.length&&(t=e.collectionView.items.indexOf(i[0])),e.selectedIndex=Math.max(0,t)}e.showSelection(!0),e.focus()}})},t.prototype._createDropDown=function(){var t=md("<div></div>",this._dropDown);this._msLbx=new Jp(t),this._lbx=this._msLbx.listBox,e.prototype._createDropDown.call(this)},Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){this._readOnly=Bh(e),od(this.hostElement,"wj-state-readonly",this.isReadOnly)},enumerable:!0,configurable:!0}),t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement&&this._updateHeader()},t.prototype._setText=function(e,t){},t.prototype._keydown=function(t){e.prototype._keydown.call(this,t),nd(this._tbx,"wj-grid-ime")||!t.defaultPrevented&&Jh(this.collectionView)&&t.keyCode>32&&(this.isDroppedDown=!0)},t.prototype._hasItems=function(){var e=this.collectionView,t=e?e.sourceCollection:null;return Jh(e)||t&&t.length&&this.showFilterInput},t.prototype._updateHeader=function(){var e="";if(yh(this._hdrFormatter))e=this._hdrFormatter(this);else{var t=this.checkedItems;if(t.length>0)if(t.length<=this._maxHdrItems){if(this.headerPath){var n=new Zc(this.headerPath);t=t.map(function(e){return n.getValue(e)})}else if(this.displayMemberPath){var i=new Zc(this.displayMemberPath);t=t.map(function(e){return i.getValue(e)})}this.isContentHtml&&(t=t.map(function(e){return td(e)})),this.trimText&&(t=t.map(function(e){return e?e.toString().trim():""})),e=t.join(", ")}else e=kh(this.headerFormat||Md.MultiSelect.itemsSelected,{count:t.length})}var r=this.inputElement;e!=r.value&&(r.value=e,this.onTextChanged()),this._updateState()},t._DEF_CHECKED_PATH="$checked",t}(lf),uf=function(e){function t(t,n){var i=e.call(this,t)||this;i._closing=!1,i._cmd=null,i._cmdPath=null,i._cmdParamPath=null,i._subPath=null,i._owner=null,i._isButton=!1,i._openOnHover=!1,i._closeOnLeave=!0,i._subMenu=null,i._hoverEnterBnd=i._hoverEnter.bind(i),i._hoverLeaveBnd=i._hoverLeave.bind(i),i._hoverOverBnd=i._hoverOver.bind(i),i.itemClicked=new Xc;var r=i.hostElement,o=i._tbx,s=i._lbx,l=i.dropDown;id(r,"wj-menu"),o.style.display="none",i._hdr=i._elRef=md('<div wj-part="header" class="wj-form-control"/>'),o.parentElement.insertBefore(i._hdr,i._tbx);var a=i._orgOuter.match(/tabindex="?(-?\d+)"?/i);return r.tabIndex=a?parseInt(a[1]):0,i.isRequired=!1,sd(r,"role","menubar",!0),sd(o,"role",null),sd(o,"aria-autocomplete",null),sd(o,"aria-owns",null),sd(l,"role","menu"),s.itemRole="menuitem","SELECT"==i._orgTag&&(i.header=r.getAttribute("header"),i._lbx.itemsSource&&(i.commandParameterPath="cmdParam")),i.isContentHtml=!0,i.maxDropDownHeight=500,i.addEventListener(i._hdr,"click",function(e){e.defaultPrevented||(i._clearHover(e),i._isButton?(i.isDroppedDown=!1,i._raiseCommand()):i.isDroppedDown=!i.isDroppedDown)}),s.lostFocus.addHandler(function(){i.containsFocus()||(i.isDroppedDown=!1)}),id(l,"wj-menu-items"),s.formatItem.addHandler(i._formatMenuItem.bind(i)),i.initialize(n),i}return Np(t,e),Object.defineProperty(t.prototype,"header",{get:function(){return this._hdr.innerHTML},set:function(e){this._hdr.innerHTML=Vh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"command",{get:function(){return this._cmd},set:function(e){this._cmd=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandPath",{get:function(){return this._cmdPath},set:function(e){this._cmdPath=Vh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"commandParameterPath",{get:function(){return this._cmdParamPath},set:function(e){this._cmdParamPath=Vh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subItemsPath",{get:function(){return this._subPath},set:function(e){e!=this._subPath&&(this._subPath=e,this.refresh(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openOnHover",{get:function(){return this._openOnHover},set:function(e){this._openOnHover=Bh(e),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"closeOnLeave",{get:function(){return this._closeOnLeave},set:function(e){this._closeOnLeave=Bh(e),this._updateHoverEvents()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isButton",{get:function(){return this._isButton},set:function(e){this._isButton=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"owner",{get:function(){return this._owner},set:function(e){this._owner=Gh(e,HTMLElement,!0),this._enableDisableItems()},enumerable:!0,configurable:!0}),t.prototype.show=function(e){if(!this.isDroppedDown&&(this.selectedIndex=-1,this.onIsDroppedDownChanging(new eh))){var t=this.dropDown,n=this.owner;!n&&e instanceof MouseEvent&&(n=e.target),n instanceof HTMLElement&&(t[ep._OWNR_KEY]=n),e instanceof MouseEvent&&this.openOnHover&&this.closeOnLeave&&(e=new Td(e.pageX-pageXOffset-2,e.pageY-pageYOffset-2)),ap(t,e,!1,this.isAnimated),this.onIsDroppedDownChanged(),t.focus()}},t.prototype.hide=function(){this.isDroppedDown&&this.onIsDroppedDownChanging(new eh)&&(up(this.dropDown),this.onIsDroppedDownChanged())},t.prototype.onItemClicked=function(e){this.itemClicked.raise(this,e)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement&&this._enableDisableItems()},t.prototype.onIsDroppedDownChanged=function(t){if(e.prototype.onIsDroppedDownChanged.call(this,t),this.isDroppedDown)this._closing=!0,this._defaultItem=this.selectedItem,this.isRequired=!1,this.selectedIndex=-1,this._enableDisableItems(),this._closing=!1,this.dropDown.focus();else{this.selectedItem||(this.selectedItem=this._defaultItem);var n=this._subMenu;n&&(n.isDroppedDown=!1)}},t.prototype._updateHoverEvents=function(){var e=this.hostElement,t=this.dropDown,n=this.addEventListener.bind(this),i=this.removeEventListener.bind(this),r="mouseleave";i(e,"mouseenter",this._hoverEnterBnd),i(e,r,this._hoverLeaveBnd),i(t,"mouseover",this._hoverOverBnd),i(t,r,this._hoverLeaveBnd),this._openOnHover&&(n(e,"mouseenter",this._hoverEnterBnd),n(t,"mouseover",this._hoverOverBnd),this._closeOnLeave&&(n(e,r,this._hoverLeaveBnd),n(t,r,this._hoverLeaveBnd)))},t.prototype._getSubItems=function(e){var t=this.subItemsPath,n=e&&t?e[t]:null;return Ch(n)&&n.length?n:null},t.prototype._formatMenuItem=function(e,t){var n=t.item;this._getSubItems(t.data)?id(n,"wj-subitems"):"-"==n.innerHTML&&(n.innerHTML="",id(n,"wj-separator"))},t.prototype._keydown=function(n){if(!n.defaultPrevented){var i=this._getKeyCode(n);if(this.isDroppedDown)switch(i){case ih.Enter:case ih.Right:if(this._showSubMenu())return void n.preventDefault();break;case ih.Left:var r=ep.getControl(this.owner);if(r instanceof t){var o=r.dropDown,s=r.selectedIndex;return(s>-1?o.children[s]:o).focus(),void n.preventDefault()}}i==ih.Enter&&(this.isDroppedDown?this.selectedIndex>-1&&this._raiseCommand():(this.isDroppedDown=!0,n.preventDefault()))}e.prototype._keydown.call(this,n)},t.prototype._dropDownClick=function(t){if(!t.defaultPrevented&&t.target!=this.dropDown){if(this._clearHover(t),this._showSubMenu())return void t.preventDefault();this.selectedIndex>-1&&this._raiseCommand()}e.prototype._dropDownClick.call(this,t)},t.prototype._showSubMenu=function(){var e=this,n=this._getSubItems(this.selectedItem);if(!n)return null;var i=this.dropDown.children[this.selectedIndex].getBoundingClientRect(),r=new Td(i.right,i.top);if(0==i.height)return null;var o=this.rightToLeft||"rtl"==this.dropDown.getAttribute("dir");o&&(r.x=i.left);var s=this._subMenu;s&&(s.isDroppedDown=!1),s=new t(document.createElement("div"),{owner:this.hostElement,itemsSource:n,itemClicked:function(t,n){e.itemClicked.raise(t,n)},formatItem:function(t,n){e.formatItem.raise(t,n)}});var l=this.collectionView,a=s.collectionView;l&&l.filter&&a&&!a.filter&&(a.filter=l.filter),"displayMemberPath,selectedValuePath,isContentHtml,command,commandPath,commandParameterPath,maxDropDownWidth,maxDropDownHeight,dropDownCssClass,isAnimated,subItemsPath,openOnHover,closeOnLeave".split(",").forEach(function(t){s[t]=e[t]});var u=s.dropDown;return sd(u,"dir",o?"rtl":null),s.show(r),u[ep._OWNR_KEY]=this.dropDown,u.focus(),s},t.prototype._raiseCommand=function(e){var n=this.selectedItem,i=this._getSubItems(n),r=this._getCommand(n);if(r&&!i){var o=this._getCommandParm(n);if(!this._canExecuteCommand(r,o))return;this._executeCommand(r,o)}var s=this.headerPath;if(s){var l=new Zc(s).getValue(n);l=null==l?"":l.toString(),this.header=this.isContentHtml?l:$h(l)}if(this.onItemClicked(e),this.containsFocus()){for(var a=this;a&&a.owner;){var u=ep.getControl(a.owner);if(!(u instanceof t))break;a=u}var c=a.owner;if(!c&&a.dropDown&&(c=a.dropDown[ep._OWNR_KEY]),a.isDroppedDown=!1,a.focus(),!a.containsFocus()&&c instanceof HTMLElement&&c.offsetHeight)if(kc){var h=document.documentElement,d=h.scrollLeft,p=h.scrollTop;c.focus(),h.scrollLeft=d,h.scrollTop=p}else c.focus()}},t.prototype._getCommand=function(e){return(e&&this._cmdPath?e[this._cmdPath]:null)||this._cmd},t.prototype._getCommandParm=function(e){var t=this._cmdParamPath;return e&&t?e[t]:e},t.prototype._executeCommand=function(e,t){e&&!yh(e)&&(e=e.executeCommand),yh(e)&&e(t)},t.prototype._canExecuteCommand=function(e,t){if(e){var n=e.canExecuteCommand;if(yh(n))return n(t)}return!0},t.prototype._enableDisableItems=function(){if(this.collectionView&&(this._cmd||this._cmdPath))for(var e=this.collectionView.items,t=0;t<e.length;t++){var n=e[t],i=this._getCommand(n);if(i){var r=this._lbx.hostElement.children[t],o=this._getCommandParm(n);od(r,"wj-state-disabled",!this._canExecuteCommand(i,o))}}},t.prototype._clearHover=function(e){this._toHover&&clearTimeout(this._toHover),this._toHover=null,t._evtHover=e},t.prototype._isTargetDisabled=function(e){return nd(e.target,"wj-state-disabled")},t.prototype._hoverEnter=function(e){var t=this;this._clearHover(e),this._toHover=setTimeout(function(){t._toHover=null,t.isDroppedDown=!0},ep._HOVER_DELAY)},t.prototype._hoverOver=function(e){var t=this;this._clearHover(e),this._toHover=setTimeout(function(){t._toHover=null;var n=t.listBox.indexOf(e.target);n>-1&&!nd(e.target,"wj-state-disabled")&&(t.selectedIndex=n,t._subMenu=t._showSubMenu())},ep._HOVER_DELAY)},t.prototype._hoverLeave=function(e){var n=this;this._clearHover(e),this.isDroppedDown&&(this._toHover=setTimeout(function(){var i=(e=t._evtHover)?document.elementFromPoint(e.clientX,e.clientY):null,r=bd(i,".wj-listbox.wj-menu-items"),o=n._subMenu;r||yd(n.hostElement,i,!0)||(n.isDroppedDown=!1,o&&(o.isDroppedDown=!1))},ep._LEAVE_DELAY))},t}(lf),cf=function(e){function t(t,n){var i=e.call(this,t)||this;if(i._format="t",i.valueChanged=new Xc,id(i.hostElement,"wj-inputtime"),i.isEditable=!0,i._value=Dd.newDate(),i._min=i._max=null,i._msk=new Nd(i._tbx),Ac()||(i._tbx.type="tel"),"INPUT"==i._orgTag){var r=i._tbx.getAttribute("value");r&&(i.value=Hd.parseDate(r,"HH:mm:ss"))}return i.step=15,i.autoExpandSelection=!0,i.initialize(n),i}return Np(t,e),Object.defineProperty(t.prototype,"inputElement",{get:function(){return this._tbx},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputType",{get:function(){return this._tbx.type},set:function(e){this._tbx.type=Vh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){(e=Wh(e,!this.isRequired))&&(e=this._clamp(e)),this._setText(e?Hd.format(e,this.format):"",!0),this.selectedItem&&this.selectedItem.value&&(e=Dd.fromDateTime(e,this.selectedItem.value)),e==this._value||Dd.equals(e,this._value)||(this._value=e,this.onValueChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._tbx.value},set:function(e){e!=this.text&&(this._setText(e,!0),this._commitText())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min=Wh(e,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max=Wh(e,!0),this.isDroppedDown=!1,this._updateItems()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"step",{get:function(){return this._step},set:function(e){e!=this.step&&(this._step=Nh(e,!0),this.isDroppedDown=!1,this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"format",{get:function(){return this._format},set:function(e){e!=this.format&&(this._format=Vh(e),this._tbx.value=Hd.format(this.value,this.format),Jh(this.collectionView)&&this._updateItems())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._msk.mask},set:function(e){this._msk.mask=Vh(e)},enumerable:!0,configurable:!0}),t.prototype.onValueChanged=function(e){this.valueChanged.raise(this,e)},t.prototype.onItemsSourceChanged=function(t){e.prototype.onItemsSourceChanged.call(this,t),this._hasCustomItems=null!=this.itemsSource},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement&&(this._msk.refresh(),this._tbx.value=Hd.format(this.value,this.format),this._updateItems())},t.prototype.onSelectedIndexChanged=function(t){if(this.selectedIndex>-1&&!this._settingText){var n=this.value?this.value:Dd.newDate(),i=null!=this.selectedItem.value?this.selectedItem.value:Hd.parseDate(this.text,this.format,this.value);this.value=Dd.fromDateTime(n,i)}e.prototype.onSelectedIndexChanged.call(this,t)},t.prototype._clamp=function(e){return null!=this._min&&this._getTime(e)<this._getTime(this._min)&&(e=Dd.fromDateTime(e,this._min)),null!=this._max&&this._getTime(e)>this._getTime(this._max)&&(e=Dd.fromDateTime(e,this._max)),e},t.prototype._wheel=function(t){if(!t.defaultPrevented&&!this.isDroppedDown&&!this.isReadOnly&&this.containsFocus()&&this.selectedIndex<0&&this.value&&_h(this.step)&&this.step>0){var n=Dd.addMinutes(this.value,this.step*Mh(t.deltaY,-1,1));this.value=this._clamp(n),this.selectAll(),t.preventDefault()}e.prototype._wheel.call(this,t)},t.prototype._updateInputSelection=function(t){if(this._delKey)e.prototype._updateInputSelection.call(this,t);else{for(var n=this._tbx.value;t<n.length&&!n[t].match(/[a-z0-9]/i);)t++;ud(this._tbx,t,this._tbx.value.length)}},t.prototype._updateItems=function(){if(!this._hasCustomItems){var e=[],t=new Date(2020,0),n=new Date(2020,0,1,23,59,59),i=this.step;if(this.min&&t.setHours(this.min.getHours(),this.min.getMinutes(),this.min.getSeconds()),this.max&&n.setHours(this.max.getHours(),this.max.getMinutes(),this.max.getSeconds()),_h(i)&&i>=1)for(var r=t;r<=n;r=Dd.addMinutes(r,i))e.push({value:r,text:Hd.format(r,this.format)});var o=this.value;this._settingText=!0,this.displayMemberPath="text",this.selectedValuePath="text",this.itemsSource=e,this._hasCustomItems=!1,this._settingText=!1,!o&&this.isRequired||(this.value=o)}},t.prototype._getTime=function(e){return 3600*e.getHours()+60*e.getMinutes()+e.getSeconds()},t.prototype._keydown=function(t){if(e.prototype._keydown.call(this,t),!t.defaultPrevented)switch(t.keyCode){case ih.Enter:this.isDroppedDown||(this._commitText(),this.selectAll());break;case ih.Escape:this.text=Hd.format(this.value,this.format),this.selectAll()}},t.prototype._commitText=function(){if(this.text||this.isRequired){var e=this.value?Hd.format(this.value,this.format):"";if(this.text!=e){var t=this.selectedItem&&this.selectedItem.value?this.selectedItem.value:Hd.parseDate(this.text,this.format,this.value);t?(Dd.sameTime(t,this._clamp(t))||this.onInvalidInput(new eh))&&(this.value=Dd.fromDateTime(this.value,t)):this.onInvalidInput(new eh)&&(this.text=e)}}else this.value=null},t}(lf);Ld("InputDateTime",{ariaLabels:{tglDate:"Toggle Calendar",tglTime:"Toggle Time List"}});var hf=function(e){function t(t,n){var i=e.call(this,t)||this;id(i.hostElement,"wj-inputdatetime");var r=Md.InputDateTime.ariaLabels;ad(i._btn,r.tglDate),ad(i._btnTm,r.tglTime),i.value=new Date,i.format="g",i._inputTime=new cf(document.createElement("div"),{valueChanged:function(e){var t=i.rangeEnd;i.value=Dd.fromDateTime(i.value,e.value),i.calendar._rngMode()&&t&&(i.rangeEnd=Dd.fromDateTime(t,e.value))},isDroppedDownChanged:function(e){e.listBox.containsFocus()&&i.inputElement.focus(),i._selectAll()}});var o=i.addEventListener.bind(i);i._btnTm=i.hostElement.querySelector('[wj-part="btn-tm"]'),o(i._btnTm,"mousedown",function(e){i._btnclick(e)}),i._ddDate=i._dropDown;var s=i._ddTime=i._inputTime.dropDown;return o(s,"keydown",i._keydown.bind(i),!0),o(s,"blur",function(){i._updateFocusState()},!0),o(s,"click",function(e){e.defaultPrevented||e.target!=s&&i.hostElement.focus()},!0),i.initialize(n),i.text=i._getText(),i}return Np(t,e),Object.defineProperty(t.prototype,"timeMin",{get:function(){return this._inputTime.min},set:function(e){this._inputTime.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeMax",{get:function(){return this._inputTime.max},set:function(e){this._inputTime.max=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeFormat",{get:function(){return this._inputTime.format},set:function(e){this._inputTime.format=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"timeStep",{get:function(){return this._inputTime.step},set:function(e){this._inputTime.step=e,this._btnTm.style.display=_h(e)&&e>0?"":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputTime",{get:function(){return this._inputTime},enumerable:!0,configurable:!0}),t.prototype._fromDateTime=function(e){return e},t.prototype._btnclick=function(t){var n=bd(t.target,"button")==this._btn?this._ddDate:this._ddTime;this._setDropdown(n),e.prototype._btnclick.call(this,t)},t.prototype.dispose=function(){this._setDropdown(this._ddDate),e.prototype.dispose.call(this),this._inputTime.dispose()},t.prototype.refresh=function(t){void 0===t&&(t=!0),this._inputTime.refresh(),e.prototype.refresh.call(this,t)},t.prototype._updateBtn=function(){e.prototype._updateBtn.call(this),this._btnTm&&(this._btnTm.tabIndex=this._btn.tabIndex,this._btnTm.parentElement.style.display=this._btn.style.display)},t.prototype._setDropdown=function(e){if(this._dropDown==e)return!1;this.isDroppedDown&&(this.isDroppedDown=!1);var t=this.dropDownCssClass;return this.dropDownCssClass="",this._dropDown=e,this.dropDownCssClass=t,!0},t.prototype._updateDropDown=function(){var t=this._inputTime;this._dropDown==t.dropDown?(this._commitText(),e.prototype._updateDropDown.call(this),t.isRequired=this.isRequired&&null!=this.value,t.value=this.value,this.isDroppedDown&&t.listBox.showSelection()):e.prototype._updateDropDown.call(this)},t.controlTemplate='<div class="wj-template"><div class="wj-input"><div class="wj-input-group wj-input-btn-visible"><input wj-part="input" type="text" class="wj-form-control"/><span class="wj-input-group-btn"><button wj-part="btn" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-calendar"></span></button><button wj-part="btn-tm" class="wj-btn wj-btn-default" tabindex="-1"><span class="wj-glyph-clock"></span></button></span></div></div><div wj-part="dropdown" class="wj-content wj-dropdown-panel"></div></div>',t}(rf),df=function(e){function t(t,n){var i=e.call(this,t)||this;return i._cssMatch="wj-state-match",i._minLength=2,i._maxItems=6,i._itemCount=0,i._beginsWith=!1,i._delay=ep._SEARCH_DELAY,i._query="",i._inCallback=!1,i._srchProps=[],id(i.hostElement,"wj-autocomplete"),i._bsCollapse=!1,i.isEditable=!0,i.isRequired=!1,i.listBox.formatItem.addHandler(i._formatListItem,i),i._itemsSourceFnCallbackBnd=i._itemSourceFunctionCallback.bind(i),i.initialize(n),i}return Np(t,e),Object.defineProperty(t.prototype,"minLength",{get:function(){return this._minLength},set:function(e){this._minLength=Nh(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"beginsWithSearch",{get:function(){return this._beginsWith},set:function(e){this._beginsWith=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxItems",{get:function(){return this._maxItems},set:function(e){this._maxItems=Nh(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"delay",{get:function(){return this._delay},set:function(e){this._delay=Nh(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"searchMemberPath",{get:function(){return this._srchProp},set:function(e){this._srchProp=Vh(e),this._srchProps=e?e.trim().split(/\s*,\s*/):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSourceFunction",{get:function(){return this._itemsSourceFn},set:function(e){this._itemsSourceFn=qh(e),yh(this._itemsSourceFn)&&this.itemsSourceFunction(this.text,this.maxItems,this._itemsSourceFnCallbackBnd)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssMatch",{get:function(){return this._cssMatch},set:function(e){this._cssMatch=Vh(e)},enumerable:!0,configurable:!0}),t.prototype._keydown=function(t){if(!t.defaultPrevented&&this.isDroppedDown)switch(t.keyCode){case ih.Up:case ih.Down:this.selectAll()}e.prototype._keydown.call(this,t)},t.prototype._setText=function(e){var t=this;if(!(this._inCallback||this._composing||this._settingText)){if(this.selectedIndex>-1&&this.getDisplayText()!=e&&(this._settingText=!0,this.selectedIndex=-1,this._settingText=!1),e!=this._oldText){var n=this._tbx;n.value!=e&&(n.value=e),this._oldText=e,this.onTextChanged();var i=this.collectionView;if(!e&&i){(this._query||this.selectedIndex<0)&&(this.isDroppedDown=!1),this._query=this._rxHighlight=null,i.filter=null;var r=this.itemsSourceFunction;return void(yh(r)&&(this.isDroppedDown=!1,r(this._query,this.maxItems,this._itemsSourceFnCallbackBnd)))}}this._toSearch&&clearTimeout(this._toSearch),e!=this.getDisplayText()&&(this._toSearch=setTimeout(function(){t._toSearch=null;var e=t.text.trim();if(e.length>=t._minLength&&e!=t._query){t._query=e;var n=$h(e=ed(e)),i=t.caseSensitiveSearch?"":"i";t._beginsWith||(i+="g"),t._rxSrch=t._beginsWith?new RegExp("^"+e+".*",i):new RegExp("(?=.*"+e.replace(/ /g,")(?=.*")+")",i),t._rxHighlight=new RegExp("("+n.replace(/\s+/g,"|")+")",i);var r=t.itemsSourceFunction;yh(r)?r(t._query,t.maxItems,t._itemsSourceFnCallbackBnd):t._updateItems()}},this._delay))}},t.prototype._itemSourceFunctionCallback=function(e){this._inCallback=!0;var t=Kh(e||[]);if(t.moveCurrentToPosition(-1),this.itemsSource=t,this._inCallback=!1,this.containsFocus()){var n=this._tbx,i=n.selectionStart,r=n.selectionEnd,o=this.collectionView;this.isDroppedDown=null!=o&&o.items.length>0,ud(n,i,r),this.refresh()}},t.prototype.onIsDroppedDownChanged=function(t){if(e.prototype.onIsDroppedDownChanged.call(this,t),this.containsFocus()&&!this.isTouching){var n=this.collectionView;if(this.selectedIndex<0&&n){var i=n.items,r=this.text;1==i.length&&i[0]==r?this.selectedIndex=0:ud(this._tbx,r.length)}}this._query=""},t.prototype._updateItems=function(){var e=this.collectionView;if(e){this._inCallback=!0,e.beginUpdate(),this._itemCount=0,e.filter=this._filter.bind(this),e.moveCurrentToPosition(-1),e.endUpdate(),this._inCallback=!1;var t=e.items.length,n=this._tbx,i=n.selectionStart,r=n.selectionEnd;if(this.isDroppedDown=t>0&&this.containsFocus(),t||this.isEditable||(this.selectedIndex=-1),1==t&&this.selectedIndex<0){var o=this._getItemText(e.items[0],!1),s=n.value;this.caseSensitiveSearch||(o=o.toLowerCase(),s=s.toLowerCase()),o==s&&(this.selectedIndex=0)}this.isDroppedDown&&ud(n,i,r),this.refresh()}},t.prototype._filter=function(e){if(this._itemCount>=this._maxItems)return!1;var t=[this._getItemText(e,!1)];this._srchProps&&this._srchProps.forEach(function(n){var i=e[n];null!=i&&t.push(i)}),this.isContentHtml&&(t=t.map(function(e){return e.replace(/(<[^>]*>|&[^;]*;)/g,"")}));for(var n=0;n<t.length;n++)if(this._rxSrch.test(t[n]))return this._itemCount++,!0;return!1},t.prototype._getItemText=function(e,t){var n=e?e.toString():"",i=t&&this.headerPath?this._pathHdr:this._lbx._pathDisplay;return i&&(n=null!=(n=i.getValue(e))?n.toString():""),n},t.prototype._formatListItem=function(e,t){var n=this;this._cssMatch&&this._rxHighlight&&(t.item.innerHTML=t.item.innerHTML.replace(this._rxHighlight,function(e,t,i,r){return n._enclosed(r,i,"<",">")||n._enclosed(r,i,"&",";")?e:'<span class="'+n._cssMatch+'">'+e+"</span>"}))},t.prototype._enclosed=function(e,t,n,i){for(var r=t;r>=0&&e[r]!=i;r--)if(e[r]==n)for(var o=t;o<e.length&&e[o]!=n;o++)if(e[o]==i)return!0;return!1},t}(lf),pf=function(e){function t(t,n){var i=e.call(this,t)||this;return i._selItems=[],i._maxSelItems=null,i._lastInputValue="",i._selPath=new Zc(null),i._notAddItm=!1,i.selectedItemsChanged=new Xc,id(i.hostElement,"wj-multi-autocomplete"),i._wjTpl=i.hostElement.querySelector(".wj-template"),i._wjInput=i.hostElement.querySelector(".wj-input"),i.showDropDownButton=!1,i.initialize(n),i.addEventListener(i.hostElement,"keyup",i._keyup.bind(i),!0),i.addEventListener(window,"resize",i._adjustInputWidth.bind(i)),i.addEventListener(i._tbx,"focus",function(){i._itemOff()}),i._addHelperInput(),i._initSeltems(),i.listBox.itemsChanged.addHandler(function(){return i.selectedIndex=-1}),i._refreshHeader(),i}return Np(t,e),Object.defineProperty(t.prototype,"showDropDownButton",{set:function(e){this._showBtn=!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSelectedItems",{get:function(){return this._maxSelItems},set:function(e){this._maxSelItems!=e&&(this._maxSelItems=Nh(e,!0),this._updateMaxItems(),this._refreshHeader(),this._clearSelIndex())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedMemberPath",{get:function(){return this._selPath.path},set:function(e){(e=Vh(e))!==this.selectedMemberPath&&(this._selPath.path=e,this._initSeltems(),this._refreshHeader(),this.onSelectedItemsChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){return this._selItems},set:function(e){if(this._selItems=Uh(e),this.selectedMemberPath&&""!==this.selectedMemberPath&&this._selItems)for(var t=0;t<this._selItems.length;t++)this._setSelItem(this._selItems[t],!1);this._updateMaxItems(),this.onSelectedItemsChanged(),this._refreshHeader(),this._clearSelIndex()},enumerable:!0,configurable:!0}),t.prototype.onSelectedItemsChanged=function(e){this.selectedItemsChanged.raise(this,e)},t.prototype.onIsDroppedDownChanged=function(t){!this.isDroppedDown&&this.selectedIndex>-1&&!this._notAddItm&&this._addItem(!0),this._notAddItm=!1,e.prototype.onIsDroppedDownChanged.call(this,t)},t.prototype.refresh=function(t){void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.hostElement&&(this._initSeltems(),this.isDroppedDown||this._refreshHeader())},t.prototype._keydown=function(t){if(!this.isReadOnly){if(!t.defaultPrevented)switch(t.keyCode){case ih.Back:this._lastInputValue=this._tbx.value;break;case ih.Enter:this._itemOff(),this._addItem(!0),kc()&&ud(this._tbx,this._tbx.textContent.length,this._tbx.textContent.length);break;case ih.Tab:this.isDroppedDown?(this._addItem(!1),this._tbx.value="",this._lbx.selectedIndex=-1,t.preventDefault()):this._updateFocus();break;case ih.Space:if(""!==this._tbx.value)return;this.isDroppedDown||this._tbx.disabled||(this.isDroppedDown=!0,this._clearSelIndex());break;case ih.Escape:this.isDroppedDown&&(this._notAddItm=!0);break;case ih.Left:this._itemOn(!this.rightToLeft);break;case ih.Right:this._itemOn(!!this.rightToLeft);break;case ih.Up:case ih.Down:var n=dd();if(t.altKey){if(this._tbx==n)return this.isDroppedDown=!this.isDroppedDown,this.isDroppedDown||this._tbx.focus(),void t.preventDefault()}else if(this._tbx!==n)return;default:if(t.keyCode===ih.Back||t.keyCode===ih.Delete)return;this._itemOff(),null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems&&t.preventDefault()}this._tbx.disabled||e.prototype._keydown.call(this,t)}},t.prototype._updateState=function(){e.prototype._updateState.call(this),this._wjTpl&&(nd(this.hostElement,"wj-state-focused")||this._itemOff())},t.prototype._keyup=function(e){if(!this.isReadOnly&&!e.defaultPrevented)switch(e.keyCode){case ih.Back:0===this._tbx.value.length&&0===this._lastInputValue.length&&this._delItem(!1);break;case ih.Delete:this._delItem(!0)}},t.prototype._addHelperInput=function(){var e=document.createElement("input");e.type="text",e.tabIndex=-1,e.className="wj-token-helper",e.readOnly=!0,this._wjTpl.insertBefore(e,this._wjInput),this._helperInput=e},t.prototype._refreshHeader=function(){for(var e=this.hostElement.querySelectorAll(".wj-token"),t=0;t<e.length;t++)this._wjTpl.removeChild(e[t]);var n=this.selectedItems;if(n&&0!==n.length){for(t=0;t<n.length;t++)this._insertToken(n[t]);this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()}else this._wjInput.style.cssFloat=this.rightToLeft?"right":"left",this._adjustInputWidth()},t.prototype._insertToken=function(e){var t=this._getItemText(e,!0);this.isContentHtml||(t=$h(t)),this._wjTpl.insertBefore(this._createItem(t),this._wjInput)},t.prototype._updateMaxItems=function(){null!=this._maxSelItems&&this._selItems&&this._selItems.length>this._maxSelItems&&(this._selItems=this._selItems.slice(0,this._maxSelItems))},t.prototype._updateFocus=function(){var e=this,n=this._wjTpl.querySelector("."+t._clsActive);n?(rd(n,t._clsActive),setTimeout(function(){e._tbx.focus()})):this._clearSelIndex()},t.prototype._addItem=function(e){this.selectedItems.indexOf(this.selectedItem)>-1?this._clearSelIndex():this.selectedIndex>-1&&(this._updateSelItems(this.selectedItem,!0),this._refreshHeader(),e&&this._clearSelIndex(),this._disableInput(!0))},t.prototype._delItem=function(e){var n,i,r=this._wjTpl.querySelector("."+t._clsActive),o=!1;e&&!r||(r?(i=this._getItemIndex(r))>-1&&(n=this._selItems[i],o=!0):this._selItems.length>0&&(n=this._selItems[this._selItems.length-1],o=!0),o&&(this._updateSelItems(n,!1),this._refreshHeader(),this._clearSelIndex(),this._disableInput(!1)),this._tbx.focus())},t.prototype._updateSelItems=function(e,t){if(t){if(this._selItems&&0!==this._selItems.length||(this._selItems=[]),null!=this._maxSelItems&&this._selItems.length>=this._maxSelItems)return;this._selItems.push(e)}else{var n=this._selItems.indexOf(e);this._selItems.splice(n,1)}this._hasSelectedMemeberPath()&&this._setSelItem(e,t),this.onSelectedItemsChanged()},t.prototype._createItem=function(e){var n=this,i=document.createElement("div"),r=document.createElement("span"),o=document.createElement("a");return i.appendChild(r),i.appendChild(o),i.className="wj-token",r.className="wj-token-label",r.innerHTML=e,o.className="wj-token-close",o.href="#",o.tabIndex=-1,o.text="\xd7",i.style.cssFloat=this.rightToLeft?"right":"left",this.addEventListener(i,"click",function(e){n._helperInput.focus();var r=n._wjTpl.querySelector("."+t._clsActive);r&&rd(r,t._clsActive),id(i,t._clsActive),e.stopPropagation(),e.preventDefault()}),this.addEventListener(o,"click",function(e){if(!n.isReadOnly){var t=n._getItemIndex(i);t>-1&&n._updateSelItems(n._selItems[t],!1),n._wjTpl.removeChild(i),n._adjustInputWidth(),n._disableInput(!1),n._tbx.focus(),e.stopPropagation(),e.preventDefault()}}),i},t.prototype._itemOn=function(e){var n,i,r,o=dd();if((this._tbx!=o||0===this._tbx.value.length)&&0!==(n=this._wjTpl.querySelectorAll(".wj-token")).length)if(i=this._wjTpl.querySelector("."+t._clsActive),r=this._getItemIndex(i),e){if(0===r)return;-1===r?(id(n[n.length-1],t._clsActive),this._helperInput.focus()):(rd(i,t._clsActive),id(n[r-1],t._clsActive),this._helperInput.focus())}else if(!e){if(-1===r)return;r!==n.length-1?(rd(i,t._clsActive),id(n[r+1],t._clsActive),this._helperInput.focus()):(rd(i,t._clsActive),this._tbx.focus())}},t.prototype._itemOff=function(){var e=this._wjTpl.querySelector("."+t._clsActive);e&&rd(e,t._clsActive)},t.prototype._initSeltems=function(){if(this.selectedMemberPath){this._selItems.splice(0,this._selItems.length);var e=this.collectionView;if(e)for(var t=0;t<e.sourceCollection.length;t++)this._getSelItem(t)&&this._selItems.push(e.sourceCollection[t])}},t.prototype._getSelItem=function(e){var t=this.collectionView,n=t?t.sourceCollection[e]:null;return!(!Eh(n)||!this.selectedMemberPath)&&this._selPath.getValue(n)},t.prototype._setSelItem=function(e,t){Eh(e)&&this._selPath.getValue(e)!=t&&this._selPath.setValue(e,t)},t.prototype._clearSelIndex=function(){this.selectedIndex=-1},t.prototype._hasSelectedMemeberPath=function(){return this.selectedMemberPath&&""!==this.selectedMemberPath},t.prototype._disableInput=function(e){null!=this._maxSelItems&&(this._selItems.length<this._maxSelItems?(this._tbx.disabled=!1,this._tbx.focus()):(this._tbx.disabled=!0,this.hostElement.focus()))},t.prototype._adjustInputWidth=function(){this._tbx.style.width="60px";var e=Ed(this.hostElement),t=Ed(this._tbx),n=getComputedStyle(this._tbx),i=parseInt(n.paddingLeft,10),r=parseInt(n.paddingRight,10);this._tbx.style.width=(this.rightToLeft?t.left+t.width-e.left-i-r-8:e.left+e.width-t.left-i-r-8)+"px"},t.prototype._getItemIndex=function(e){for(var t=this.hostElement.querySelectorAll(".wj-token"),n=0;n<t.length;n++)if(e===t[n])return n;return-1},t._clsActive="wj-token-active",t}(df);Od("wijmo.input",r);var ff,gf,_f=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(e){e[e.AutoComplete=0]="AutoComplete",e[e.DropDownList=1]="DropDownList",e[e.RadioButtons=2]="RadioButtons"}(gf||(gf={}));var mf,vf=function(){function e(e,t,n){this._keyPath="",this._displayPath="",this._sortByVal=!0,this._editable=!1,this.mapChanged=new Xc,!Ch(e)||t||n||(e=e.map(function(e){return{value:e}}),t=n="value"),this._cv=Kh(e),this._keyPath=Vh(t,!1),this._displayPath=Vh(n,!1),this._cv.collectionChanged.addHandler(this.onMapChanged,this)}return Object.defineProperty(e.prototype,"sortByDisplayValues",{get:function(){return this._sortByVal},set:function(e){this._sortByVal=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectedValuePath",{get:function(){return this._keyPath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayMemberPath",{get:function(){return this._displayPath},enumerable:!0,configurable:!0}),e.prototype.getDataItem=function(e){var t=this;if(!this._hash){var n=this._cv.sourceCollection,i={};Ch(n)&&this._keyPath&&n.forEach(function(e){var n=e[t._keyPath];null==i[n]&&(i[n]=e)}),this._hash=i}return this._hash[e]},e.prototype.getDisplayValue=function(e){var t=this._displayPath,n=this.getDataItem(e);return t&&n?n[t]:e},e.prototype.getKeyValue=function(e,t){var n=this._displayPath,i=this._indexOf(e,n,t,!0);return i<0&&(i=this._indexOf(e,n,t,!1)),i>-1?this._cv.sourceCollection[i][this._keyPath]:null},e.prototype.getDisplayValues=function(e){var t=this;return this._cv&&this._displayPath?this._cv.items.map(function(e){return e[t._displayPath]}):[]},e.prototype.getKeyValues=function(){var e=this;return this._cv&&this._keyPath?this._cv.items.map(function(t){return t[e._keyPath]}):[]},Object.defineProperty(e.prototype,"isEditable",{get:function(){return this._editable},set:function(e){this._editable=Bh(e)},enumerable:!0,configurable:!0}),e.prototype.onMapChanged=function(e){this._hash=null,this.mapChanged.raise(this,e)},e.prototype._indexOf=function(e,t,n,i){var r=-1,o=-1;if(this._cv&&t){var s=null!=e?e.toString():"";s&&n&&(e=td(s));for(var l=i?s:s.toLowerCase(),a=this._cv.sourceCollection,u=0;u<a.length;u++){var c=a[u],h=c[t];if(n&&fh(h)&&(h=td(h)),h==e?r=u:i||h.length!=l.length||h.toLowerCase()!=l?null!=h&&h.toString()==s&&(r=u):r=u,r==u){if(!this._cv.filter||this._cv.filter(c))return r;o<0&&(o=r)}}}return o},e}(),yf=function(){function e(e,t,n,i){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===n&&(n=e),void 0===i&&(i=t),this.setRange(e,t,n,i)}return e.prototype.setRange=function(e,t,n,i){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===n&&(n=e),void 0===i&&(i=t),this._row=zh(e),this._col=zh(t),this._row2=zh(n),this._col2=zh(i)},Object.defineProperty(e.prototype,"row",{get:function(){return this._row},set:function(e){this._row=zh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"col",{get:function(){return this._col},set:function(e){this._col=zh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"row2",{get:function(){return this._row2},set:function(e){this._row2=zh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"col2",{get:function(){return this._col2},set:function(e){this._col2=zh(e)},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this._row,this._col,this._row2,this._col2)},e.prototype.copy=function(e){this.setRange(e._row,e._col,e._row2,e._col2)},Object.defineProperty(e.prototype,"rowSpan",{get:function(){return Math.abs(this._row2-this._row)+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columnSpan",{get:function(){return Math.abs(this._col2-this._col)+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRow",{get:function(){return Math.min(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRow",{get:function(){return Math.max(this._row,this._row2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"leftCol",{get:function(){return Math.min(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rightCol",{get:function(){return Math.max(this._col,this._col2)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isValid",{get:function(){return this._row>-1&&this._col>-1&&this._row2>-1&&this._col2>-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSingleCell",{get:function(){return this._row==this._row2&&this._col==this._col2},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,n){var i=dh(t,e);if(i)return i.topRow>=this.topRow&&i.bottomRow<=this.bottomRow&&i.leftCol>=this.leftCol&&i.rightCol<=this.rightCol;if(mh(t)&&mh(n))return t>=this.topRow&&t<=this.bottomRow&&n>=this.leftCol&&n<=this.rightCol;throw"contains expects a CellRange or row/column indices."},e.prototype.containsRow=function(e){return zh(e)>=this.topRow&&e<=this.bottomRow},e.prototype.containsColumn=function(e){return zh(e)>=this.leftCol&&e<=this.rightCol},e.prototype.intersects=function(e){return this.intersectsRow(e)&&this.intersectsColumn(e)},e.prototype.intersectsRow=function(e){return e&&!(this.bottomRow<e.topRow||this.topRow>e.bottomRow)},e.prototype.intersectsColumn=function(e){return e&&!(this.rightCol<e.leftCol||this.leftCol>e.rightCol)},e.prototype.getRenderSize=function(e){var t=new Id(0,0);if(this.isValid){for(var n=this.topRow;n<=this.bottomRow;n++)t.height+=e.rows[n].renderSize;for(var i=this.leftCol;i<=this.rightCol;i++)t.width+=e.columns[i].renderSize}return t},e.prototype.equals=function(t){return t instanceof e&&this._row==t._row&&this._col==t._col&&this._row2==t._row2&&this._col2==t._col2},e.prototype.combine=function(t){return t?new e(Math.min(this.topRow,t.topRow),Math.min(this.leftCol,t.leftCol),Math.max(this.bottomRow,t.bottomRow),Math.max(this.rightCol,t.rightCol)):this},e.prototype.toString=function(){return kh("({row}, {col})-({row2}, {col2})",this)},e}();!function(e){e[e.None=0]="None",e[e.Cell=1]="Cell",e[e.ColumnHeader=2]="ColumnHeader",e[e.RowHeader=3]="RowHeader",e[e.TopLeft=4]="TopLeft",e[e.ColumnFooter=5]="ColumnFooter",e[e.BottomLeft=6]="BottomLeft"}(mf||(mf={}));var bf,wf,Cf,Ef=function(){function e(e,t,n,i,r){this._offsetY=0,this._rng=new yf,this._g=Gh(e,Wf),this._ct=zh(t),this._rows=Gh(n,Vf),this._cols=Gh(i,Lf),this._e=Gh(r,HTMLElement),this._vrb=new yf}return Object.defineProperty(e.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellType",{get:function(){return this._ct},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"viewRange",{get:function(){return this._getViewRange()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._cols.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._rows.getTotalSize()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),e.prototype.getCellData=function(e,t,n){var i,r=this._g,o=this._rows[Nh(e,!1,!0)],s=null;if(!o)return null;t=this._toIndex(t),i=this._cols[Nh(t,!1,!0)];var l=r?r._getBindingColumn(this,e,i):i,a=null;if(o instanceof Hf&&o.dataItem instanceof Jd&&!r.childItemsPath&&(a=o.dataItem),l.binding&&o.dataItem&&!a?s=l._binding.getValue(o.dataItem):o._ubv&&(s=o._ubv[i._hash]),null==s)switch(this._ct){case mf.TopLeft:case mf.ColumnHeader:e!=this._rows.length-1&&l==i||(s=l.header);break;case mf.ColumnFooter:if(o instanceof Hf&&l.aggregate!=Vd.None){var u=this._g.collectionView;if(u){var c=dh(u,Kd);s=c?c.getAggregate(l.aggregate,l.binding):Bd(l.aggregate,u.items,l.binding)}}break;case mf.Cell:o instanceof Hf&&(t==this._cols.firstVisibleIndex?s=o.getGroupHeader():a&&l.aggregate!=Vd.None&&(s=a.getAggregate(l.aggregate,l.binding,this._g.collectionView)))}if(n){var h=l.dataMap||o.dataMap;this.cellType==mf.Cell&&h&&(s=h.getDisplayValue(s)),s=null!=s?Hd.format(s,l.format||o.format):""}return s},e.prototype.setCellData=function(e,t,n,i,r){void 0===i&&(i=!0),void 0===r&&(r=!0);var o=this._g,s=this._rows[Nh(e,!1,!0)],l=this._cols[Nh(this._toIndex(t),!1,!0)],a=rh;if(!s)return!1;var u=o?o._getBindingColumn(this,e,l):l;if(this._ct==mf.Cell){var c=u.dataMap||s.dataMap,h=u.getIsRequired(s);if(c&&null!=n){var d=c.getKeyValue(n,u.isContentHtml||s.isContentHtml);if(null==d&&null==c.getDisplayValue(null)){if(c.getDisplayValue(n)!=n);else if(!c.isEditable||c.displayMemberPath!=c.selectedValuePath){if(""!=n||h)return!1;n=null}}else n=d}var p,f=u.dataType||s.dataType,g=this.getCellData(e,t,!1);p=f||Ih(g);var _=null==n||""===n&&!c;if(!h&&_)p!=a.String&&(n=null),i=!1;else if(h&&_&&i)return!1;if(i){var m=u.format||s.format;if(m||p!=a.Date||(m="d"),u.mask&&fh(n)&&p!=a.String&&(n=n.replace(/_/g,"")),n=Dh(n,p,m,g),p!=a.Object&&Ih(n)!=p)return!1}}if(s.dataItem&&u.binding){var v=u._binding,y=s.dataItem,b=v.getValue(y);if(n!==b&&!Dd.equals(n,b)){var w=o.collectionView,C=w instanceof Kd&&y!=w.currentEditItem&&w.trackChanges,E=null;if(C&&(E=w._extend({},y)),v.setValue(y,n),C){var x=new oh(Kc.Change,y,w.items.indexOf(y));w.onCollectionChanged(x),w._trackItemChanged(y,E)}}}else s._ubv||(s._ubv={}),s._ubv[l._hash]=n;return r&&o&&o.invalidate(),!0},e.prototype.getCellBoundingRect=function(e,t,n){var i=this._g,r=this.rows[e],o=this.columns[this._toIndex(t)],s=new Pd(o.pos,r.pos,o.renderSize,r.renderSize);if(i.rightToLeft&&(s.left=this.hostElement.clientWidth-s.right,kc()||(s.left-=i._root.offsetWidth-i._root.clientWidth)),!n){var l=this.hostElement.getBoundingClientRect();s.left+=l.left,s.top+=l.top-this._offsetY}return e<this.rows.frozen&&(s.top-=i.scrollPosition.y),t<this.columns.frozen&&(s.left-=i.scrollPosition.x*(i.rightToLeft?-1:1)),s},e.prototype.getCellElement=function(t,n){var i=this.hostElement.children,r=Math.min(t+2,i.length);n=this._toIndex(n);for(var o=0;o<r;o++)for(var s=i[o].children,l=Math.min(n+2,s.length),a=0;a<l;a++){var u=s[a],c=u[e._INDEX_KEY];if(c&&(c.row==t&&c.col==n||c.rng&&c.rng.contains(t,n)))return u}return null},e.prototype.getSelectedState=function(e,t,n){var i=this._g,r=i.selectionMode,o=i._selHdl.selection,s=bf,l=wf;if(r==s.None)return l.None;switch(t=this._toIndex(t),this._ct){case mf.Cell:if(n||(n=i.getMergedRange(this,e,t)),n){if(n.contains(o.row,o.col))return i.showMarquee?l.Active:l.Cursor;if(n.intersects(o)&&r!=s.ListBox)return l.Selected;for(var a=n.leftCol;a<=n.rightCol;a++)if(i.columns[a].isSelected)return l.Selected;for(var u=n.topRow;u<=n.bottomRow;u++)if(i.rows[u].isSelected)return l.Selected}if(o.row==e&&o.col==t)return i.showMarquee?l.Active:l.Cursor;if(i.rows[e].isSelected||i.columns[t].isSelected)return l.Selected;if(r==s.MultiRange)for(var c=i._selHdl.extendedSelection,h=0;h<c.length;h++)if(c[h].contains(e,t)||n&&n.intersects(c[h]))return l.Selected;if(n)switch(r){case s.Row:case s.RowRange:if(n.containsRow(o.row))return l.Selected}return r==s.ListBox?l.None:(o=this._getAdjustedSelection(o)).containsRow(e)&&o.containsColumn(t)?l.Selected:l.None;case mf.ColumnHeader:if(i.showSelectedHeaders&kf.Column&&(i.columns[t].isSelected||o.containsColumn(t)||o.intersectsColumn(n))&&(n&&(e=n.bottomRow),e==this.rows.length-1))return l.Selected;break;case mf.RowHeader:if(i.showSelectedHeaders&kf.Row&&(i.rows[e].isSelected||o.containsRow(e)||o.intersectsRow(n))&&(n&&(t=n.rightCol),t==this.columns.length-1))return l.Selected}return l.None},Object.defineProperty(e.prototype,"hostElement",{get:function(){return this._e},enumerable:!0,configurable:!0}),e.prototype._toIndex=function(e){if(fh(e)&&(e=this._cols.indexOf(e))<0)throw"Invalid column name or binding.";return e},e.prototype._getAdjustedSelection=function(e){var t=this._g,n=this._rng;switch(t.selectionMode){case bf.Cell:n.setRange(e.row,e.col,e.row,e.col);break;case bf.Row:n.setRange(e.row,0,e.row,t.columns.length-1);break;case bf.RowRange:case bf.ListBox:n.setRange(e.row,0,e.row2,t.columns.length-1);break;default:n.copy(e)}return n},e.prototype._getOffsetY=function(){return this._offsetY},e.prototype._updateContent=function(e,t,n){var i=this._g,r=this._e,o=this._rows,s=this._cols,l=this._ct;if(l==mf.ColumnHeader||l==mf.ColumnFooter||l==mf.RowHeader){var a=i._ptScrl,u=r.style;l==mf.RowHeader?u.top=a.y+"px":i.rightToLeft?u.right=a.x+"px":u.left=a.x+"px"}this._offsetY!=n&&(e=!1,this._offsetY=n);var c=this._getViewRange(),h=c;if(h.isValid){var d=o.length<=i._vtRows?o.length:0,p=s.length<=i._vtCols?s.length:0;h=new yf(Math.max(c.row-d,o.frozen),Math.max(c.col-p,s.frozen),Math.min(c.row2+d,o.length-1),Math.min(c.col2+p,s.length-1))}if(e&&!t&&this._vrb.contains(c)&&!o.frozen&&!s.frozen)return this._activeCell;e&&h.equals(this._vrb)||(t=!1),e&&!t&&this._ct!=mf.TopLeft&&this._reorderCells(h,this._vrb),this._activeCell=null,this._vru=c,this._vrb=h,this._recycle=e;var f=0;this._ct==mf.Cell&&(f=this._renderColHdrRow(h,t));for(var g=0;g<o.frozen&&g<o.length;g++)f=this._renderRow(g,h,t,f);for(g=h.topRow;g<=h.bottomRow&&g>-1;g++)f=this._renderRow(g,h,t,f);for(;r.childElementCount>f;){var _=r.lastElementChild;hd(_),this._removeExtraCells(_,0)}return this._activeCell},e.prototype._clearCells=function(){for(var e=this.hostElement,t=this._g.cellFactory,n=e.childElementCount-1;n>=0;n--){var i=e.children[n];hd(i);for(var r=i.childElementCount-1;r>=0;r--)t.disposeCell(i.children[r])}},e.prototype._reorderCells=function(e,t){if(this._g._reorderCells&&t.isValid&&e.isValid&&e.intersects(t)){if(e.row!=t.row){var n=this._e;if(0!=(s=e.row-t.row)){var i=this._ct==mf.Cell?1:0;if(i+=this.rows.frozen,s>0)for(var r=0;r<s;r++)hd(n.children[i]);else if(s<0){var o=n.children[i];for(r=0;r<-s;r++)(l=document.createElement("div")).className="wj-row",n.insertBefore(l,o)}}}var s;if(e.col!=t.col&&(n=this._e,0!=(s=e.col-t.col)))for(i=this._ct==mf.Cell&&this._g.rowHeaderPath?1:0,i+=this.columns.frozen,r=0;r<n.children.length;r++){var l=n.children[r];if(nd(l,"wj-row"))if(s>0)for(var a=0;a<s;a++)hd(l.children[i]);else if(s<0){o=l.children[i];for(var u=0;u<-s;u++){var c=document.createElement("div");c.className="wj-cell",l.insertBefore(c,o)}}}}},e.prototype._renderColHdrRow=function(e,t){if(t)return 1;var n=this._e.children[0];n||(n=md('<div class="wj-row" role="row"></div>',this._e));var i=this._g;sd(n,"aria-label",i?i.columnHeaders.rows.ariaLabel:null),sd(n,"aria-selected",null);var r=0,o=this._g._getRowHeaderPath();o&&(r=this._renderRowHdrCell(n,-1,o.path));for(var s=0;s<this.columns.frozen&&s<this.columns.length;s++)r=this._renderColHdrCell(n,s,e,t,r);for(s=e.leftCol;s<=e.rightCol&&s>-1;s++)r=this._renderColHdrCell(n,s,e,t,r);return this._removeExtraCells(n,r),1},e.prototype._renderColHdrCell=function(t,n,i,r,o){var s=this.grid,l=this.columns[n];if(l.renderSize<=0)return o;if(r)return o+1;var a=t.children[o];if(a||(a=md(e._HTML_CELL,t)),sd(a,"role","columnheader"),a&&this._recycle&&s._lazyRender){var u=a[e._INDEX_KEY];if(u&&-1==u.row&&u.col==n&&n>=this.columns.frozen)return o+1}if(a.textContent=this.columns[n].header,xd(a,{position:"fixed",left:l.pos,top:-32e3,width:l.renderSize,height:.1,overflow:"hidden",opacity:"0",pointerEvents:"none"}),(l.describedById||this.columns.describedById)&&sd(a,"aria-describedby",[l.describedById,this.columns.describedById].join(" ").trim()||null),s.allowSorting){var c="none";switch(s._getBindingColumn(this,0,l).currentSort){case"+":c="ascending";break;case"-":c="descending"}sd(a,"aria-sort",c)}return s.isReadOnly||(sd(a,"aria-readonly",l.isReadOnly),sd(a,"aria-required",l.getIsRequired())),a[e._INDEX_KEY]={row:-1,col:n,panel:this},o+1},e.prototype._renderRowHdrCell=function(t,n,i){var r=t.children[0];return r||(r=md(e._HTML_CELL,t)),r.setAttribute("role",n<0?"columnheader":"rowheader"),r.textContent=i?i.toString():"",xd(r,{position:"fixed",left:-32e3,top:-32e3,width:.1,height:.1,overflow:"hidden",opacity:"0"}),r[e._INDEX_KEY]={row:n,col:-1,panel:this},1},e.prototype._renderRow=function(e,t,n,i){var r=this._g,o=this.rows[e];if(o.renderSize<=0)return i;var s=this._e.children[i];if(s||(s=md('<div class="wj-row"></div>',this._e)),this._ct==mf.Cell){s.setAttribute("role","row");var l=o.isSelected;switch(r.selectionMode){case bf.Row:case bf.RowRange:l=l||this._g._selHdl.selection.containsRow(e)}sd(s,"aria-selected",!!l||null),sd(s,"aria-level",o instanceof Hf?o.level+1:null),sd(s,"aria-expanded",o instanceof Hf?!o.isCollapsed:null),this.rows.ariaLabel&&sd(s,"aria-label",this.rows.ariaLabel)}var a=0;if(this._ct==mf.Cell){var u=this._g._getRowHeaderPath();u&&(a=this._renderRowHdrCell(s,e,u.getValue(o.dataItem)))}for(var c=0;c<this.columns.frozen&&c<this.columns.length;c++)a=this._renderCell(s,e,c,t,n,a);for(c=t.leftCol;c<=t.rightCol&&c>-1;c++)a=this._renderCell(s,e,c,t,n,a);return this._removeExtraCells(s,a),i+1},e.prototype._renderCell=function(t,n,i,r,o,s){var l=this._g,a=l.getMergedRange(this,n,i);if(a){for(var u=Math.max(r.row,a.row);u<n;u++)if(this.rows[u].renderSize)return s;for(u=Math.max(r.col,a.col);u<i;u++)if(this.columns[u].renderSize)return s;var c=this.columns.frozen;if(c&&a.col<c&&a.col2>=c&&i>a.col)return s}var h=this.columns[i];if(h.renderSize<=0&&(!a||a.getRenderSize(this).width<=0))return s;var d=t.children[s];if(d&&!o&&this._recycle&&l._lazyRender&&!l.activeEditor){var p=d[e._INDEX_KEY];p&&p.row==n&&p.col==i&&p.rng==a&&n>=this.rows.frozen&&i>=this.columns.frozen&&(o=!0)}var f=wf,g=this.getSelectedState(n,i,a),_=g==f.Cursor||g==f.Active;return d&&o?(od(d,"wj-state-active",_),od(d,"wj-state-selected",g==f.Cursor),od(d,"wj-state-multi-selected",g==f.Selected),sd(d,"aria-selected",!(!_&&g==f.None)||null),_&&(this._activeCell=d),s+1):(d||(d=md(e._HTML_CELL,t)),_&&(this._activeCell=d),this._ct==mf.Cell&&(sd(d,"role","gridcell"),sd(d,"aria-selected",!(g==f.None&&!_)||null),sd(d,"aria-readonly",!l.canEditCell(n,i)||null),sd(d,"aria-required",h.getIsRequired())),l.cellFactory.updateCell(this,n,i,d,a),d[e._INDEX_KEY]={row:n,col:i,rng:a,panel:this},s+1)},e.prototype._removeExtraCells=function(e,t){for(var n=this._g.cellFactory;e.childElementCount>t;){var i=e.lastElementChild;hd(i),n.disposeCell(i)}},e.prototype._getViewRange=function(){var e=this._g,t=e._ptScrl,n=e._szClientSB,i=this._rows,r=this._cols,o=new yf(0,0,i.length-1,r.length-1);if(this._ct==mf.Cell||this._ct==mf.RowHeader){var s=-t.y+this._offsetY,l=n.height;(h=Math.min(i.frozen,i.length-1))>0&&(s+=d=i[h-1].pos,l-=d),h>0&&i[h].pos>n.height?o.row=o.row2=-1:(o.row=Math.min(i.length-1,Math.max(h,i.getItemAt(s))),o.row2=Math.max(o.row,i.getItemAt(s+l)));var a=e.hostElement;if(e._clipToScreen&&a){var u=a.getBoundingClientRect(),c=-u.top-e.cells._e.offsetTop;u.top<0&&(o.row=Math.max(o.row,i.getItemAt(c)-1)),u.bottom>innerHeight&&(o.row2=Math.min(o.row2,i.getItemAt(c+innerHeight)+1))}}if(this._ct==mf.Cell||this._ct==mf.ColumnHeader){var h,d,p=-t.x,f=n.width;(h=Math.min(r.frozen,r.length-1))>0&&(p+=d=r[h-1].pos,f-=d),h>0&&r[h].pos>n.width?o.col=o.col2=-1:(o.col=Math.min(r.length-1,Math.max(h,r.getItemAt(p))),o.col2=Math.max(o.col,r.getItemAt(p+f)))}return i.length<=i.frozen&&(o.row=o.row2=-1),r.length<=r.frozen&&(o.col=o.col2=-1),o},e.prototype._getFrozenPos=function(){var e=this._rows.frozen,t=this._cols.frozen,n=e>0?this._rows[e-1]:null,i=t>0?this._cols[t-1]:null;return new Td(i?i.pos+i.renderSize:0,n?n.pos+n.renderSize:0)},e._INDEX_KEY="wj-cell-index",e._HTML_CELL='<div class="wj-cell" tabindex="-1"></div>',e}(),xf=function(e){function t(t,n,i){var r=e.call(this)||this;return r._p=Gh(t,Ef,!0),r._rng=Gh(n,yf,!0),r._data=i,r}return _f(t,e),Object.defineProperty(t.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this._rng.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"row",{get:function(){return this._rng.row},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"col",{get:function(){return this._rng.col},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),t.prototype.getRow=function(){return this._p&&this.row>-1?this._p.rows[this.row]:null},t.prototype.getColumn=function(e){var t=this._p,n=t&&this.col>-1?t.columns[this.col]:null;return n&&e&&(n=t.grid._getBindingColumn(t,this.row,n)),n},t}(eh),Sf=function(e){function t(t,n,i,r){void 0===r&&(r=!0);var o=e.call(this,t,n)||this;return o._updateContent=!0,o._cell=Gh(i,HTMLElement),o}return _f(t,e),Object.defineProperty(t.prototype,"cell",{get:function(){return this._cell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateContent",{get:function(){return this._updateContent},enumerable:!0,configurable:!0}),t}(xf),Tf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stayInEditMode=!1,t._refresh=!0,t}return _f(t,e),Object.defineProperty(t.prototype,"stayInEditMode",{get:function(){return this._stayInEditMode},set:function(e){this._stayInEditMode=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refresh",{get:function(){return this._refresh},set:function(e){this._refresh=Bh(e)},enumerable:!0,configurable:!0}),t}(xf);!function(e){e[e.None=0]="None",e[e.Cell=1]="Cell",e[e.CellRange=2]="CellRange",e[e.Row=3]="Row",e[e.RowRange=4]="RowRange",e[e.ListBox=5]="ListBox",e[e.MultiRange=6]="MultiRange"}(bf||(bf={})),function(e){e[e.None=0]="None",e[e.Selected=1]="Selected",e[e.Cursor=2]="Cursor",e[e.Active=3]="Active"}(wf||(wf={})),function(e){e[e.None=0]="None",e[e.Next=1]="Next",e[e.Prev=2]="Prev",e[e.NextPage=3]="NextPage",e[e.PrevPage=4]="PrevPage",e[e.Home=5]="Home",e[e.End=6]="End",e[e.NextCell=7]="NextCell",e[e.PrevCell=8]="PrevCell",e[e.NextEditableCell=9]="NextEditableCell",e[e.PrevEditableCell=10]="PrevEditableCell"}(Cf||(Cf={}));var If,Pf=function(){function e(e){this._sel=new yf(0,0),this._xSel=new Yd,this._mode=bf.CellRange,this._g=e,this._e=new xf(e.cells,new yf(0,0)),this._xSel.collectionChanged.addHandler(function(){e.invalidate()})}return Object.defineProperty(e.prototype,"selectionMode",{get:function(){return this._mode},set:function(e){e!=this._mode&&this._setSelectionMode(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selection",{get:function(){return this._sel},set:function(e){this.select(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extendedSelection",{get:function(){return this._xSel},enumerable:!0,configurable:!0}),e.prototype.select=function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1);var i=this._g,r=this._e.range,o=this._sel,s=r,l=!1,a=bf;if(_h(e)&&fh(t)){var u=i.columns.indexOf(t);if(u<0)throw"Invalid column name or binding.";r.setRange(e,u),t=!0}else _h(e)&&_h(t)?(r.setRange(e,t),t=!0):e instanceof yf?r.copy(e):Fh(!1,"CellRange expected");switch(i.selectionMode){case a.Cell:s.row2=s.row,s.col2=s.col;break;case a.Row:s.row2=s.row;break;case a.ListBox:l=!0}var c=s.equals(o);if(c&&l)for(var h=0;h<i.rows.length;h++)if(i.rows[h].isSelected!==s.containsRow(h)){c=!1;break}if(c&&i.isRangeValid(s))return t&&this._showSelection(),!0;var d=ep.getControl(bd(dd(),".wj-flexgrid"));if(d&&d.activeEditor&&!d.finishEditing())return!1;var p=this._e;if(p._rng=s,p.cancel=!1,!i.onSelectionChanging(p)&&!n)return!1;l&&i.rows.forEach(function(e,t){e._setFlag(If.Selected,s.containsRow(t),!0)}),s.row=Math.min(s.row,i.rows.length-1),s.row2=Math.min(s.row2,i.rows.length-1),this._sel.copy(s),i.refreshCells(!1,!0,!0),t&&this._showSelection();var f=i.collectionView;if(f){var g=i._getCvIndex(s.row);f.moveCurrentToPosition(g)}return i.onSelectionChanged(p),!0},e.prototype.moveSelection=function(e,t,n){var i=this._g,r=this._sel,o=n&&i.anchorCursor?new yf(r.row2,r.col2):new yf(r.row,r.col);this._adjustReferenceCell(o,e,t);var s=o.row,l=o.col,a=i.rows,u=i.columns,c=Math.max(0,i._szClient.height-i.columnHeaders.height),h=Cf;switch(t){case h.NextCell:case h.NextEditableCell:(l=u.getNextCell(l,t))==o.col&&(s=a.getNextCell(s,t))>o.row&&(l=u.getNextCell(0,t),l=u.getNextCell(l,t==h.NextCell?h.PrevCell:h.PrevEditableCell)),i.select(s,l);break;case h.PrevCell:case h.PrevEditableCell:(l=u.getNextCell(o.col,t))==o.col&&(s=a.getNextCell(s,t))<o.row&&(l=u.getNextCell(u.length-1,t),l=u.getNextCell(l,t==h.PrevCell?h.NextCell:h.NextEditableCell)),i.select(s,l);break;default:s=a.getNextCell(s,e,c),l=u.getNextCell(l,t,c),n?i.selection=i.anchorCursor?new yf(r.row,r.col,s,l):new yf(s,l,r.row2,r.col2):i.select(s,l)}},e.prototype._setSelectionMode=function(e){var t=this._g,n=t.rows,i=bf;if(e==i.ListBox||this._mode==i.ListBox)for(var r=0;r<n.length;r++){var o=e==i.ListBox&&this._sel.containsRow(r);n[r]._setFlag(If.Selected,o,!0)}this._mode=e,this._xSel.clear(),n.length&&(o=this._sel,o=e!=i.None?new yf(o.row,o.col):new yf,this.select(o,!1,!0),t.invalidate())},e.prototype._expandSelection=function(){var e=this._g,t=e.selectionMode;if(e.expandSelectionOnCopyPaste&&t){var n=this.selection;switch(t){case bf.Cell:case bf.Row:break;case bf.ListBox:this._expandSelectedRows();break;case bf.RowRange:n=new yf(n.topRow,0,n.bottomRow,e.columns.length-1);default:var i=this._expandSelectionRange(n);i&&this.select(i,!1)}}},e.prototype._deselectRange=function(e){var t=this.extendedSelection;if(this.selection.contains(e)){var n=t.length;return this._sel=n?t[n-1]:new yf,n&&t.removeAt(n-1),!0}for(var i=0;i<t.length;i++)if(t[i].contains(e))return t.removeAt(i),!0;return!1},e.prototype._expandSelectedRows=function(){Fh(this.selectionMode==bf.ListBox,"ListBox mode expected");for(var e=this._g,t=e.selectedRows.map(function(e){return e.index}),n=[],i=0;i<t.length;i++)for(var r=new yf(t[i],0,t[i],e.columns.length-1),o=this._expandSelectionRange(r)||r,s=o.topRow;s<=o.bottomRow;s++)-1===n.indexOf(s)&&n.push(s);n.sort(),this._selectRows(n)},e.prototype._expandSelectionRange=function(e){var t=this._g,n=t.cells,i=t.getMergedRange(n,e.topRow,e.leftCol,!1),r=t.getMergedRange(n,e.bottomRow,e.leftCol,!1),o=t.getMergedRange(n,e.topRow,e.rightCol,!1),s=t.getMergedRange(n,e.bottomRow,e.rightCol,!1);return i||r||o||s?(i=i||new yf(e.topRow,e.leftCol),r=r||new yf(e.bottomRow,e.leftCol),o=o||new yf(e.topRow,e.rightCol),s=s||new yf(e.bottomRow,e.rightCol),new yf(Math.min(i.topRow,r.topRow,o.topRow,s.topRow),Math.min(i.leftCol,r.leftCol,o.leftCol,s.leftCol),Math.max(i.bottomRow,r.bottomRow,o.bottomRow,s.bottomRow),Math.max(i.rightCol,r.rightCol,o.rightCol,s.rightCol))):null},e.prototype._selectRows=function(e){Fh(this.selectionMode==bf.ListBox,"ListBox mode expected");for(var t=this._g,n=0,i=!0;n<t.rows.length;n++){var r=t.rows[n],o=e&&e.indexOf(r.index)>-1;o&&i&&(i=!1,this.select(n,this.selection.col)),r.isSelected=o}},e.prototype._showSelection=function(){var e=this._g,t=this._sel;e.anchorCursor?e.scrollIntoView(t.row2,t.col2):e.scrollIntoView(t.row,t.col)},e.prototype._adjustReferenceCell=function(e,t,n){var i=this._g,r=i.getMergedRange(i.cells,e.row,e.col);if(r&&!r.isSingleCell){var o=Cf;switch(t){case o.Next:case o.NextCell:case o.NextEditableCell:e.row=r.bottomRow;break;case o.Prev:case o.PrevCell:case o.PrevEditableCell:e.row=r.topRow}switch(n){case o.Next:case o.NextCell:case o.NextEditableCell:e.col=r.rightCol;break;case o.Prev:case o.PrevCell:case o.PrevEditableCell:e.col=r.leftCol}}},e}();!function(e){e[e.Visible=1]="Visible",e[e.AllowResizing=2]="AllowResizing",e[e.AllowDragging=4]="AllowDragging",e[e.AllowMerging=8]="AllowMerging",e[e.AllowSorting=16]="AllowSorting",e[e.AutoGenerated=32]="AutoGenerated",e[e.Collapsed=64]="Collapsed",e[e.ParentCollapsed=128]="ParentCollapsed",e[e.Selected=256]="Selected",e[e.ReadOnly=512]="ReadOnly",e[e.HtmlContent=1024]="HtmlContent",e[e.WordWrap=2048]="WordWrap",e[e.MultiLine=4096]="MultiLine",e[e.HasTemplate=8192]="HasTemplate",e[e.RowDefault=3]="RowDefault",e[e.ColumnDefault=23]="ColumnDefault"}(If||(If={}));var Df,Rf,kf,Of,Af=function(){function e(){this._type=null,this._align=null,this._inpType=null,this._mask=null,this._maxLen=null,this._required=null,this._fmt=null,this._map=null,this._ddCssClass=null,this._cssClass=null,this._cssClassAll=null,this._szMin=null,this._szMax=null,this._sz=null,this._pos=0,this._idx=-1,this._idxVis=-1,this._idxData=-1,this.gridChanged=new Xc}return Object.defineProperty(e.prototype,"binding",{get:function(){return this._binding?this._binding.path:null},set:function(e){if(e!=this.binding){var t=Vh(e);if(this._binding=t?new Zc(t):null,!this._type&&this.grid&&this._binding){var n=this.grid.collectionView;n&&n.sourceCollection&&n.sourceCollection.length&&(this._type=Ih(this._binding.getValue(n.sourceCollection[0])))}this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortMemberPath",{get:function(){return this._bindingSort?this._bindingSort.path:null},set:function(e){if(e!=this.sortMemberPath){var t=Vh(e);this._bindingSort=t?new Zc(t):null,this.onPropertyChanged()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataType",{get:function(){return this._type},set:function(e){e=Yh(e,rh,!0),this._type!=e&&(this._type=e,this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputType",{get:function(){return this._inpType},set:function(e){this._inpType=Vh(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(e){this._mask=Vh(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this._maxLen},set:function(e){this._maxLen=Nh(e,!0,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(e){this._align!=e&&(this._align=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this._fmt},set:function(e){this._fmt!=e&&(this._fmt=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMap",{get:function(){return this._map},set:function(e){this._map!=e&&(this._map&&this._map.mapChanged.removeHandler(this.onPropertyChanged,this),Ch(e)&&(e=new vf(e,null,null)),this._map=Gh(e,vf,!0),this._map&&this._map.mapChanged.addHandler(this.onPropertyChanged,this),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMapEditor",{get:function(){return null!=this._mapEditor?this._mapEditor:gf.DropDownList},set:function(e){e!=this._mapEditor&&(this._mapEditor=Yh(e,gf),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showDropDown",{get:function(){return this.dataMapEditor==gf.DropDownList},set:function(e){Lh("showDropDown","dataMapEditor"),this.dataMapEditor=e?gf.DropDownList:gf.AutoComplete},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropDownCssClass",{get:function(){return this._ddCssClass},set:function(e){this._ddCssClass=Vh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._getFlag(If.Visible)},set:function(e){this._setFlag(If.Visible,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return!!this._getFlag(If.Visible)&&(!this._getFlag(If.ParentCollapsed)||this instanceof Gf)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pos",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._pos},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visibleIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this.isVisible?this._idxVis:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._sz},set:function(e){e!=this._sz&&(this._sz=Nh(e,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderSize",{get:function(){var e=0,t=this._list;return this.isVisible&&((null==(e=this._sz)||e<0)&&(e=t?t.defaultSize:0),t&&null!=t.minSize&&e<t.minSize&&(e=t.minSize),t&&null!=t.maxSize&&e>t.maxSize&&(e=t.maxSize),null!=this._szMin&&e<this._szMin&&(e=this._szMin),null!=this._szMax&&e>this._szMax&&(e=this._szMax)),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowResizing",{get:function(){return this._getFlag(If.AllowResizing)},set:function(e){this._setFlag(If.AllowResizing,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowDragging",{get:function(){return this._getFlag(If.AllowDragging)},set:function(e){this._setFlag(If.AllowDragging,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"allowMerging",{get:function(){return this._getFlag(If.AllowMerging)},set:function(e){this._setFlag(If.AllowMerging,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this._getFlag(If.Selected)},set:function(e){if(!!e!=this.isSelected){var t=this.grid;if(t){var n=this instanceof Mf?new yf(this.index,-1):new yf(-1,this.index),i=new xf(t?t.cells:null,n);t.onSelectionChanging(i)&&this._setFlag(If.Selected,e,!0)&&(t.refreshCells(!1,!0,!0),t.onSelectionChanged(i))}else this._setFlag(If.Selected,e)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isReadOnly",{get:function(){return this._getFlag(If.ReadOnly)},set:function(e){this._setFlag(If.ReadOnly,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isRequired",{get:function(){return this._required},set:function(e){this._required=Bh(e,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isContentHtml",{get:function(){return this._getFlag(If.HtmlContent)},set:function(e){this.isContentHtml!=e&&(this._setFlag(If.HtmlContent,e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._getFlag(If.WordWrap)},set:function(e){this._setFlag(If.WordWrap,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiLine",{get:function(){return this._getFlag(If.MultiLine)},set:function(e){this._setFlag(If.MultiLine,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClass",{get:function(){return this._cssClass},set:function(e){e!=this._cssClass&&(this._cssClass=Vh(e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cssClassAll",{get:function(){return this._cssClassAll},set:function(e){e!=this._cssClassAll&&(this._cssClassAll=Vh(e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this._list?this._list._g:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"collectionView",{get:function(){return this.grid?this.grid.collectionView:null},enumerable:!0,configurable:!0}),e.prototype.onPropertyChanged=function(){this._list&&(this._list._dirty=!0,this.grid.invalidate())},e.prototype.onGridChanged=function(e){this.gridChanged.raise(this,e)},e.prototype._setList=function(e){e!=this._list&&(this._list=e,this.onGridChanged())},e.prototype._getFlag=function(e){return 0!=(this._f&e)},e.prototype._setFlag=function(e,t,n){return!!t!=this._getFlag(e)&&(this._f=t?this._f|e:this._f&~e,n||this.onPropertyChanged(),!0)},e}(),jf=function(e){function t(n){var i=e.call(this)||this;return i._hdr=null,i._name=null,i._agg=null,i._quickSize=null,i._descById=null,i._tpl=null,i._f=If.ColumnDefault,i._hash=t._ctr.toString(36),t._ctr++,Hh(i,n),i}return _f(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return null!=this._szStar?this._szStar:this.size},set:function(e){null!=t._parseStarSize(e)?(this._szStar=e,this.onPropertyChanged()):(this._szStar=null,this.size=Nh(e,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=Nh(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=Nh(e,!0,!0),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(e){this._quickSize=Bh(e,!0)},enumerable:!0,configurable:!0}),t.prototype._getQuickAutoSize=function(){return!!this.grid._getQuickAutoSize()&&(vh(this._quickSize)?this._quickSize:!(this.isContentHtml||this.wordWrap||this.multiLine||this._getFlag(If.HasTemplate)))},Object.defineProperty(t.prototype,"renderWidth",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"header",{get:function(){return this._hdr?this._hdr:this.binding},set:function(e){this._hdr!=e&&(this._hdr=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellTemplate",{get:function(){return this._tpl},set:function(e){e!=this._tpl&&(Fh(null==e||fh(e)||yh(e),"cellTemplate should be a string or an ICellTemplateFunction."),this._tpl=e,this._setFlag(If.HasTemplate,null!=e&&""!=e),this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editor",{get:function(){var e=this._edt;return e?e.control:null},set:function(e){e!=this.editor&&(this._edt&&(this._edt.dispose(),this._edt=null),null!=e&&(e=Gh(e,ep),this._edt=new sg(this,e)))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowSorting",{get:function(){return this._getFlag(If.AllowSorting)},set:function(e){this._setFlag(If.AllowSorting,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSort",{get:function(){var e=this.currentSortIndex;return e>-1?this.grid.collectionView.sortDescriptions[e].ascending?"+":"-":null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentSortIndex",{get:function(){var e=this.grid?this.grid.collectionView:null,t=e?e.sortDescriptions:null,n=t&&t.length?this._getBindingSort():null;if(n)for(var i=0;i<t.length;i++)if(t[i].property==n)return i;return-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregate",{get:function(){return null!=this._agg?this._agg:Vd.None},set:function(e){(e=Yh(e,Vd))!=this._agg&&(this._agg=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"describedById",{get:function(){return this._descById},set:function(e){e!=this._descById&&(this._descById=Vh(e),this.grid&&this.grid.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getIsRequired=function(e){return null!=this._required?this._required:e&&null!=e.isRequired?e.isRequired:this.dataType==rh.String?null!=this.dataMap||null!=this._mask&&this._mask.length>0:!e||e.dataType!=rh.String||null!=e.dataMap||null!=e.mask&&e.mask.length>0},t.prototype.getAlignment=function(e){if(null!=this._align)return this._align;if(e&&null!=e.align)return e.align;if(!this._map)switch(this.dataType){case rh.Boolean:return"center";case rh.Number:return"right"}if(e&&!e.dataMap)switch(e.dataType){case rh.Boolean:return"center";case rh.Number:return"right"}return""},t.prototype._getBindingSort=function(){return this.sortMemberPath?this.sortMemberPath:this.binding?this.binding:null},t._parseStarSize=function(e){if(fh(e)){var t=e.length;if(t>0&&"*"==e[t-1]){var n=1==t?1:parseFloat(e);if(n>0&&!isNaN(n))return n}}return null},t._ctr=0,t}(Af),Mf=function(e){function t(t){var n=e.call(this)||this;return n._f=If.ColumnDefault,n._data=t||null,n}return _f(t,e),Object.defineProperty(t.prototype,"dataItem",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataIndex",{get:function(){return this._list&&this._list._dirty&&this._list._update(),this._idxData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.size},set:function(e){this.size=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderHeight",{get:function(){return this.renderSize},enumerable:!0,configurable:!0}),t}(Af),Hf=function(e){function t(t){var n=e.call(this,t)||this;return n._level=-1,n.level=t instanceof Jd?t.level:-1,n.isReadOnly=!0,n}return _f(t,e),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},set:function(e){zh(e),e!=this._level&&(this._level=e,this.onPropertyChanged())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){if(null!=this.grid&&null!=this._list){this._list._update();var e=this.index<this._list.length-1?this._list[this.index+1]:null,n=dh(e,t),i=dh(e,Gf);return null!=e&&null==i&&(null==n||n.level>this.level)}return!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this._getFlag(If.Collapsed)},set:function(e){!!e!=this.isCollapsed&&null!=this._list&&this._setCollapsed(Bh(e))},enumerable:!0,configurable:!0}),t.prototype.getGroupHeader=function(){var e=this.grid,t=e.groupHeaderFormat||Md.FlexGrid.groupHeaderFormat,n=this.dataItem;if(n instanceof Jd&&t&&e.showGroups&&!e.childItemsPath){var i=n.groupDescription.propertyName,r=n.name,o=e.getColumn(i),s=this.isContentHtml;if(o){s=s||o.isContentHtml,o.header&&(i=o.header);var l=o.dataMap;l&&(r=l.getDisplayValue(r)),o.dataType==Ih(r)&&(r=Hd.format(r,o.format))}else i=Zh(i);var a=n.getAggregate(Vd.CntAll,null,e.collectionView);return kh(t,{name:$h(i),value:s?r:$h(r),level:n.level,count:a})}return""},t.prototype._setCollapsed=function(e){var n=this,i=this.grid,r=i.rows,o=this.getCellRange(),s=new xf(i.cells,new yf(this.index,-1));i.onGroupCollapsedChanging(s)&&(i.deferUpdate(function(){r.deferUpdate(function(){n._setFlag(If.Collapsed,e,!0);for(var i=o.topRow+1;i<=o.bottomRow&&i>-1&&i<r.length;i++){r[i]._setFlag(If.ParentCollapsed,e,!0);var s=r[i];s instanceof t&&s.isCollapsed&&(i=s.getCellRange().bottomRow)}})}),i.onGroupCollapsedChanged(s))},t.prototype.getCellRange=function(){for(var e=this._list,n=this.index,i=e.length-1,r=n+1;r<=i;r++){var o=e[r];if(o instanceof t&&o.level<=this.level){i=r-1;break}}return new yf(n,0,i,this.grid.columns.length-1)},t}(Mf),Ff=function(e){function t(t,n){var i=e.call(this)||this;return i._frozen=0,i._lastFrozen=-1,i._firstVisible=-1,i._vlen=0,i._szDef=28,i._szTot=0,i._szCustom=!1,i._dirty=!1,i._g=Gh(t,Wf),i._szDef=Nh(n,!1,!0),i}return _f(t,e),Object.defineProperty(t.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultSize",{get:function(){return this._szDef},set:function(e){this._szCustom=!0,this._szDef!=e&&(this._szDef=Nh(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozen",{get:function(){return this._frozen},set:function(e){e!=this._frozen&&(this._frozen=Nh(e,!1,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.isFrozen=function(e){return e<this.frozen},Object.defineProperty(t.prototype,"minSize",{get:function(){return this._szMin},set:function(e){e!=this._szMin&&(this._szMin=Nh(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSize",{get:function(){return this._szMax},set:function(e){e!=this._szMax&&(this._szMax=Nh(e,!0,!0),this._dirty=!0,this._g.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getTotalSize=function(){return this._dirty&&this._update(),this._szTot},Object.defineProperty(t.prototype,"visibleLength",{get:function(){return this._dirty&&this._update(),this._vlen},enumerable:!0,configurable:!0}),t.prototype.getItemAt=function(e){if(this._dirty&&this._update(),e<=0&&this.length>0&&this[0].renderSize)return 0;for(var t,n,i=this.length,r=0,o=i-1;r<=o;)if((n=this[t=r+o>>>1])._pos>=e&&t>0)o=t-1;else{if(!(n._pos+n.renderSize<=e&&t<i-1)){for(;t>0&&!this[t].renderSize;)t--;for(;t<i-1&&!this[t].renderSize;)t++;return t}r=t+1}return o},t.prototype.getNextCell=function(e,t,n){var i;switch(void 0===n&&(n=0),t){case Cf.Next:case Cf.NextCell:for(i=e+1;i<this.length;i++)if(this[i].renderSize>0)return i;break;case Cf.NextEditableCell:for(i=e+1;i<this.length;i++)if(this[i].renderSize>0&&!this[i].isReadOnly)return i;break;case Cf.Prev:case Cf.PrevCell:for(i=e-1;i>=0;i--)if(this[i].renderSize>0)return i;break;case Cf.PrevEditableCell:for(i=e-1;i>=0;i--)if(this[i].renderSize>0&&!this[i].isReadOnly)return i;break;case Cf.End:for(i=this.length-1;i>=0;i--)if(this[i].renderSize>0)return i;break;case Cf.Home:for(i=0;i<this.length;i++)if(this[i].renderSize>0)return i;break;case Cf.NextPage:return(i=this.getItemAt(this[e].pos+this[e].renderSize+n))<0?this.getNextCell(e,Cf.End,n):i==e&&i<this.length-1&&this[i+1].renderSize?i+1:i;case Cf.PrevPage:return(i=this.getItemAt(this[e].pos-n))<0?this.getNextCell(e,Cf.Home,n):i==e&&i>0&&this[i-1].renderSize?i-1:i}return e},t.prototype.canMoveElement=function(e,t,n){if(void 0===n&&(n=!0),t==e)return!1;if(e<0||e>=this.length||t>=this.length)return!1;if(n){t<0&&(t=this.length-1);for(var i=Math.min(e,t),r=Math.max(e,t),o=i;o<=r;o++)if(!this[o].allowDragging)return!1}return!(this[t]instanceof Gf)},t.prototype.moveElement=function(e,t,n){if(void 0===n&&(n=!0),this.canMoveElement(e,t,n)){var i=this[e];if(this.removeAt(e),t<0&&(t=this.length),this.insert(t,i),n){var r=this.frozen;e<r&&t>=r?this.frozen--:e>=r&&t<r&&this.frozen++}return!0}return!1},t.prototype.onCollectionChanged=function(t){void 0===t&&(t=oh.reset),this._dirty=!0,this._g.invalidate(),e.prototype.onCollectionChanged.call(this,t)},t.prototype.push=function(t){return t._setList(this),e.prototype.push.call(this,t)},t.prototype.splice=function(t,n){for(var i=this,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];for(var s=t;s<t+n&&s<this.length;s++){var l=this[s];l instanceof Af&&l._setList(null)}return r.forEach(function(e){return e._setList(i)}),e.prototype.splice.apply(this,[t,n].concat(r))},t.prototype.beginUpdate=function(){this._update(),e.prototype.beginUpdate.call(this)},t.prototype._setDefaultSize=function(e){this._szCustom||(this.defaultSize=e,this._szCustom=!1)},t.prototype._update=function(){if(this._dirty&&!this.isUpdating){this._dirty=!1,this._lastFrozen=-1,this._firstVisible=-1;for(var e=0,t=0,n=void 0,i=void 0,r=0;r<this.length;r++)(i=this[r])._idx=r,i._idxVis=e,i._pos=t,i._setList(this),(n=i.renderSize)>0&&(t+=n,e++,r<this._frozen&&(this._lastFrozen=r)),this._firstVisible<0&&i.visible&&(this._firstVisible=r);return this._vlen=e,this._szTot=t,!0}return!1},t}(Yd),Lf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _f(t,e),t.prototype.getColumn=function(e){var t=_h(e)?e:this.indexOf(e);return t>-1?this[t]:null},t.prototype.indexOf=function(t){if(t instanceof jf)return e.prototype.indexOf.call(this,t);for(var n=0;n<this.length;n++)if(this[n].name==t)return n;for(n=0;n<this.length;n++)if(this[n].binding==t)return n;return-1},Object.defineProperty(t.prototype,"describedById",{get:function(){return this._descById},set:function(e){e!=this._descById&&(this._descById=Vh(e),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstVisibleIndex",{get:function(){return this._dirty&&this._update(),this._firstVisible},enumerable:!0,configurable:!0}),t.prototype._updateStarSizes=function(e){var t,n=!1,i=0;e-=.5;for(var r=0;r<this.length;r++)(s=this[r]).isVisible&&(s._szStar?(i+=jf._parseStarSize(s._szStar),t=s):e-=s.renderWidth);if(t){var o=e;for(r=0;r<this.length;r++){var s;if((s=this[r]).isVisible&&s._szStar){var l=s._sz;s==t&&o>0?l=o:o-=l=Math.max(0,Math.round(jf._parseStarSize(s._szStar)/i*e)),l!=s._sz&&(s._sz=l,n=!0)}}return n&&(this._dirty=!0,this._update()),n}return!1},t}(Ff),Vf=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._maxLevel=-1,t}return _f(t,e),Object.defineProperty(t.prototype,"ariaLabel",{get:function(){return this._ariaLabel},set:function(e){e!=this.ariaLabel&&(this._ariaLabel=Vh(e),this._g&&this._g.refresh())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxGroupLevel",{get:function(){return this._dirty&&this._update(),this._maxLevel},enumerable:!0,configurable:!0}),t.prototype._update=function(){var t=this;if(e.prototype._update.call(this)){var n=this.grid?this.grid.collectionView:null,i=n?n.items:null,r=0;return this._maxLevel=-1,this.forEach(function(e){e instanceof Hf&&e.level>t._maxLevel&&(t._maxLevel=e.level),e._idxData=-1;var n=e.dataItem;n&&i&&(e._idxData=n===i[r]?r:n===i[r+1]?++r:-1)}),!0}return!1},t}(Ff),Nf=function(){function e(e){this._grid=e}return e.prototype.createColumnGroups=function(e){var t=this,n=this._grid;this._groupDefs=Uh(e),n.autoGenerateColumns=!1,n.columns.clear(),this._colGroups=[],e.forEach(function(e){t._colGroups.push(e instanceof zf?e:new zf(e,null))});var i=0;this._colGroups.forEach(function(e){t._addColumnGroup(e),i=Math.max(i,e._getMaxLevel())}),this._colGroups.forEach(function(e){e._expandRange(i)});var r=n.columnHeaders.rows;r.clear();for(var o=0;o<=i;o++){var s=new Mf;r.splice(o,0,s),o<i&&(s.cssClassAll="wj-colgroup")}for(o=0;o<r.length;o++)for(var l=0;l<n.columns.length;l++){var a=this.getColumnGroup(o,l);if(a){var u=a.header||Zh(a.binding);n.columnHeaders.setCellData(o,l,u)}}},e.prototype._addColumnGroup=function(e){var t=this,n=this._grid;e._grid=n,e._rng.col=n.columns.length,0==e.columns.length?n.columns.push(e):e.columns.forEach(function(e){t._addColumnGroup(e)}),e._rng.col2=n.columns.length-1},e.prototype.hasColumnGroups=function(){return null!=this._colGroups&&this._colGroups.length>0},e.prototype.getGroupDefinitions=function(){return this._groupDefs},e.prototype.getColumnGroup=function(e,t){var n=this._grid;if(e<n.columnHeaders.rows.length&&t<n.columns.length)for(var i=this._colGroups;i;){for(var r=i,o=0;o<i.length;o++){var s=i[o],l=s._rng;if(l.containsColumn(t)){if(l.containsRow(e)||0==s.columns.length)return s;i=s.columns;break}}if(i==r)break}return null},e}(),zf=function(e){function t(t,n){void 0===n&&(n=null);var i=e.call(this)||this;i._rng=new yf(0,-1),i._cols=[],i._lvl=0,i._collapsed=!1,i._pGrp=n;for(var r=n;r;r=r._pGrp)i._lvl++;return n&&n.columns.indexOf(i)<0&&n.columns.push(i),i._rng.row=i._rng.row2=i._lvl,i.allowDragging=!1,Hh(i,t),i}return _f(t,e),Object.defineProperty(t.prototype,"columns",{get:function(){return this._cols},set:function(e){var n=this,i=this._cols=[];e.forEach(function(e){var r=e instanceof t?e:new t(e,n);i.indexOf(r)<0&&i.push(r)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentGroup",{get:function(){return this._pGrp},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){for(var e=this,t=0;e.parentGroup;)e=e.parentGroup,t++;return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collapseTo",{get:function(){return this._collTo},set:function(e){this._collTo=Vh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCollapsed",{get:function(){return this._collapsed},set:function(e){var t=this;if(e!=this._collapsed){var n=this._grid;if(n){var i=new xf(n.rowHeaders,this._rng,this);n.onColumnGroupCollapsedChanging(i)&&(this._collapsed=Bh(e),n.onColumnGroupCollapsedChanged(i))}else this._collapsed=Bh(e)}setTimeout(function(){t._updateCollapsedState()})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grid",{get:function(){return this._grid},enumerable:!0,configurable:!0}),t.prototype._updateCollapsedState=function(){var e=this._grid?this._grid.columns:null,n=this._rng,i=this._collapsed;if(e){this._cols.forEach(function(e){e instanceof t&&(e._collapsed=i,e._updateCollapsedState())});var r=n.rightCol;if(this.collapseTo)switch(this.collapseTo){case"$first":r=n.leftCol;break;case"$last":r=n.rightCol;break;default:var o=e.getColumn(this.collapseTo);o&&n.containsColumn(o.index)&&(r=o.index)}for(var s=n.leftCol;s<=n.rightCol;s++)e[s].visible=!i||s==r}},t.prototype._getMaxLevel=function(){var e=this._lvl;return this.columns.forEach(function(t){e=Math.max(e,t._getMaxLevel())}),e},t.prototype._expandRange=function(e){var t=e-this._getMaxLevel();t>0&&(this._rng.row2+=t,this._cols.forEach(function(e){e._shiftRange(t)}));for(var n=this._grid.columns,i=this._rng,r=i.col;r<=i.col2;r++)n[r]._rng.row2=e},t.prototype._shiftRange=function(e){this._rng.row+=e,this._rng.row2+=e,this._cols.forEach(function(t){t._shiftRange(e)})},t}(jf);Ld("FlexGrid",{groupHeaderFormat:"{name}: <b>{value}</b> ({count:n0} items)",ariaLabels:{toggleDropDown:"Toggle Dropdown",toggleGroup:"Toggle Group"}}),function(e){e[e.None=0]="None",e[e.SingleColumn=1]="SingleColumn",e[e.MultiColumn=2]="MultiColumn"}(Df||(Df={})),function(e){e[e.None=0]="None",e[e.SingleColumn=1]="SingleColumn",e[e.ColumnRange=2]="ColumnRange",e[e.Both=3]="Both"}(Rf||(Rf={})),function(e){e[e.None=0]="None",e[e.Column=1]="Column",e[e.Row=2]="Row",e[e.All=3]="All"}(kf||(kf={})),function(e){e[e.Default=0]="Default",e[e.CSV=1]="CSV",e[e.QuoteAll=2]="QuoteAll",e[e.SkipMerged=4]="SkipMerged",e[e.Unformatted=8]="Unformatted",e[e.InvisibleRows=16]="InvisibleRows",e[e.InvisibleColumns=32]="InvisibleColumns",e[e.InvisibleCells=48]="InvisibleCells"}(Of||(Of={}));var Bf,Wf=function(e){function t(t,n){var i=e.call(this,t,null,!0)||this;i._activeCell=null,i._szClient=new Id(0,0),i._szClientSB=new Id(0,0),i._offsetY=0,i._cssPage=0,i._ptScrl=new Td(0,0),i._cellPadLeft=3,i._cellPadHorz=3,i._cellPadVert=0,i._clipToScreen=!1,i._autoGenCols=!0,i._autoClipboard=!0,i._xOnCopyPaste=!0,i._autoScroll=!0,i._autoSearch=!1,i._caseSensitive=!1,i._readOnly=!1,i._indent=14,i._autoSizeMode=ag.Both,i._autoHeights=!1,i._quickSize=null,i._hdrVis=kf.All,i._alSorting=Df.SingleColumn,i._alPinning=Rf.None,i._alAddNew=!1,i._alDelete=!1,i._alResizing=lg.Columns,i._alDragging=ug.Columns,i._alMerging=Bf.None,i._ssHdr=kf.None,i._shSort=!0,i._shGroups=!0,i._shMarquee=!1,i._shPlcHld=!1,i._altStep=1,i._shErr=!0,i._shDropDown=!0,i._valEdt=!0,i._gHdrFmt=null,i._childItemsPath=null,i._sortRowIndex=null,i._editColIndex=null,i._deferResizing=!1,i._pSel=!0,i._pOutline=!0,i._stickyHdr=!1,i._anchorCursor=!1,i._copyHeaders=kf.None,i._bigChecks=!1,i._fzClone=null,i._vt=0,i._vtRows=0,i._vtCols=0,i._lazyRender=!0,i._refreshOnEdit=!0,i._reorderCells=!0,i._touchEdit=!1,i.itemsSourceChanging=new Xc,i.itemsSourceChanged=new Xc,i.scrollPositionChanged=new Xc,i.selectionChanging=new Xc,i.selectionChanged=new Xc,i.loadingRows=new Xc,i.loadedRows=new Xc,i.updatingLayout=new Xc,i.updatedLayout=new Xc,i.resizingColumn=new Xc,i.resizedColumn=new Xc,i.autoSizingColumn=new Xc,i.autoSizedColumn=new Xc,i.starSizedColumns=new Xc,i.draggingColumn=new Xc,i.draggingColumnOver=new Xc,i.draggedColumn=new Xc,i.pinningColumn=new Xc,i.pinnedColumn=new Xc,i.resizingRow=new Xc,i.resizedRow=new Xc,i.autoSizingRow=new Xc,i.autoSizedRow=new Xc,i.draggingRow=new Xc,i.draggingRowOver=new Xc,i.draggedRow=new Xc,i.groupCollapsedChanging=new Xc,i.groupCollapsedChanged=new Xc,i.columnGroupCollapsedChanging=new Xc,i.columnGroupCollapsedChanged=new Xc,i.sortingColumn=new Xc,i.sortedColumn=new Xc,i.beginningEdit=new Xc,i.prepareCellForEdit=new Xc,i.cellEditEnding=new Xc,i.cellEditEnded=new Xc,i.rowEditStarting=new Xc,i.rowEditStarted=new Xc,i.rowEditEnding=new Xc,i.rowEditEnded=new Xc,i.rowAdded=new Xc,i.deletingRow=new Xc,i.deletedRow=new Xc,i.copying=new Xc,i.copied=new Xc,i.pasting=new Xc,i.pasted=new Xc,i.pastingCell=new Xc,i.pastedCell=new Xc,i.formatItem=new Xc(function(){i._clearCells()}),i.updatingView=new Xc,i.updatedView=new Xc,i._mappedColumns=null;var r=i.hostElement;kc()&&(r.style.borderRadius="0");var o=i.getTemplate();if(i.applyTemplate("wj-control wj-content wj-flexgrid",o,{_root:"root",_eSz:"sz",_eCt:"cells",_fCt:"fcells",_eTL:"tl",_eBL:"bl",_eCHdr:"ch",_eRHdr:"rh",_eCFtr:"cf",_eTLCt:"tlcells",_eBLCt:"blcells",_eCHdrCt:"chcells",_eCFtrCt:"cfcells",_eRHdrCt:"rhcells",_eMarquee:"marquee",_eFocus:"focus"}),xd(i._root.parentElement,{position:"relative",left:"0",top:"0",width:"100%",height:"100%",overflow:"hidden",minWidth:"inherit",minHeight:"inherit",maxWidth:"inherit",maxHeight:"inherit"}),xd(i._root,{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",minWidth:"inherit",minHeight:"inherit",maxWidth:"inherit",maxHeight:"inherit",overflow:"auto",webkitOverflowScrolling:"touch"}),xd(i._eCt,{position:"absolute"}),xd(i._eMarquee,{display:"none"}),xd(i._eMarquee.firstChild,{width:"100%",height:"100%"}),xd(i._fCt,{position:"absolute",left:"0",top:"0",overflow:"hidden",pointerEvents:"none"}),xd(i._eFocus,{position:"fixed",left:"-32000px"}),xd(i._eSz,{position:"relative",visibility:"hidden"}),[i._eRHdr,i._eCFtr,i._eCHdr,i._eBL,i._eTL].forEach(function(e){sd(e,"aria-hidden",!0),xd(e,{position:"absolute",overflow:"hidden",outline:"none"}),xd(e.firstElementChild,{position:"relative"})}),[i._eFocus,i._eMarquee,i._fCt,i._eSz].forEach(function(e){sd(e,"aria-hidden",!0)}),Ac()||Mc()){var s=i._eMarquee;["click","dblclick","mousedown","mouseup"].forEach(function(e){i.addEventListener(s,e,function(t){var n=s.style.display;s.style.display="none";var i=document.elementFromPoint(t.clientX,t.clientY);s.style.display=n;var r=document.createEvent("Event");for(var o in r.initEvent(e,!0,!0),t)try{r[o]=t[o]}catch(e){}i.dispatchEvent(r)})})}return r.tabIndex=-1,i.deferUpdate(function(){var e=i._getDefaultRowHeight();i._rows=new Vf(i,e),i._cols=new Lf(i,4*e),i._hdrRows=new Vf(i,e),i._hdrCols=new Lf(i,Math.round(1.25*e)),i._ftrRows=new Vf(i,e);var t=mf;i._gpTL=new Ef(i,t.TopLeft,i._hdrRows,i._hdrCols,i._eTLCt),i._gpCHdr=new Ef(i,t.ColumnHeader,i._hdrRows,i._cols,i._eCHdrCt),i._gpRHdr=new Ef(i,t.RowHeader,i._rows,i._hdrCols,i._eRHdrCt),i._gpCells=new Ef(i,t.Cell,i._rows,i._cols,i._eCt),i._gpBL=new Ef(i,t.BottomLeft,i._ftrRows,i._hdrCols,i._eBLCt),i._gpCFtr=new Ef(i,t.ColumnFooter,i._ftrRows,i._cols,i._eCFtrCt),i._hdrRows.push(new Mf),i._hdrCols.push(new jf({align:"center"})),i._cf=new Zf,i._keyHdl=new cg(i),i._mouseHdl=new pg(i),i._edtHdl=new og(i),i._selHdl=new Pf(i),i._addHdl=new Uf(i),i._grpHdl=new Nf(i),i._mrgMgr=new Yf,i._bndSortConverter=i._sortConverter.bind(i),i._errorTip=new pp({isContentHtml:!1,showDelay:0,cssClass:"wj-error-tip"}),sd(i.cells.hostElement,"role","grid"),i.selectionMode=bf.CellRange,i._root.tabIndex=-1,i.initialize(n)}),i.addEventListener(i._root,"scroll",function(e){if(i._updateScrollPosition()||i._forceScrollUpdate){var t=i.activeEditor,n=i.activeCell,r=n?n.className:null;i._forceScrollUpdate||i.finishEditing(),i._forceScrollUpdate=!1,i._updateContent(!0);var o=i.activeEditor,s=i.activeCell;o&&s&&t&&r?(o.value=t.value,s.className=r,i._setFocusNoScroll(o)):o&&!s&&i.finishEditing(!0),i.frozenColumns&&setTimeout(function(){var e=parseInt(i.columnHeaders.hostElement.style.left);Math.abs(e-i._ptScrl.x)>1&&i.invalidate()})}}),i.addEventListener(r,"focus",function(e){if(r.tabIndex>-1){var t=e.target;t instanceof HTMLElement&&t.tabIndex<0&&i._setFocus(!0)}},!0),i}return _f(t,e),t.prototype._handleResize=function(){var t=this;this._rcBounds=null,this.activeEditor&&this.isTouching||this._touchEdit?setTimeout(function(){t.activeEditor||(t._touchEdit=!0,t.startEditing(!0))},50):e.prototype._handleResize.call(this),this._touchEdit=!1},Object.defineProperty(t.prototype,"headersVisibility",{get:function(){return this._hdrVis},set:function(e){(e=Yh(e,kf))!=this._hdrVis&&(this._hdrVis=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stickyHeaders",{get:function(){return this._stickyHdr},set:function(e){e!=this._stickyHdr&&(this._stickyHdr=Bh(e),this._updateStickyHeaders(),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveSelectedState",{get:function(){return this._pSel},set:function(e){this._pSel=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveOutlineState",{get:function(){return this._pOutline},set:function(e){this._pOutline=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchorCursor",{get:function(){return this._anchorCursor},set:function(e){this._anchorCursor=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"copyHeaders",{get:function(){return this._copyHeaders},set:function(e){this._copyHeaders=Yh(e,kf)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lazyRender",{get:function(){return this._lazyRender},set:function(e){this._lazyRender=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"refreshOnEdit",{get:function(){return this._refreshOnEdit},set:function(e){this._refreshOnEdit=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"virtualizationThreshold",{get:function(){return this._vt},set:function(e){this._vt=e,_h(e)?this._vtRows=this._vtCols=Nh(e):e?Ch(e)&&2==e.length?(this._vtRows=Nh(e[0]),this._vtCols=Nh(e[1])):Fh(!1,"virtualizationThreshold should be a number or an array with two numbers."):this._vtRows=this._vtCols=0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoGenerateColumns",{get:function(){return this._autoGenCols},set:function(e){this._autoGenCols=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoClipboard",{get:function(){return this._autoClipboard},set:function(e){this._autoClipboard=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"expandSelectionOnCopyPaste",{get:function(){return this._xOnCopyPaste},set:function(e){this._xOnCopyPaste=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoScroll",{get:function(){return this._autoScroll},set:function(e){this._autoScroll=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSearch",{get:function(){return this._autoSearch},set:function(e){this._autoSearch=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"caseSensitiveSearch",{get:function(){return this._caseSensitive},set:function(e){this._caseSensitive=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnLayout",{get:function(){var e=t._getSerializableProperties(jf),n=new jf,i=[];return this.columns.forEach(function(t){var r={};e.forEach(function(e){var i=t[e];i!=n[e]&&ph(i)&&"size"!=e&&(r[e]=i)}),i.push(r)}),JSON.stringify({columns:i})},set:function(e){var t=this,n=JSON.parse(Vh(e));Fh(n,"Invalid columnLayout data."),this.columns.deferUpdate(function(){t.columns.clear(),t.initialize(n)})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnGroups",{get:function(){return this._grpHdl.getGroupDefinitions()},set:function(e){this.columns.clear(),this._grpHdl.createColumnGroups(Uh(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isReadOnly",{get:function(){return this._readOnly},set:function(e){e!=this._readOnly&&(this._readOnly=Bh(e),this.finishEditing(),this.invalidate(!0),this._addHdl.updateNewRowTemplate(),od(this.hostElement,"wj-state-readonly",this.isReadOnly),this._setAria("readonly",this.isReadOnly?"true":null))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bigCheckboxes",{get:function(){return this._bigChecks},set:function(e){this._bigChecks=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDisabled",{get:function(){return this._e&&null!=this._e.getAttribute("disabled")},set:function(e){if((e=Bh(e,!0))!=this.isDisabled){var t=this._e;t&&(Cd(t,!e),this.invalidate())}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"imeEnabled",{get:function(){return null!=this._imeHdl},set:function(e){if(Bh(e)!=this.imeEnabled&&this.finishEditing()){var t=this.containsFocus();this._imeHdl&&(this._imeHdl.dispose(),this._imeHdl=null),e&&(this._imeHdl=new qf(this)),t&&this.focus()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowResizing",{get:function(){return this._alResizing},set:function(e){this._alResizing=Yh(e,lg)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deferResizing",{get:function(){return this._deferResizing},set:function(e){this._deferResizing=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSizeMode",{get:function(){return this._autoSizeMode},set:function(e){this._autoSizeMode=Yh(e,ag)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoRowHeights",{get:function(){return this._autoHeights},set:function(e){this._autoHeights=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"quickAutoSize",{get:function(){return this._quickSize},set:function(e){this._quickSize=Bh(e,!0)},enumerable:!0,configurable:!0}),t.prototype._getQuickAutoSize=function(){return vh(this._quickSize)?this._quickSize:!this.formatItem.hasHandlers&&null==this.itemFormatter},Object.defineProperty(t.prototype,"allowSorting",{get:function(){return this._alSorting},set:function(e){vh(e)&&(e=e?Df.SingleColumn:Df.None),this._alSorting=Yh(e,Df)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowPinning",{get:function(){return this._alPinning},set:function(e){e!=this._alPinning&&(vh(e)&&(e=e?Rf.SingleColumn:Rf.None),this._alPinning=Yh(e,Rf),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowAddNew",{get:function(){return this._alAddNew},set:function(e){e!=this._alAddNew&&(this._alAddNew=Bh(e),this._addHdl.updateNewRowTemplate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"newRowAtTop",{get:function(){return this._addHdl.newRowAtTop},set:function(e){this._addHdl.newRowAtTop=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDelete",{get:function(){return this._alDelete},set:function(e){e!=this._alDelete&&(this._alDelete=Bh(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowMerging",{get:function(){return this._alMerging},set:function(e){(e=Yh(e,Bf))!=this._alMerging&&(this._alMerging=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSelectedHeaders",{get:function(){return this._ssHdr},set:function(e){(e=Yh(e,kf))!=this._ssHdr&&(this._ssHdr=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showMarquee",{get:function(){return this._shMarquee},set:function(e){e!=this._shMarquee&&(this._shMarquee=Bh(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showPlaceholders",{get:function(){return this._shPlcHld},set:function(e){this._shPlcHld=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showSort",{get:function(){return this._shSort},set:function(e){e!=this._shSort&&(this._shSort=Bh(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showGroups",{get:function(){return this._shGroups},set:function(e){e!=this._shGroups&&(this._shGroups=Bh(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alternatingRowStep",{get:function(){return this._altStep},set:function(e){e!=this._altStep&&(this._altStep=zh(e,!1,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showAlternatingRows",{get:function(){return this._altStep>0},set:function(e){Lh("showAlternatingRows","alternatingRowStep"),this.alternatingRowStep=e?1:0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showErrors",{get:function(){return this._shErr},set:function(e){e!=this._shErr&&(this._clearCells(),this._shErr=Bh(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errorTip",{get:function(){return this._errorTip},set:function(e){e!=this._errorTip&&(this._clearCells(),this._errorTip=Gh(e,pp,!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemValidator",{get:function(){return this._itemValidator},set:function(e){e!=this.itemValidator&&(this._itemValidator=qh(e),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validateEdits",{get:function(){return this._valEdt},set:function(e){this._valEdt=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"groupHeaderFormat",{get:function(){return this._gHdrFmt},set:function(e){e!=this._gHdrFmt&&(this._gHdrFmt=Vh(e),this._bindGrid(!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allowDragging",{get:function(){return this._alDragging},set:function(e){(e=Yh(e,ug))!=this._alDragging&&(this._alDragging=e,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemsSource",{get:function(){return this._items},set:function(e){var t=this;if(e!=this._items){var n,i=new eh;this.onItemsSourceChanging(i)&&(this._cv&&((n=this._cv).currentChanged.removeHandler(null,this),n.collectionChanged.removeHandler(null,this),n instanceof Kd&&n.sortConverter==this._bndSortConverter&&(n.sortConverter=null),this._cv=null),this._items=e,this._cv=this._getCollectionView(e),this._lastCount=0,this._cv&&((n=this._cv).currentChanged.addHandler(function(e,n){return t._cvCurrentChanged(e,n)},this),n.collectionChanged.addHandler(function(e,n){return t._cvCollectionChanged(e,n)},this),n instanceof Kd&&!n.sortConverter&&(n.sortConverter=this._bndSortConverter)),this._bindGrid(!0),this._selHdl._setSelectionMode(this.selectionMode),this.onItemsSourceChanged(i))}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collectionView",{get:function(){return this._cv},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editableCollectionView",{get:function(){return dh(this._cv,"IEditableCollectionView")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childItemsPath",{get:function(){return this._childItemsPath},set:function(e){e!=this._childItemsPath&&(Fh(null==e||Ch(e)||fh(e),"childItemsPath should be an array or a string."),this._childItemsPath=e,this._bindGrid(!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeaderPath",{get:function(){return this._rowHdrPath?this._rowHdrPath.path:null},set:function(e){e!=this.rowHeaderPath&&(e=Vh(e),this._rowHdrPath=e?new Zc(e):null,this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cells",{get:function(){return this._gpCells},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnHeaders",{get:function(){return this._gpCHdr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnFooters",{get:function(){return this._gpCFtr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowHeaders",{get:function(){return this._gpRHdr},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topLeftCells",{get:function(){return this._gpTL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottomLeftCells",{get:function(){return this._gpBL},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return this._rows},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columns",{get:function(){return this._cols},enumerable:!0,configurable:!0}),t.prototype.getColumn=function(e){return this.columns.getColumn(e)},Object.defineProperty(t.prototype,"frozenRows",{get:function(){return this.rows.frozen},set:function(e){this.rows.frozen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frozenColumns",{get:function(){return this.columns.frozen},set:function(e){this.columns.frozen=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cloneFrozenCells",{get:function(){return this._fzClone},set:function(e){e!=this._fzClone&&(vd(this._fCt,null),this._fzClone=Bh(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortRowIndex",{get:function(){return this._sortRowIndex},set:function(e){e!=this._sortRowIndex&&(this._sortRowIndex=Nh(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editColumnIndex",{get:function(){return this._editColIndex},set:function(e){e!=this._editColIndex&&(this._editColIndex=Nh(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollPosition",{get:function(){return this._ptScrl.clone()},set:function(e){var n=this._root,i=-e.x;if(this.rightToLeft)switch(t._getRtlMode()){case"rev":i=n.scrollWidth-n.clientWidth+e.x;break;case"neg":i=e.x;break;default:i=-e.x}n.scrollLeft=i,n.scrollTop=-e.y,this._updateScrollPosition()&&(this._forceScrollUpdate=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientSize",{get:function(){return this._szClient},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"controlRect",{get:function(){return this._rcBounds||(this._rcBounds=Ed(this._root)),this._rcBounds},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollSize",{get:function(){return new Id(this._gpCells.width,this._heightBrowser)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewRange",{get:function(){return this._gpCells.viewRange},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellFactory",{get:function(){return this._cf},set:function(e){e!=this._cf&&(this._clearCells(),this._cf=Gh(e,Zf,!1))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"itemFormatter",{get:function(){return this._itemFormatter},set:function(e){e!=this._itemFormatter&&(this._clearCells(),this._itemFormatter=qh(e))},enumerable:!0,configurable:!0}),t.prototype.canEditCell=function(e,t){return this._edtHdl._allowEdit(e,t)},t.prototype.getCellData=function(e,t,n){return this.cells.getCellData(e,t,n)},t.prototype.getCellBoundingRect=function(e,t,n){return this.cells.getCellBoundingRect(e,t,n)},t.prototype.setCellData=function(e,t,n,i,r){return void 0===i&&(i=!0),void 0===r&&(r=!0),this.cells.setCellData(e,t,n,i,r)},t.prototype.hitTest=function(e,t){return _h(e)&&_h(t)&&(e=new Td(e,t)),vh(t)&&t&&(this._rcBounds=null),new Kf(this,e)},t.prototype.getClipString=function(e,t,n,i){var r;return Fh(_h(r=null==t||vh(t)?t?Of.CSV:Of.Default:t),"Unexpected value for ClipStringOptions parameter."),this._edtHdl.getClipString(e,r,n,i)},t.prototype.setClipString=function(e,t){this._edtHdl.setClipString(e,t)},t.prototype.focus=function(e){this._setFocus(e)},t.prototype.dispose=function(){this.finishEditing(!0),this.itemsSource=null,e.prototype.dispose.call(this)},t.prototype.refresh=function(t){if(void 0===t&&(t=!0),e.prototype.refresh.call(this,t),this.finishEditing(),t){this._updateColumnTypes(),this.scrollPosition=this._ptScrl;var n=this._getDefaultRowHeight();this._rows._setDefaultSize(n),this._cols._setDefaultSize(4*n),this._hdrRows._setDefaultSize(n),this._hdrCols._setDefaultSize(Math.round(1.25*n)),this._ftrRows._setDefaultSize(n),clearTimeout(this._toInv),this._toInv=null}this.refreshCells(t);var i=this._e;i&&(this._szCtl=new Id(i.offsetWidth,i.offsetHeight))},t.prototype.refreshCells=function(e,t,n){this.isUpdating||(e?this._updateLayout():this._updateContent(t,n))},t.prototype.refreshRange=function(e){for(var t=e.topRow;t<=e.bottomRow;t++)for(var n=e.leftCol;n<=e.rightCol;n++){var i=this.cells.getCellElement(t,n);i&&this.cellFactory.updateCell(this.cells,t,n,i,i[Ef._INDEX_KEY].rng)}},t.prototype.autoSizeColumn=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=4),this.autoSizeColumns(e,e,t,n)},t.prototype.autoSizeColumns=function(e,n,i,r){var o=this;void 0===i&&(i=!1),void 0===r&&(r=4);var s=0,l=i?this.topLeftCells:this.columnHeaders,a=i?this.bottomLeftCells:this.columnFooters,u=i?this.rowHeaders:this.cells,c=this.viewRange;e=null==e?0:zh(e),n=null==n?u.columns.length-1:zh(n),c.row=Math.max(0,c.row-1e3),c.row2=Math.min(c.row2+1e3,this.rows.length-1),this.finishEditing()&&this.columns.deferUpdate(function(){xd(o._eCt,{width:o._gpCells.width});for(var i=md("<div "+t._WJS_MEASURE+'="true"/>',u.hostElement,{visibility:"hidden"}),h=o._getCanvasContext(),d=e;d<=n&&d>-1&&d<u.columns.length;d++){var p=u.columns[d];if(p.isVisible){if(s=0,o.autoSizeMode&ag.Headers){for(var f=0;f<l.rows.length;f++)l.rows[f].isVisible&&(s=Math.max(o._getDesiredWidth(l,f,d,i),s));for(f=0;f<a.rows.length;f++)a.rows[f].isVisible&&(s=Math.max(o._getDesiredWidth(a,f,d,i),s))}if(o.autoSizeMode&ag.Cells&&c.row>-1&&c.row2>-1)if(p._getQuickAutoSize())f=o._getWidestRow(u,c,d,h),s=Math.max(o._getDesiredWidth(u,f,d,i),s);else for(f=c.row;f<=c.row2&&f<u.rows.length;f++)u.rows[f].isVisible&&(s=Math.max(o._getDesiredWidth(u,f,d,i),s));s>0&&(p.width=s+r+2)}}o.cellFactory.disposeCell(i),hd(i)})},t.prototype.autoSizeRow=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0),this.autoSizeRows(e,e,t,n)},t.prototype.autoSizeRows=function(e,n,i,r){var o=this;void 0===i&&(i=!1),void 0===r&&(r=0);var s=0,l=1==i?this.topLeftCells:null==i?this.bottomLeftCells:this.rowHeaders,a=1==i?this.columnHeaders:null==i?this.columnFooters:this.cells;if(r=Nh(r),e=null==e?0:zh(e),(n=null==n?a.rows.length-1:zh(n))>=e&&this.finishEditing()){xd(this._eCt,{width:this._gpCells.width});var u=md("<div "+t._WJS_MEASURE+'="true"/>',a.hostElement,{visibility:"hidden"});this.rows.deferUpdate(function(){for(var t={},i=o._autoSizeMode,c=ag,h=e;h<=n&&h>-1&&h<a.rows.length;h++)a.rows[h].isVisible&&(s=0,i&c.Headers&&(s=o._getDesiredRowHeight(l,h,u,t)),i&c.Cells&&(s=Math.max(o._getDesiredRowHeight(a,h,u,t),s)),s>0&&(a.rows[h].height=s+r))}),this.cellFactory.disposeCell(u),hd(u)}},Object.defineProperty(t.prototype,"treeIndent",{get:function(){return this._indent},set:function(e){e!=this._indent&&(this._indent=Nh(e,!1,!0),this.columns.onCollectionChanged())},enumerable:!0,configurable:!0}),t.prototype.collapseGroupsToLevel=function(e){var t=this;this.finishEditing()&&this.deferUpdate(function(){var n=t.rows;n.deferUpdate(function(){for(var t=0;t<n.length;t++){var i=n[t];i instanceof Hf&&(i.isCollapsed=i.level>=e)}})})},Object.defineProperty(t.prototype,"selectionMode",{get:function(){return this._selHdl.selectionMode},set:function(e){(e=Yh(e,bf))!=this.selectionMode&&(this._selHdl.selectionMode=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._selHdl.selection.clone()},set:function(e){this._selHdl.selection=e},enumerable:!0,configurable:!0}),t.prototype.select=function(e,t){return void 0===t&&(t=!0),this._selHdl.select(e,t)},t.prototype.selectAll=function(){var e=this.rows.length,t=this.columns.length;return!(!e||!t)&&this.select(new yf(0,0,e-1,t-1),!1)},t.prototype.getSelectedState=function(e,t){return this.cells.getSelectedState(e,t)},Object.defineProperty(t.prototype,"selectedRows",{get:function(){var e=this,t=this.selectionMode,n=this.rows.filter(function(e){return e.isSelected});if(0==n.length&&t!=bf.None){var i=[];this.selectedRanges.forEach(function(t){for(var n=t.topRow;n<=t.bottomRow&&n>-1&&n<e.rows.length;n++)i.indexOf(n)<0&&i.push(n)}),i.sort(),n=i.map(function(t){return e.rows[t]})}return n},set:function(e){var t=this;Fh(this.selectionMode==bf.ListBox,"This property can be set only in ListBox mode."),e=Uh(e),this.deferUpdate(function(){for(var n=0,i=!0;n<t.rows.length;n++){var r=t.rows[n],o=e&&e.indexOf(r)>-1;o&&i&&(i=!1,t.select(n,t.selection.col)),r.isSelected=o}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedItems",{get:function(){var e=[];return this.selectedRows.forEach(function(t){var n=t?t.dataItem:null;n&&e.indexOf(n)<0&&e.push(n)}),e},set:function(e){var t=this;Fh(this.selectionMode==bf.ListBox,"This property can be set only in ListBox mode."),e=Uh(e),this.deferUpdate(function(){for(var n=0,i=!0;n<t.rows.length;n++){var r=t.rows[n],o=e&&e.indexOf(r.dataItem)>-1;o&&i&&(i=!1,t.select(n,t.selection.col)),r.isSelected=o}})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectedRanges",{get:function(){var e=[this.selection];return this._selHdl.extendedSelection.forEach(function(t){e.push(t)}),e},set:function(e){if((e=Uh(e))&&e.length>0&&(this.select(e[0]),this.selectionMode==bf.MultiRange)){var t=this._selHdl.extendedSelection;t.deferUpdate(function(){t.clear();for(var n=1;n<e.length;n++)t.push(e[n])})}},enumerable:!0,configurable:!0}),t.prototype.scrollIntoView=function(e,t,n){(null==this._maxOffsetY||this._rows._dirty||this._cols._dirty)&&this._updateLayout();var i=this.scrollPosition,r=this._szClient,o=r.width,s=r.height-this._gpCFtr.rows.getTotalSize(),l=this.cells._getFrozenPos();if((e=zh(e))>-1&&e<this._rows.length&&e>=this._rows.frozen){var a=this._rows[e],u=this._getCssPage(a.pos);if(u!=this._cssPage){for(var c=this._maxOffsetY,h=Math.round(c*u);h>a.pos;u-=.1)h=Math.round(c*u);this._offsetY=h}var d=a.pos-this._offsetY,p=d+a.renderSize;p>s-i.y&&(i.y=Math.max(-d,s-p)),d-l.y<-i.y&&(i.y=-(d-l.y)),u!=this._cssPage&&(this._cssPage=this._getCssPage(-i.y))}if(fh(t)&&(t=this.columns.indexOf(t)),(t=zh(t))>-1&&t<this._cols.length&&t>=this._cols.frozen){var f=this._cols[t],g=f.pos+f.renderSize;g>-i.x+o&&(i.x=Math.max(-f.pos,o-g)),f.pos-l.x<-i.x&&(i.x=-(f.pos-l.x))}if(!i.equals(this._ptScrl))return this.scrollPosition=i,n&&(this._updateScrollPosition(),this._forceScrollUpdate=!1,this.refresh()),!0;if(this._activeCell&&e>-1&&t>-1){var _=this._root,m=_.scrollWidth==_.clientWidth,v=_.scrollHeight==_.clientHeight;if(m||v){var y=this._activeCell.getBoundingClientRect(),b=innerWidth,w=innerHeight,C=y.right<0||y.left>b,E=y.bottom<0||y.top>w;i.x=pageXOffset+(y.left<0?y.left:y.right>b?y.right-b:0),i.y=pageYOffset+(y.top<0?y.top:y.bottom>w?y.bottom-w:0),C&&m&&E&&v?scrollTo(i.x,i.y):C&&m?scrollTo(i.x,document.documentElement.scrollLeft):E&&v&&scrollTo(document.documentElement.scrollTop,i.y)}}return!1},t.prototype.isRangeValid=function(e){return e&&e.isValid&&e.bottomRow<this.rows.length&&e.rightCol<this.columns.length},t.prototype.startEditing=function(e,t,n,i,r){return void 0===e&&(e=!0),this._edtHdl.startEditing(e,t,n,i,r)},t.prototype.finishEditing=function(e){return this._edtHdl.finishEditing(e)},Object.defineProperty(t.prototype,"activeCell",{get:function(){return this._activeCell},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeEditor",{get:function(){var e=this._edtHdl;return e?e.activeEditor:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"editRange",{get:function(){var e=this._edtHdl.editRange;return e?e.clone():null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mergeManager",{get:function(){return this._mrgMgr},set:function(e){e!=this._mrgMgr&&(this._mrgMgr=Gh(e,Yf,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.getMergedRange=function(e,t,n,i){return void 0===i&&(i=!0),this._mrgMgr?this._mrgMgr.getMergedRange(e,t,n,i):null},Object.defineProperty(t.prototype,"keyActionTab",{get:function(){return this._keyHdl._kaTab},set:function(e){this._keyHdl._kaTab=Yh(e,rg)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keyActionEnter",{get:function(){return this._keyHdl._kaEnter},set:function(e){this._keyHdl._kaEnter=Yh(e,rg)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveWhiteSpace",{get:function(){return nd(this.hostElement,t._WJS_WSPRE)},set:function(e){od(this.hostElement,t._WJS_WSPRE,Bh(e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"showDropDown",{get:function(){return this._shDropDown},set:function(e){e!=this._shDropDown&&(this._shDropDown=Bh(e,!0),this.invalidate())},enumerable:!0,configurable:!0}),t.prototype.toggleDropDownList=function(){return this._tglDropDown||(this._tglDropDown=!0,this._edtHdl._toggleListBox(null),this._tglDropDown=!1),null!=this._edtHdl._lbx},Object.defineProperty(t,"defaultTypeWidth",{get:function(){return t._defTypeWidth},enumerable:!0,configurable:!0}),t.prototype.onItemsSourceChanging=function(e){return this.itemsSourceChanging.raise(this,e),!e.cancel},t.prototype.onItemsSourceChanged=function(e){this.itemsSourceChanged.raise(this,e)},t.prototype.onScrollPositionChanged=function(e){this.scrollPositionChanged.raise(this,e)},t.prototype.onSelectionChanging=function(e){return this.selectionChanging.raise(this,e),!e.cancel},t.prototype.onSelectionChanged=function(e){this.selectionChanged.raise(this,e)},t.prototype.onLoadingRows=function(e){return this.loadingRows.raise(this,e),!e.cancel},t.prototype.onLoadedRows=function(e){this.loadedRows.raise(this,e),this._autoRowHeights()},t.prototype.onUpdatingLayout=function(e){return this.updatingLayout.raise(this,e),!e.cancel},t.prototype.onUpdatedLayout=function(e){this.updatedLayout.raise(this,e)},t.prototype.onResizingColumn=function(e){return this.resizingColumn.raise(this,e),!e.cancel},t.prototype.onResizedColumn=function(e){this.resizedColumn.raise(this,e),this._autoRowHeights()},t.prototype.onAutoSizingColumn=function(e){return this.autoSizingColumn.raise(this,e),!e.cancel},t.prototype.onAutoSizedColumn=function(e){this.autoSizedColumn.raise(this,e)},t.prototype.onStarSizedColumns=function(e){this.starSizedColumns.raise(this,e),this._autoRowHeights()},t.prototype.onDraggingColumn=function(e){return this.draggingColumn.raise(this,e),!e.cancel},t.prototype.onDraggingColumnOver=function(e){return this.draggingColumnOver.raise(this,e),!e.cancel},t.prototype.onDraggedColumn=function(e){this.draggedColumn.raise(this,e)},t.prototype.onPinningColumn=function(e){return this.pinningColumn.raise(this,e),!e.cancel},t.prototype.onPinnedColumn=function(e){this.pinnedColumn.raise(this,e)},t.prototype.onResizingRow=function(e){return this.resizingRow.raise(this,e),!e.cancel},t.prototype.onResizedRow=function(e){this.resizedRow.raise(this,e)},t.prototype.onAutoSizingRow=function(e){return this.autoSizingRow.raise(this,e),!e.cancel},t.prototype.onAutoSizedRow=function(e){this.autoSizedRow.raise(this,e)},t.prototype.onDraggingRow=function(e){return this.draggingRow.raise(this,e),!e.cancel},t.prototype.onDraggingRowOver=function(e){return this.draggingRowOver.raise(this,e),!e.cancel},t.prototype.onDraggedRow=function(e){this.draggedRow.raise(this,e)},t.prototype.onGroupCollapsedChanging=function(e){return this.groupCollapsedChanging.raise(this,e),!e.cancel},t.prototype.onGroupCollapsedChanged=function(e){this.groupCollapsedChanged.raise(this,e)},t.prototype.onColumnGroupCollapsedChanging=function(e){return this.columnGroupCollapsedChanging.raise(this,e),!e.cancel},t.prototype.onColumnGroupCollapsedChanged=function(e){this.columnGroupCollapsedChanged.raise(this,e)},t.prototype.onSortingColumn=function(e){return this.sortingColumn.raise(this,e),!e.cancel},t.prototype.onSortedColumn=function(e){this.sortedColumn.raise(this,e)},t.prototype.onBeginningEdit=function(e){return this.beginningEdit.raise(this,e),!e.cancel},t.prototype.onPrepareCellForEdit=function(e){this.prepareCellForEdit.raise(this,e)},t.prototype.onCellEditEnding=function(e){return this.cellEditEnding.raise(this,e),!e.cancel&&!e.stayInEditMode},t.prototype.onCellEditEnded=function(e){this.cellEditEnded.raise(this,e),this._autoRowHeights()},t.prototype.onRowEditStarting=function(e){return this.rowEditStarting.raise(this,e),!e.cancel},t.prototype.onRowEditStarted=function(e){this.rowEditStarted.raise(this,e)},t.prototype.onRowEditEnding=function(e){this.rowEditEnding.raise(this,e)},t.prototype.onRowEditEnded=function(e){this.rowEditEnded.raise(this,e),this._autoRowHeights()},t.prototype.onRowAdded=function(e){return this.rowAdded.raise(this,e),!e.cancel},t.prototype.onDeletingRow=function(e){return this.deletingRow.raise(this,e),!e.cancel},t.prototype.onDeletedRow=function(e){this.deletedRow.raise(this,e)},t.prototype.onCopying=function(e){return this.copying.raise(this,e),!e.cancel},t.prototype.onCopied=function(e){this.copied.raise(this,e)},t.prototype.onPasting=function(e){return this.pasting.raise(this,e),!e.cancel},t.prototype.onPasted=function(e){this.pasted.raise(this,e)},t.prototype.onPastingCell=function(e){return this.pastingCell.raise(this,e),!e.cancel},t.prototype.onPastedCell=function(e){this.pastedCell.raise(this,e)},t.prototype.onFormatItem=function(e){this.formatItem.raise(this,e)},t.prototype.onUpdatingView=function(e){return this.updatingView.raise(this,e),!e.cancel},t.prototype.onUpdatedView=function(e){this.updatedView.raise(this,e)},t.prototype._getTabIndex=function(){return this._orgTabIndex},t.prototype._autoRowHeights=function(){var e=this;this._autoHeights&&(this.rows.length>100&&[this.columnHeaders,this.rowHeaders].forEach(function(e){e._updateContent(!0,!1,e._getOffsetY())}),clearTimeout(this._toAutoHeights),this._toAutoHeights=setTimeout(function(){if(e._toAutoHeights=null,!e.editRange){var t=e.autoSizeMode,n=ag;t&n.Headers&&(e._autoSizeMode=n.Both,e.autoSizeRows(0,e.columnHeaders.rows.length-1,!0),e._autoSizeMode=t),t&n.Cells&&e.autoSizeRows()}},ep._REFRESH_INTERVAL))},t.prototype._getShowErrors=function(){return this.showErrors&&this._hasValidation},t.prototype._getHasValidation=function(){return this._hasValidation},t.prototype._getError=function(e,t,n,i){if(yh(this.itemValidator)){if(e==this.cells)return this.itemValidator(t,n,i);if(e==this.rowHeaders)for(n=0;n<this.columns.length;n++)if(u=this.itemValidator(t,n,i))return u}var r=this._cv,o=r?r.getError:null;if(yh(o)){var s=e.rows,l=this.columns,a=s[t].dataItem;if(a&&!(a instanceof Jd))if(e==this.cells)for(;t<s.length&&s[t].dataItem==a;t++)return o(a,this._getBindingColumn(this.cells,t,l[n]).binding,i);else if(e==this.rowHeaders){var u;if(!(u=o(a,null))){for(var c=[];t<s.length&&s[t].dataItem==a;t++)for(n=0;n<l.length;n++)(u=o(a,this._getBindingColumn(this.cells,t,l[n]).binding))&&c.indexOf(u)<0&&c.push(u);if(c.length){var h=this.errorTip;u=c.join(h&&h.isContentHtml?"<br/>":"\n")}}return u}}return null},t.prototype._setAria=function(e,t){sd(this.cells.hostElement,"aria-"+e,t)},t.prototype._setFocus=function(e){if(this.hostElement&&(e||!this.containsFocus())){var t=dd(),n=this.activeEditor,i=this._activeCell,r=this._eFocus,o=this._root,s=this._getTabIndex();n?yd(n,t)||(n.focus(),r.tabIndex=-1):i?yd(i,t)||t==this._root||(kc()&&nd(i,"wj-group")&&(i=i.querySelector("."+Zf._WJC_COLLAPSE)||i),i.tabIndex=s,this._setFocusNoScroll(i),r.tabIndex=-1):yd(r,t)||t==o||(r.tabIndex=s,this._setFocusNoScroll(r)),this.containsFocus()||(r.tabIndex=s,this._setFocusNoScroll(r))}},t.prototype._setFocusNoScroll=function(e){if(dd()!=e){if(Vc())e.focus({preventScroll:!0});else{var t=this.scrollPosition,n=e.style,i=n.position;n.position="fixed",e.focus(),n.position=i,this.scrollPosition=t}this._fixScroll()}},t.prototype._getDefaultRowHeight=function(){var e=this.hostElement,t=this._eFocus,n=null;t.offsetHeight||(n=md('<div><div class="wj-cell">0</div></div>',document.body),e&&n.setAttribute("class",e.getAttribute("class")),t=n.children[0]);var i=t.offsetHeight;return(isNaN(i)||i<=6)&&(i=28),hd(n),i},t.prototype._getCollectionView=function(e){return Kh(e)},t.prototype._getCanvasContext=function(){var e=document.createElement("canvas").getContext("2d"),t=getComputedStyle(this.hostElement);return e.font=t.fontSize+" "+t.fontFamily.split(",")[0],e},t.prototype._getWidestRow=function(e,t,n,i){for(var r=0,o=0,s=1===this._getRowsPerItem()&&e.columns[n].dataType==rh.Boolean,l=t.row;l<=t.row2;l++)if(e.rows[l].isVisible){var a=e.getCellData(l,n,!0),u=i.measureText(a).width,c=this.getMergedRange(e,l,n,!1);if(c&&c.columnSpan>1&&(u/=c.columnSpan),u>o&&(o=u,r=l),s)break;l+=c?c.rowSpan-1:0}return r},t.prototype._getDesiredWidth=function(e,t,n,i){var r=this.getMergedRange(e,t,n,!1),o=i.style;return this.cellFactory.updateCell(e,t,n,i,r),o.width=o.top=o.left="",i.offsetWidth/(r&&r.columnSpan>1?r.columnSpan:1)},t.prototype._getDesiredHeight=function(e,t,n,i){var r=i.style,o=this.getMergedRange(e,t,n,!1),s=o?o.rowSpan:1;return this.cellFactory.updateCell(e,t,n,i,o),i.innerHTML.trim()||(i.innerHTML="&nbsp;"),r.height=r.top=r.left="",i.offsetHeight/s},t.prototype._getDesiredRowHeight=function(e,t,n,i){for(var r=0,o=this._getQuickAutoSize(),s=0;s<e.columns.length;s++)if(e.columns[s].isVisible){var l=this.getMergedRange(e,t,s,!1),a=void 0;if(o){var u={ct:e.cellType,col:s,spr:l&&l.rowSpan>1?l.rowSpan:1,spc:l&&l.columnSpan>1?l.columnSpan:1,data:e.getCellData(t,s,!0)||"1"},c=JSON.stringify(u);null==(a=i[c])&&(a=this._getDesiredHeight(e,t,s,n),i[c]=a)}else a=this._getDesiredHeight(e,t,s,n);r=Math.max(a,r),s+=l?l.columnSpan-1:0}return r},t.prototype._getSortRowIndex=function(){return null!=this._sortRowIndex?this._sortRowIndex:this.columnHeaders.rows.length-1},t.prototype._getDeleteColumnIndex=function(){return 0},t.prototype._getEditColumnIndex=function(){return null!=this._editColIndex?this._editColIndex:this.rowHeaders.columns.length-1},t.prototype._sortConverter=function(e,t,n,i){var r,o=this;if(i&&(this._mappedColumns=null,this._cv&&this._cv.sortDescriptions.forEach(function(e){(r=o.getColumn(e.property))&&r.dataMap&&(o._mappedColumns||(o._mappedColumns={}),o._mappedColumns[r.binding]=r.dataMap)}),this._mouseHdl._htDown&&this._mouseHdl._htDown.col>-1&&(r=this.columns[this._mouseHdl._htDown.col],this._mappedColumns&&r.dataMap&&(this._mappedColumns[r.binding]=r.dataMap))),this._mappedColumns){var s=this._mappedColumns[e.property];s&&s.sortByDisplayValues&&(n=s.getDisplayValue(n))}return n},t.prototype._bindGrid=function(e){var t=this;this.finishEditing(),this.deferUpdate(function(){var n,i;if(t.autoGenerateColumns&&0==t._lastCount&&Jh(t._cv)&&(e=!0),t.preserveSelectedState&&(n=t._getMap())&&t.rows.forEach(function(e){e.isSelected&&e.dataItem&&n.set(e.dataItem,!0)}),t.preserveOutlineState&&t.rows.maxGroupLevel>-1&&(i=t._getMap()))for(var r=0;r<t.rows.length;r++){var o=t.rows[r];if(o instanceof Hf&&o.isCollapsed&&o.dataItem){var s=o.dataItem;s instanceof Jd&&(s=s._path),i.set(s,!0)}}e&&t.columns.deferUpdate(function(){t._bindColumns()});var l=new eh;t.onLoadingRows(l)&&(t.rows.deferUpdate(function(){t._bindRows()}),t.onLoadedRows(l)),t._selHdl.extendedSelection.clear();var a=0;if(n&&n.size&&t.rows.forEach(function(e){var t=e.dataItem;t&&n.has(t)&&(e.isSelected=!0,a++)}),0==a&&t._lastCount>0&&t.selectionMode==bf.ListBox){var u=t.selection;for(r=u.topRow;r<=u.bottomRow&&r>-1&&r<t.rows.length;r++)t.rows[r].isSelected=!0}if(i&&i.size&&t.rows.deferUpdate(function(){t.rows.forEach(function(e){if(e instanceof Hf){var t=e.dataItem;t instanceof Jd&&(t=t._path),i.has(t)&&(e.isCollapsed=!0)}})}),!t._lastCount){var c=t._cv;c&&c.items&&(t._lastCount=c.items.length)}}),this._cv&&this._syncSelection(e&&!this._toInv)},t.prototype._getMap=function(){return window.Map?new Map:null},t.prototype._cvCollectionChanged=function(e,t){if(this.autoGenerateColumns&&0==this.columns.length)this._bindGrid(!0);else{var n=Kc;if(this.childItemsPath&&t.action!=n.Change)this._bindGrid(!1);else{switch(t.action){case n.Change:return void this.invalidate();case n.Add:if(t.index==this._cv.items.length-1){var i=this.rows.length;return this.rows[i-1]instanceof Gf&&i--,void this.rows.insert(i,new Mf(t.item))}Fh(!1,"added item should be the last one.");break;case n.Remove:var r=this._findRow(t.item);if(r>-1)return this.rows.removeAt(r),void this._syncSelection();Fh(!1,"removed item not found on grid.")}this._bindGrid(!1)}}},t.prototype._cvCurrentChanged=function(e,t){this._syncSelection()},t.prototype._syncSelection=function(e){if(this._cv&&this.selectionMode!=bf.None){var t=this._selHdl.selection,n=t.row>-1&&t.row<this.rows.length?this.rows[t.row]:null,i=n?n.dataItem:null,r=this._cv;if(r instanceof Kd&&r.isUpdating)return;if(this.newRowAtTop&&n instanceof Gf)return;if(i instanceof Jd&&(i=null),e||i!=r.currentItem||t.row>=this.rows.length){var o=this.editableCollectionView;if(!this.childItemsPath||!o||!o.currentAddItem){var s=this._getRowIndex(r.currentPosition);s==t.row&&this.childItemsPath||(t=new yf(s,t.col,s,t.col2),this.select(t,!1),this.selectionMode&&!this._updating&&this.scrollIntoView(t.row,-1))}}}},t.prototype._getRowIndex=function(e){if(this._cv){var t=this.rows;if(e>-1){for(var n=this._cv.items[e];e<t.length;e++)if(t[e].dataItem===n)return e;return-1}if(1==t.length&&t[0]instanceof Gf)return 0;var i=this.selection.row,r=i>-1?t[i]:null;return r&&(r instanceof Hf||null==r.dataItem)?i:-1}return this.selection.row},t.prototype._getCvIndex=function(e){return e>-1&&e<this.rows.length?this.rows[e].dataIndex:-1},t.prototype._findRow=function(e){for(var t=0;t<this.rows.length;t++)if(this.rows[t].dataItem==e)return t;return-1},t.prototype._updateLayout=function(){var e=new eh;if(this.onUpdatingLayout(e)){var n=this._hdrVis&kf.Row?this._hdrCols.getTotalSize():0,i=this._hdrVis&kf.Column?this._hdrRows.getTotalSize():0,r=this._ftrRows.getTotalSize(),o=this._rows.getTotalSize()+r;o<1&&(o=1),this._heightReal=o,this._heightBrowser=Math.min(o,t._getMaxSupportedCssHeight()),this._maxOffsetY=Math.max(0,o-this._heightBrowser);var s=getComputedStyle(this._eFocus);this._cellPadVert=parseInt(s.paddingTop)+parseInt(s.paddingBottom),this._cellPadHorz=parseInt(s.paddingLeft)+parseInt(s.paddingRight),this._cellPadLeft=parseInt(this.rightToLeft?s.paddingRight:s.paddingLeft);var l=this._heightBrowser+i-r,a=this._gpCells.width,u=this._heightBrowser;!a&&this.rows.length&&(a=.1),!u&&this.columns.length&&(u=.1),this.rightToLeft?(xd(this._eTL,{right:0,top:0,width:n,height:i}),xd(this._eCHdr,{right:n,top:0,height:i}),xd(this._eRHdr,{right:0,top:i,width:n}),xd(this._eCt,{right:n,top:i,width:a,height:u}),xd(this._fCt,{right:n,top:i}),xd(this._eBL,{right:0,top:l,width:n,height:r}),xd(this._eCFtr,{right:n,top:l,height:r})):(xd(this._eTL,{left:0,top:0,width:n,height:i}),xd(this._eCHdr,{left:n,top:0,height:i}),xd(this._eRHdr,{left:0,top:i,width:n}),xd(this._eCt,{left:n,top:i,width:a,height:u}),xd(this._fCt,{left:n,top:i}),xd(this._eBL,{left:0,top:l,width:n,height:r}),xd(this._eCFtr,{left:n,top:l,height:r})),this._stickyHdr&&this._updateStickyHeaders();var c=this.frozenRows||this.frozenColumns?"3":"";xd([this._eTL,this._eBL,this._eCHdr,this._eCFtr,this._eRHdr,this._eMarquee],{zIndex:c}),kc()&&(this._fCt.style.zIndex=c?"2":"");var h=this._root,d=h.offsetWidth-h.clientWidth,p=h.offsetHeight-h.clientHeight;xd(this._eSz,{width:n+d+this._gpCells.width,height:i+p+this._heightBrowser});var f=null;this.columns._updateStarSizes(h.clientWidth-n)&&(f=h.clientWidth,xd(this._eCt,{width:this._gpCells.width}),this.onStarSizedColumns()),this._szClient=new Id(h.clientWidth-n,h.clientHeight-i),this._szClientSB=new Id(h.offsetWidth-n,h.offsetHeight-i),this._rcBounds=null,this._updateScrollHandler(),this._updateContent(!1),xd(this._eSz,{width:n+(d=h.offsetWidth-h.clientWidth)+this._gpCells.width,height:i+(p=h.offsetHeight-h.clientHeight)+this._heightBrowser}),this._szClient=new Id(h.clientWidth-n,h.clientHeight-i),f&&f!=h.clientWidth&&this.columns._updateStarSizes(h.clientWidth-n)&&(xd(this._eCt,{width:this._gpCells.width}),this._updateContent(!1)),xd([this._eCHdr,this._eCFtr,this._fCt],{width:this._szClient.width}),xd([this._eRHdr,this._fCt],{height:this._szClient.height}),r&&(l=Math.min(l,this._szClient.height+i-r),xd([this._eBL,this._eCFtr],{top:l})),this.onUpdatedLayout(e)}},t.prototype._updateStickyHeaders=function(){var e=!1,n=0;if(this._stickyHdr){for(var i=0,r=null,o=this.hostElement;o;o=o.parentElement)if("inline"!=getComputedStyle(o).display){var s=o.getBoundingClientRect();null==r&&(r=s.top),i=Math.max(i,s.top)}n=-(r=Math.max(0,i-r-1)),e=r>0,this._rcBounds=null}this._eTL.style.top=this._eCHdr.style.top=e?-n+"px":"",od(this._eTL,t._WJS_STICKY,e),od(this._eCHdr,t._WJS_STICKY,e)},t.prototype._updateScrollHandler=function(){this._clipToScreen=this._getClipToScreen();var e=this._stickyHdr||this._clipToScreen;e!=this._scrollHandlerAttached&&(this._scrollHandlerAttached=e,e?this.addEventListener(window,"scroll",this._scroll.bind(this),!0):this.removeEventListener(window,"scroll"))},t.prototype._getClipToScreen=function(){if(this.rows.length<=t._MIN_VIRT_ROWS)return!1;if(this._root.scrollHeight>this._root.clientHeight)return!1;for(var e=this.hostElement;e&&e!=document.documentElement;e=e.parentElement)if("auto"==getComputedStyle(e).overflow)return!1;return!0},t.prototype._scroll=function(e){var t=this;yd(e.target,this.hostElement)&&(this._clipToScreen&&(this._afClip&&cancelAnimationFrame(this._afClip),this._afClip=requestAnimationFrame(function(){t._afClip=null,t.finishEditing(),t._updateContent(!0)})),this._stickyHdr&&(this._afSticky&&cancelAnimationFrame(this._afSticky),this._afSticky=requestAnimationFrame(function(){t._afSticky=null;var e=new eh;t.onUpdatingLayout(e)&&(t._updateStickyHeaders(),t.onUpdatedLayout(e))})))},t.prototype._getCssPage=function(e){if(this._heightReal>this._heightBrowser){var t=this._szClient.height-this._gpCFtr.rows.getTotalSize();if(this._heightBrowser>t)return Mh(Math.round(e/(this._heightBrowser-t)*10)/10,0,1)}return 0},t.prototype._updateScrollPosition=function(){var e=this._root,n=e.scrollTop,i=e.scrollLeft;this.rightToLeft&&"rev"==t._getRtlMode()&&(i=e.scrollWidth-e.clientWidth-i);var r=new Td(-Math.abs(i),-n);return!this._ptScrl.equals(r)&&(this._ptScrl=r,this.onScrollPositionChanged(),!0)},t.prototype._updateContent=function(e,t){var n=this,i=this._root,r=this.hostElement,o=this.cells.hostElement,s=this._activeCell,l=dd(),a=yd(r,l),u=bd(l,".wj-flexgrid")==r?l:null,c=new eh;if(this.onUpdatingView(c)){sd(o,"role",this.rows.maxGroupLevel<0?"grid":"treegrid"),this._hasValidation=yh(this._itemValidator)||this._cv&&yh(this._cv.getError);var h=!t&&this._errorTip&&this._errorTip._tips.length,d=this._getCssPage(-this._ptScrl.y);d!=this._cssPage&&(this._cssPage=d,this._offsetY=Math.round(this._maxOffsetY*d)),this._updateScrollPosition(),this._updateMarquee();var p=this._gpCells._updateContent(e,t,this._offsetY),f=this._hdrVis;f&kf.Column&&(!t||this._ssHdr&f)&&(this._gpCHdr._updateContent(e,t,0),this.rightToLeft||(this._eCHdr.scrollLeft=0)),f&kf.Row&&(!t||this._ssHdr&f)&&(this._gpRHdr._updateContent(e,t,this._offsetY),this._eRHdr.scrollTop=0),f&&!t&&this._gpTL._updateContent(e,t,0),this._gpCFtr.rows.length&&(this._gpBL._updateContent(e,t,0),this._gpCFtr._updateContent(e,t,0)),h&&this._errorTip&&this._errorTip._tips.length&&(clearTimeout(this._toErrorTips),this._toErrorTips=setTimeout(function(){var e=n._errorTip;if(e){e.hide();for(var t=e._tips,i=0;i<t.length;i++){var r=t[i].element;r.offsetHeight&&nd(r,"wj-state-invalid")||(e.setTooltip(r,null),i--)}}},250)),this._useFrozenDiv()&&(this._updateFrozenCells(t),p&&nd(p,"wj-frozen")&&(p=null)),this._fCt.style.display=this._fCt.childElementCount?"":"none",this._activeCell=p,u&&(u!=i&&u!=this._eFocus&&yd(r,u)&&!yd(o,u)?(dd()!==u&&u.focus(),kc()&&u instanceof HTMLInputElement&&!u.type.match(/checkbox|radio|range/i)&&u.setSelectionRange(u.selectionStart,u.selectionEnd)):this._setFocus(p!==s)),!u&&p&&(p.tabIndex=this.isDisabled?-1:this._orgTabIndex),s&&s!=p&&(s.tabIndex=-1),this._eFocus.tabIndex=null!=p||this.isDisabled?-1:this._orgTabIndex,a&&this.focus(),this._fixScroll(),this._rcBounds=null,this.onUpdatedView(c)}},t.prototype._fixScroll=function(){var e=this._root;if(!this._updating){var t=this.hostElement,n=e?e.parentElement:null,i=this.rightToLeft;t&&(t.scrollTop&&(t.scrollTop=0),t.scrollLeft&&!i&&(t.scrollLeft=0)),n&&(n.scrollTop&&(n.scrollTop=0),n.scrollLeft&&!i&&(n.scrollLeft=0))}Ic()&&e&&(e.style.transform="",e.style.transform="translateZ(0)")},t.prototype._clearCells=function(){for(var e in this)if("_"==e[0]){var t=this[e];t instanceof Ef&&t._clearCells()}this.invalidate()},t.prototype._useFrozenDiv=function(){return vh(this._fzClone)?this._fzClone:kc()||Sc()||Ic()||wc()},t.prototype._updateFrozenCells=function(e){var t=this._fCt;if(this.frozenRows||this.frozenColumns){var n=this._eCt.querySelectorAll(".wj-frozen");if(e&&t.children.length==n.length){for(var i=0;i<n.length;i++)t.children[i].className=n[i].className;return}if(vd(t,null),!this.activeEditor){var r=this._errorTip,o=navigator.userAgent.indexOf("MSIE")>=0;for(i=0;i<n.length;i++){var s=n[i];if(bd(s,".wj-flexgrid")==this.hostElement){var l=s[Ef._INDEX_KEY];if(o){var a="input[type=checkbox]",u=s.querySelector(a);s=s.cloneNode(!0),u&&(s.querySelector(a).checked=u.checked)}else s=s.cloneNode(!0);if(s[Ef._INDEX_KEY]=l,r){var c=r.getTooltip(n[i]);c&&r.setTooltip(s,c)}t.appendChild(s)}}}}else vd(t,null)},t.prototype._updateMarquee=function(){var e=this._eMarquee,t=this._getMarqueeRect();if(t&&t.width&&t.height){var n=e.firstChild,i=e.offsetWidth-n.offsetWidth,r=e.offsetHeight-n.offsetHeight,o=this.cells.hostElement;xd(e,{left:t.left+o.offsetLeft-i/2,top:t.top+o.offsetTop-r/2,width:t.width+i,height:t.height+r,display:""})}else e.style.display="none"},t.prototype._getMarqueeRect=function(){if(!this._shMarquee||!this.selectionMode)return null;var e=this._selHdl.selection;if(!this.isRangeValid(e))return null;e=(e=(e=this.cells._getAdjustedSelection(e)).combine(this.getMergedRange(this.cells,e.topRow,e.leftCol,!1))).combine(this.getMergedRange(this.cells,e.bottomRow,e.rightCol,!1));var t=this.cells.getCellBoundingRect(e.topRow,e.leftCol,!0),n=this.cells.getCellBoundingRect(e.bottomRow,e.rightCol,!0);if(this.rows.frozen){var i=Math.min(this.rows.length,this.rows.frozen),r=this.cells.getCellBoundingRect(i-1,0,!0);e.topRow>=i&&t.top<r.bottom&&(t.top=r.bottom),e.bottomRow>=i&&n.bottom<r.bottom&&(n.height=r.bottom-n.top)}if(this.columns.frozen){var o=Math.min(this.columns.length,this.columns.frozen);r=this.cells.getCellBoundingRect(0,o-1,!0),this.rightToLeft?(e.leftCol>=o&&t.right>r.left&&(t.left=r.left-t.width),e.rightCol>=o&&n.left>r.left&&(n.left=r.left)):(e.leftCol>=o&&t.left<r.right&&(t.left=r.right),e.rightCol>=o&&n.right<r.right&&(n.width=r.right-n.left))}return this.rightToLeft?new Pd(n.left,t.top,t.right-n.left,n.bottom-t.top):new Pd(t.left,t.top,n.right-t.left,n.bottom-t.top)},t.prototype._bindColumns=function(){for(var e=this.columns,n=0;n<e.length;n++)e[n]._getFlag(If.AutoGenerated)&&(e.removeAt(n),n--);var i=this._cv,r=i?i.items:null;r&&r.length&&this.autoGenerateColumns&&this._getColumnTypes(r).forEach(function(n){var i=new jf(n);i._setFlag(If.AutoGenerated,!0),i.name=i.binding,i.header=Zh(i.binding);var r=t._defTypeWidth[i.dataType];if(null!=r){if(fh(r)){var o=Math.round(parseFloat(r));r=r.indexOf("*")>-1?o*e.defaultSize:o}_h(r)&&r>0&&(i.width=r)}e.push(i)}),this._updateColumnTypes()},t.prototype._getColumnTypes=function(e){return Ph(e)},t.prototype._updateColumnTypes=function(){var e=this._cv;if(Jh(e)){var t=e.items[0];this.columns.forEach(function(e){null==e.dataType&&e._binding&&(e.dataType=Ih(e._binding.getValue(t)))})}},t.prototype._getMapEditor=function(e,t){return t.editor?null!=t.editor.isDroppedDown?t.dataMapEditor:null:!e.dataMap||e instanceof Hf?t.dataMap?t.dataMapEditor:null:e.dataMapEditor},t.prototype._getBindingColumn=function(e,t,n){return n},t.prototype._getBindingColumns=function(){return this.columns},t.prototype._getRowsPerItem=function(){return 1},t.prototype._getRowHeaderPath=function(){return this._rowHdrPath},t.prototype._bindRows=function(){this.rows.clear();var e=this._cv;if(e&&e.items){var t=e.items,n=e.groups;if(this.childItemsPath)for(var i=0;i<t.length;i++)this._addNode(t,i,0);else if(null!=n&&n.length>0&&this.showGroups)for(i=0;i<n.length;i++)this._addGroup(n[i]);else for(i=0;i<t.length;i++)this._addBoundRow(t,i)}},t.prototype._addBoundRow=function(e,t){var n=new Mf(e[t]),i=this.rows;n._list=i,i[i.length++]=n},t.prototype._addGroupRow=function(e){this.rows.push(new Hf(e))},t.prototype._addNode=function(e,t,n){var i=e[t],r=this.childItemsPath,o=i[Ch(r)?r[n]:r],s=new Hf(i);if(s.level=n,this.rows.push(s),Ch(o))for(var l=0;l<o.length;l++)this._addNode(o,l,n+1)},t.prototype._addGroup=function(e){if(this._addGroupRow(e),e.isBottomLevel)for(var t=e.items,n=0;n<t.length;n++)this._addBoundRow(t,n);else for(n=0;n<e.groups.length;n++)this._addGroup(e.groups[n])},t._getSerializableProperties=function(e){var t=[];for(e=e.prototype;e!=Object.prototype;e=Object.getPrototypeOf(e))for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var r=n[i],o=Object.getOwnPropertyDescriptor(e,r);o&&o.set&&o.get&&"_"!=r[0]&&!r.match(/^(disabled|required|showDropDown)$/)&&t.push(r)}return t},t.prototype._hasColumnGroups=function(){return this._grpHdl.hasColumnGroups()},t.prototype._getColumnGroup=function(e,t){return this._grpHdl.getColumnGroup(e,t)},t.prototype._copy=function(e,t){var n=this;if("columns"==e){var i=Uh(t);return i.some(function(e){return null!=e.columns})?this.columnGroups=i:(this.columns.clear(),i.forEach(function(e){var t=new jf(e);n.columns.push(t)})),!0}return!1},t.prototype._isInputElement=function(e){return e instanceof HTMLElement&&!nd(e,"wj-btn-glyph")&&("true"==e.contentEditable||null!=e.tagName.match(/^(INPUT|TEXTAREA|BUTTON|A|SELECT|OPTION)$/i))},t.prototype._isNativeCheckbox=function(e){return e instanceof HTMLInputElement&&"checkbox"==e.type&&!e.disabled&&!e.readOnly&&nd(e,Zf._WJC_CHECKBOX)&&bd(e,".wj-flexgrid")==this.hostElement},t.prototype._wantsInput=function(e){return this._isInputElement(e)&&!this.activeEditor&&!this._isNativeCheckbox(e)&&!nd(e,"wj-grid-ime")&&yd(document.body,e)},t._getMaxSupportedCssHeight=function(){if(!t._maxCssHeight){var e=265e5;kc()?e=15e5:Sc()&&(e=175e5),t._maxCssHeight=e}return t._maxCssHeight},t._getRtlMode=function(){if(!t._rtlMode){var e=md('<div dir="rtl"><div></div></div>');xd(e,{visibility:"hidden",width:100,height:100,overflow:"auto"}),xd(e.firstChild,{width:2e3,height:2e3}),document.body.appendChild(e);var n=e.scrollLeft;e.scrollLeft=-1e3;var i=e.scrollLeft;hd(e),t._rtlMode=i<0?"neg":n>0?"rev":"std"}return t._rtlMode},t._WJS_STICKY="wj-state-sticky",t._WJS_MEASURE="wj-state-measuring",t._WJS_UPDATING="wj-state-updating",t._WJS_WSPRE="wj-whitespace-pre",t._MIN_VIRT_ROWS=200,t._defTypeWidth=((ff={})[rh.Number]="0.714285714*",ff),t.controlTemplate='<div><div wj-part="root"><div wj-part="cells" class="wj-cells"></div><div wj-part="marquee" class="wj-marquee"><div></div></div></div><div wj-part="fcells" aria-hidden="true" class="wj-cells wj-frozen-clone"></div><div wj-part="rh"><div wj-part="rhcells" class="wj-rowheaders"></div></div><div wj-part="cf"><div wj-part="cfcells" class="wj-colfooters"></div></div><div wj-part="ch"><div wj-part="chcells" class="wj-colheaders"></div></div><div wj-part="bl"><div wj-part="blcells" class="wj-bottomleft"></div></div><div wj-part="tl"><div wj-part="tlcells" class="wj-topleft"></div></div><div wj-part="focus" class="wj-cell">0</div><div wj-part="sz"></div></div>',t}(ep),qf=function(){function e(t){this._updateImeFocusAsyncBnd=this._updateImeFocusAsync.bind(this),this._cmpstartBnd=this._compositionstart.bind(this),this._keypressBnd=this._keypress.bind(this),this._g=t;var n=md('<textarea class="wj-grid-editor wj-form-control wj-grid-ime" aria-hidden="true"/>');xd(n,e._cssHidden),cd(n),n.tabIndex=-1,this._tbx=n,this._maskProvider=new Nd(n),t._root.appendChild(n),this._updateImeFocus();var i=t.hostElement,r=t.addEventListener.bind(t),o=this._updateImeFocusAsyncBnd;r(i,"blur",o,!0),r(i,"focus",o),r(n,"compositionstart",this._cmpstartBnd),Ec()&&r(i,"keypress",this._keypressBnd),t.selectionChanged.addHandler(o,this),t.cellEditEnded.addHandler(this._cellEditEnded,this),t.cellEditEnding.addHandler(this._cellEditEnding,this)}return e.prototype.dispose=function(){var e=this._g,t=e.hostElement,n=this._tbx,i=e.removeEventListener.bind(e),r=this._updateImeFocusAsyncBnd;i(t,"blur",r),i(t,"focus",r),i(t,"keypress",this._keypressBnd),i(n,"compositionstart",this._cmpstartBnd),e.selectionChanged.removeHandler(r),e.cellEditEnded.removeHandler(this._cellEditEnded),e.cellEditEnding.removeHandler(this._cellEditEnding),hd(n)},e.prototype._compositionstart=function(e){var t=this._g;if(!t.activeEditor){var n=t._selHdl.selection;if(t.startEditing(!1,n.row,n.col,!1,e)&&t.activeEditor&&"checkbox"!=t.activeEditor.type){var i=t.activeEditor,r=this._tbx,o=t.cells.hostElement,s=t.columns[(n=t.editRange).col].pos+o.offsetLeft,l=t.rows[n.row].pos+o.offsetTop,a=t.getCellBoundingRect(n.row,n.col),u=bd(i,".wj-cell");a.width=u.offsetWidth,a.height=u.offsetHeight,n.row<t.frozenRows&&(l+=t._root.scrollTop),n.col<t.frozenColumns&&(s+=t._root.scrollLeft);var c=u.querySelector(".wj-btn.wj-right");c&&(a.width-=c.offsetWidth),"minLength,maxLength,pattern".split(",").forEach(function(e){sd(r,e,i.getAttribute(e))});var h=i instanceof HTMLTextAreaElement;sd(r,"wrap",h?"soft":"off");var d=getComputedStyle(u),p=d.paddingTop;if(n.rowSpan>1&&!h){var f=parseFloat(d.lineHeight);isNaN(f)&&(f=1.2*parseFloat(d.fontSize)),p=Math.max(0,(a.height-f)/2)+"px"}var g={position:"absolute",left:s,top:l,width:a.width-1,height:a.height-1,paddingTop:p,paddingLeft:d.paddingLeft,paddingRight:d.paddingRight,textAlign:d.textAlign,zIndex:u.style.zIndex};t.rightToLeft&&(g.right=parseInt(u.style.right)+parseInt(t.cells.hostElement.style.right),g.left=""),xd(r,g),t._edtHdl._edt=r,r.select();var _=i.value;setTimeout(function(){"\u3000"!=r.value&&" "!=r.value||(r.value=_),ud(r,r.value.length)},20),r.placeholder=i.placeholder,i.placeholder="",i.value=""}}},e.prototype._cellEditEnding=function(){var e=this._maskProvider;e&&e.mask&&e._valueChanged()},e.prototype._cellEditEnded=function(){var t=this._tbx;t.value="",xd(t,e._cssHidden),this._updateImeFocus()},e.prototype._keypress=function(e){e.defaultPrevented||e.target!=this._tbx||e.ctrlKey||e.altKey||e.metaKey||27==e.keyCode||this._g.activeEditor||(this._tbx.value="",this._compositionstart(e),e.stopPropagation())},e.prototype._updateImeFocus=function(){var e=this._g,t=this._tbx,n=dd(),i=e._getTabIndex();if(!e.activeEditor&&bd(n,".wj-flexgrid")==e.hostElement)if(this._enableIme()){n!=t&&(e.activeCell&&(e.activeCell.tabIndex=-1),t.tabIndex=i,t.disabled=!1,t.value="",ud(t,0),t.focus());var r=e._selHdl.selection,o=r.isValid?e._getBindingColumn(e.cells,r.row,e.columns[r.col]):null;this._maskProvider.mask=o?o.mask:null}else{t.tabIndex=-1,t.disabled=!0,t.value="",t.blur();var s=e.activeCell;s?(s.tabIndex=i,s.focus()):e.focus()}},e.prototype._updateImeFocusAsync=function(){var e=this;this._toFocus&&clearTimeout(this._toFocus),this._toFocus=setTimeout(function(){e._toFocus=null,e._updateImeFocus()},100)},e.prototype._enableIme=function(){var e=this._g,t=e._selHdl.selection;if(!e.canEditCell(t.row,t.col))return!1;var n=t.isValid?e._getBindingColumn(e.cells,t.row,e.columns[t.col]):null;return!(!n||n.editor||n.dataType==rh.Boolean||n&&n.dataMap&&n.dataMapEditor==gf.RadioButtons)},e._cssHidden={position:"fixed",width:"1px",left:-32e3,top:-32e3,overflow:"hidden"},e}(),Uf=function(){function e(e){this._nrt=new Gf,this._top=!1,this._keydownBnd=this._keydown.bind(this),this._committing=!1,this._g=e,this._attach()}return Object.defineProperty(e.prototype,"newRowAtTop",{get:function(){return this._top},set:function(e){if(e!=this.newRowAtTop){this._top=Bh(e),this.updateNewRowTemplate();var t=this._g;this._top&&t.selectionMode==bf.ListBox&&(t.rows.forEach(function(e,t){e._setFlag(If.Selected,0==t,!0)}),t.select(0,t.selection.col))}},enumerable:!0,configurable:!0}),e.prototype.updateNewRowTemplate=function(){var e=this._g,t=e.editableCollectionView,n=e.rows,i=this._nrt,r=t&&t.canAddNew&&e.allowAddNew&&!e.isReadOnly,o=n.indexOf(i),s=this._top?0:n.length-1,l=!1;if(!r&&o>-1){var a=e.selection;a.row==o&&e.select(a.row-1,a.col),n.removeAt(o)}else r&&(o<0?l=!0:o!=s&&(n.removeAt(o),l=!0),l&&(this._top?n.insert(0,i):n.push(i)),i&&(i._ubv=null,i._setFlag(If.ParentCollapsed,!1),this._top&&e.selectionMode==bf.ListBox||i._setFlag(If.Selected,!1)))},e.prototype._attach=function(){var e=this._g;e&&(e.beginningEdit.addHandler(this._beginningEdit,this),e.pastingCell.addHandler(this._beginningEdit,this),e.rowEditEnded.addHandler(this._rowEditEnded,this),e.loadedRows.addHandler(this.updateNewRowTemplate,this),e.hostElement.addEventListener("keydown",this._keydownBnd,!0))},e.prototype._detach=function(){var e=this._g;e&&(e.beginningEdit.removeHandler(this._beginningEdit),e.pastingCell.removeHandler(this._beginningEdit),e.rowEditEnded.removeHandler(this._rowEditEnded),e.loadedRows.removeHandler(this.updateNewRowTemplate),e.hostElement.removeEventListener("keydown",this._keydownBnd,!0))},e.prototype._keydown=function(e){!e.defaultPrevented&&e.keyCode==ih.Escape&&null==this._g.activeEditor&&this._top&&this._nrt.dataItem&&(this._nrt.dataItem=null,this._g.invalidate())},e.prototype._beginningEdit=function(e,t){if(!t.cancel){var n=e.rows[t.row];if(n instanceof Gf){var i=e.editableCollectionView;if(i&&i.canAddNew)if(this._top){if(null==this._nrt.dataItem){var r=null,o=i.sourceCollection,s=i.newItemCreator;r=yh(s)?s():o&&o.length?new o[0].constructor:{},this._nrt.dataItem=r}}else{r=i.currentAddItem&&i.currentAddItem==n.dataItem?i.currentAddItem:i.addNew(),i.moveCurrentTo(r);var l=this._nrt.isSelected;this.updateNewRowTemplate(),l&&t.row>-1&&(e.rows[t.row].isSelected=!0),e.isUpdating||e.refresh(!0),e.onRowAdded(t)||i.cancelNew()}}}},e.prototype._rowEditEnded=function(e,t){var n=this,i=e.editableCollectionView,r=this._nrt.dataItem;if(i&&!this._committing)if(i.isAddingNew)i.commitNew();else if(r&&!t.cancel){this._committing=!0,this._nrt.dataItem=null;var o=i.addNew();for(var s in r)o[s]=r[s];e.onRowAdded(t)?i.commitNew():i.cancelNew(),setTimeout(function(){e.select(0,e.columns.firstVisibleIndex),n.updateNewRowTemplate()},20),this._committing=!1}},e}(),Gf=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _f(t,e),t}(Mf);!function(e){e[e.None=0]="None",e[e.Cells=1]="Cells",e[e.ColumnHeaders=2]="ColumnHeaders",e[e.RowHeaders=4]="RowHeaders",e[e.AllHeaders=6]="AllHeaders",e[e.All=7]="All"}(Bf||(Bf={}));var Yf=function(){function e(e){null!=e&&console.error('** WARNING: the "grid" parameter has been deprecated. Please remove it.')}return e.prototype.getMergedRange=function(e,t,n,i){void 0===i&&(i=!0);var r=e.grid,o=e.cellType,s=e.columns,l=e.rows,a=l[t],u=s[n];if(a instanceof Gf)return null;if(!(a instanceof Mf&&u instanceof jf))return null;if(e==r.columnHeaders){var c=r._getColumnGroup(t,n);if(c){var h=c._rng,d=e.columns;return d.isFrozen(h.col)!=d.isFrozen(h.col2)&&(h=h.clone(),d.isFrozen(n)?h.col2=d.frozen-1:h.col=d.frozen),h}}if(r.showGroups&&!r.childItemsPath&&a instanceof Hf&&a.dataItem instanceof Jd&&o==mf.Cell){if(h=new yf(t,n),u.aggregate==Vd.None){for(;h.col>0&&s[h.col-1].aggregate==Vd.None&&h.col!=s.frozen;)h.col--;for(;h.col2<s.length-1&&s[h.col2+1].aggregate==Vd.None&&h.col2+1!=s.frozen;)h.col2++}for(;h.col<n&&!s[h.col].visible;)h.col++;return h.isSingleCell?null:h}var p=!1,f=mf;switch(r.allowMerging){case Bf.None:p=!0;break;case Bf.Cells:p=o!=f.Cell;break;case Bf.ColumnHeaders:p=o!=f.ColumnHeader&&o!=f.TopLeft;break;case Bf.RowHeaders:p=o!=f.RowHeader&&o!=f.TopLeft;break;case Bf.AllHeaders:p=o==f.Cell}if(p)return null;if(o==f.Cell){var g=r.editableCollectionView,_=g?g.currentAddItem:null;if(_&&a.dataItem==_)return null}if(s[n].allowMerging){h=new yf(t,n);var m=e._vrb,v=0,y=l.length-1;t>=l.frozen?i&&(o==mf.Cell||o==mf.RowHeader)&&r._vtRows<l.length&&m&&(v=m.topRow,y=m.bottomRow):l.length>l.frozen&&(y=l.frozen-1);for(var b=t-1;b>=v&&this._mergeCell(e,b,n,t,n);b--)h.row=b;for(var w=t+1;w<=y&&this._mergeCell(e,t,n,w,n);w++)h.row2=w;for(;h.row<t&&!l[h.row].visible;)h.row++;if(!h.isSingleCell)return h}if(l[t].allowMerging){h=new yf(t,n),m=e._vrb;var C=0,E=s.length-1;n>=s.frozen?i&&(o==mf.Cell||o==mf.ColumnHeader)&&r._vtCols<s.length&&m&&(C=m.leftCol,E=m.rightCol):E=s.frozen-1;for(var x=n-1;x>=C&&this._mergeCell(e,t,x,t,n);x--)h.col=x;for(var S=n+1;S<=E&&this._mergeCell(e,t,n,t,S);S++)h.col2=S;for(;h.col<n&&!s[h.col].visible;)h.col++;if(!h.isSingleCell)return h}return null},e.prototype._mergeCell=function(e,t,n,i,r){var o=e.rows[t],s=e.rows[i];if(!o||!s)return!1;if(o instanceof Hf||o instanceof Gf||s instanceof Hf||s instanceof Gf)return!1;var l=e.grid.editableCollectionView,a=l?l.currentAddItem:null;if(a&&(o.dataItem==a||s.dataItem==a))return!1;if(t!=i&&e.rows.isFrozen(t)!=e.rows.isFrozen(i))return!1;if(n!=r&&e.columns.isFrozen(n)!=e.columns.isFrozen(r))return!1;if(t!=i){if(n>0&&(o.allowMerging&&this._mergeCell(e,t,n-1,t,n)||s.allowMerging&&this._mergeCell(e,i,n-1,i,n)))return!1;if(r<e.columns.length-1&&(o.allowMerging&&this._mergeCell(e,t,r,t,r+1)||s.allowMerging&&this._mergeCell(e,i,r,i,r+1)))return!1}return e.getCellData(t,n,!0)==e.getCellData(i,r,!0)},e}(),Kf=function(){function e(t,n){var i;if(this._row=-1,this._col=-1,this._edge=0,n instanceof Element){if(bd(n,".wj-flexgrid")!=t.hostElement)return;t=n,this._target=n}if(!(t instanceof Element)||t instanceof Wf){if(t instanceof Wf)this._target=t.hostElement,i=this._g=t;else{if(!(t instanceof Ef))throw"First parameter should be a FlexGrid or GridPanel.";this._target=t.hostElement,this._p=t,i=this._g=this._p.grid}n instanceof MouseEvent&&(this._target=n.target,"mousedown"==n.type&&(i._rcBounds=null)),n=Th(n),this._pt=n.clone();var r=i.controlRect,o=i._szClient,s=i.topLeftCells,l=i._eTL,a=i.headersVisibility,u=kf,c=a&u.Row?s.columns.getTotalSize():0,h=a&u.Column?s.rows.getTotalSize():0,d=a&u.Column?h+l.offsetTop:0,p=i._eBL,f=p.offsetHeight;if(n.x-=r.left,n.y-=r.top,i.rightToLeft&&(n.x=r.width-n.x),this._p||n.x>=0&&n.y>=l.offsetTop&&o&&n.x<=o.width+c&&n.y<=o.height+h&&(this._p=n.y<d?n.x<c?i.topLeftCells:i.columnHeaders:n.y<p.offsetTop?n.x<c?i.rowHeaders:i.cells:n.x<c?i.bottomLeftCells:i.columnFooters),null!=this._p){var g=this._p.rows,_=this._p.columns,m=this._p.cellType,v=mf,y=this._p._getFrozenPos(),b=m==v.TopLeft||m==v.ColumnHeader?h:m==v.BottomLeft||m==v.ColumnFooter?f:g.getTotalSize(),w=m==v.TopLeft||m==v.BottomLeft||m==v.RowHeader?c:_.getTotalSize();m==v.RowHeader||m==v.Cell?(n.y-=h,(n.y>y.y||y.y<=0)&&(n.y-=i._ptScrl.y,n.y+=this._p._getOffsetY())):m!=v.BottomLeft&&m!=v.ColumnFooter||(n.y-=p.offsetTop),m!=v.ColumnHeader&&m!=v.Cell&&m!=v.ColumnFooter||(n.x-=c,(n.x>y.x||y.x<=0)&&(n.x-=i._ptScrl.x)),m!=v.ColumnHeader&&m!=v.TopLeft||(n.y-=d-h),this._edge=0;var C=e._SZEDGE[this._g.isTouching?1:0];if(this._g.isTouching&&(n.x-=(C=e._SZEDGE[1])/2),this._row=n.y>b?-1:g.getItemAt(n.y),this._col=n.x>w?-1:_.getItemAt(n.x),this._row<0||this._col<0)return void(this._p=null);if(this._col>-1){var E=_[this._col];n.x-E.pos<=C&&(this._edge|=1);var x=E.pos+E.renderSize-n.x;x<=C&&(this._edge|=4,x<=C/2&&(this._edge|=16))}if(this._row>-1){var S=g[this._row];n.y-S.pos<=C&&(this._edge|=2);var T=S.pos+S.renderSize-n.y;T<=C&&(this._edge|=8,T<=C/2&&(this._edge|=32))}}}else{var I=bd(t,".wj-cell"),P=I?I[Ef._INDEX_KEY]:null;P&&(this._target=t,this._row=P.row,this._col=P.col,this._rng=P.rng,this._p=P.panel,this._g=P.panel.grid)}}return Object.defineProperty(e.prototype,"point",{get:function(){return this._pt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cellType",{get:function(){return this._p?this._p.cellType:mf.None},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"panel",{get:function(){return this._p},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"grid",{get:function(){return this._p?this._p.grid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"row",{get:function(){return this._row},enumerable:!0,configurable:!0}),e.prototype.getRow=function(){return this._p&&this._row>-1?this._p.rows[this._row]:null},Object.defineProperty(e.prototype,"col",{get:function(){return this._col},enumerable:!0,configurable:!0}),e.prototype.getColumn=function(e){var t=this._p,n=t&&this._col>-1?t.columns[this._col]:null;return n&&e&&(n=this._g._getBindingColumn(t,this._row,n)),n},Object.defineProperty(e.prototype,"range",{get:function(){return this._rng||(this._rng=new yf(this._row,this._col)),this._rng},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeLeft",{get:function(){return 0!=(1&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeTop",{get:function(){return 0!=(2&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeRight",{get:function(){return 0!=(4&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeFarRight",{get:function(){return 0!=(16&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeBottom",{get:function(){return 0!=(8&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"edgeFarBottom",{get:function(){return 0!=(32&this._edge)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0}),e._SZEDGE=[6,30],e}();function Jf(){return Ad("wijmo.input")}var Zf=function(){function e(){}return e.prototype.updateCell=function(t,n,i,r,o,s){var l=t.grid,a=l.rightToLeft,u=t.rows,c=t.columns,h=u[n],d=c[i],p=n,f=i,g=h instanceof Hf?h:null,_=h instanceof Gf?h:null,m=d.renderWidth,v=h.renderHeight,y=t.cellType,b="wj-cell",w="",C={display:""},E=mf;0!=s&&r.firstElementChild&&(1==r.childNodes.length&&"checkbox"==r.firstElementChild.type||(r.textContent="")),o&&!o.isSingleCell&&(p=o.row2,f=o.col2,d=c[i=o.col],g=(h=u[n=o.row])instanceof Hf?h:null,v=(M=o.getRenderSize(t)).height,m=M.width);var x=l._getBindingColumn(t,n,d),S=x.dataType||h.dataType,T=x.dataMap||h.dataMap,I=y==E.Cell?l._getMapEditor(h,x):null,P=y==E.RowHeader||y==E.Cell&&(!g||l.childItemsPath),D=P&&I==gf.RadioButtons,R=S==rh.Boolean&&!T,k=x.isContentHtml||h.isContentHtml,O=d.pos,A=h.pos,j=l._ptScrl;if(l._useFrozenDiv()&&y==E.Cell&&!l.editRange)i<c.frozen&&p>=u.frozen?A+=j.y:n<u.frozen&&f>=c.frozen&&(O+=j.x);else{var M=l._szClient;p<u.frozen&&(A=Math.min(A,M.height),v=Math.min(v,Math.max(0,M.height-A)),A-=j.y),f<c.frozen&&(O=Math.min(O,M.width),m=Math.min(m,Math.max(0,M.width-O)),O-=j.x)}a?C.right=O+"px":C.left=O+"px",p>=u.frozen&&(A-=t._getOffsetY()),C.top=A+"px",C.width=m+"px",C.height=v+"px",C.zIndex="",(n<u.frozen||i<c.frozen)&&(C.zIndex=n<u.frozen&&i<c.frozen?2:1);var H=!1,F=l.alternatingRowStep;if(!F||o&&o.row!=o.row2||(H=h.visibleIndex%(F+1)==0,1==F&&(H=!H)),y==E.Cell)g&&(b+=" wj-group"),H&&(b+=" wj-alt"),(n<u.frozen||i<c.frozen)&&(b+=" wj-frozen"),_&&(b+=" wj-new"),h.cssClass&&(b+=" "+h.cssClass),x.cssClass&&(b+=" "+x.cssClass);else{b+=" wj-header",H&&(b+=" wj-header-alt"),h.cssClass&&y==E.ColumnHeader&&(b+=" "+h.cssClass),x.cssClass&&y==E.RowHeader&&(b+=" "+x.cssClass);var L=!1;y!=E.ColumnHeader&&y!=E.TopLeft||l.allowResizing&lg.Columns&&(L=null!=l._mouseHdl._getResizeCol(t,f)),L||y!=E.RowHeader||l.allowResizing&lg.Rows&&(L=null!=l._mouseHdl._getResizeRow(t,p)),L&&(b+=" wj-big-header")}h.cssClassAll&&(b+=" "+h.cssClassAll),x.cssClassAll&&(b+=" "+x.cssClassAll);var V=wf,N=t.getSelectedState(n,i,o);switch(N!=V.None&&y==E.Cell&&!R&&l.editRange&&l.editRange.contains(n,i)&&(N=V.None),N){case V.Active:b+=" wj-state-active";break;case V.Cursor:b+=" wj-state-selected wj-state-active";break;case V.Selected:b+=" wj-state-multi-selected"}p==u._lastFrozen&&(b+=" wj-frozen-row"),f==c._lastFrozen&&(b+=" wj-frozen-col"),(x.wordWrap||h.wordWrap)&&(b+=" wj-wrap"),(x.multiLine||h.multiLine)&&(b+=" wj-multiline");var z=x.getAlignment(h);z&&(w=" wj-align-"+z);var B=y!=E.ColumnHeader&&y!=E.RowHeader||!l._hasColumnGroups()?null:l._getColumnGroup(n,i);if(B&&B.align&&(w=" wj-align-"+B.align),C.paddingLeft=C.paddingRight=C.paddingTop=C.paddingBottom="",y==E.Cell&&l.rows.maxGroupLevel>-1&&i==c.firstVisibleIndex&&l.treeIndent){var W=g?Math.max(0,g.level):u.maxGroupLevel+1,q=Math.min(l.treeIndent*W+l._cellPadLeft,m-l._cellPadHorz)+"px";a?C.paddingRight=q:C.paddingLeft=q}m<=l._cellPadHorz&&null==r.getAttribute(Wf._WJS_MEASURE)&&(C.paddingLeft=C.paddingRight=0);var U=y==E.Cell&&i==c.firstVisibleIndex&&g&&g.hasChildren&&!Xf(l,n,i);if(U&&(w=""),0!=s){var G=t.getCellData(n,i,!1),Y=t.getCellData(n,i,!0);if(U){var K=tg(g);Y=g.getGroupHeader()||$h(Y),r.innerHTML=K.outerHTML+" "+Y}else if(y!=E.ColumnHeader||p!=l._getSortRowIndex()&&x==d)if(y!=E.RowHeader||Y)if(y!=E.Cell||S!=rh.Boolean||T||g&&!vh(G))if(y==E.Cell&&!D&&Xf(l,n,i)){var J=x.inputType||h.inputType;if(J||(J=S!=rh.Number||T?"text":"tel"),!T&&!x.mask&&!h.mask){var Z=t.getCellData(n,i,!1);_h(Z)&&(Y=function(e,t){var n=Hd._parseNumericFormat(t=t||"n");switch(n.spec){case"d":case"x":break;case"e":t=t.replace(/[0-9]/g,"");break;default:t="p"==n.spec?"P15":"r",n.scale&&(t+=Array(n.scale/3+1).join(","))}return Hd.formatNumber(e,t,!0)}(Z,x.format||h.format))}r.innerHTML=(x.multiLine||h.multiLine)&&"checkbox"!=J?'<textarea wrap="soft"></textarea>':'<input type="'+J+'"/>';var $=r.children[0];id($,"wj-grid-editor wj-form-control"),cd($),k&&T&&!T.isEditable&&(Y=td(Y)),$.value=Y,$.tabIndex=-1,$.required=x.getIsRequired(h),sd($,"aria-required",$.required);var X=x.maxLength||h.maxLength;X&&($.maxLength=X),$.style.textAlign=x.getAlignment(h);var Q=x.mask||h.mask;Q&&($["$WJ-MSKP"]=new Nd($,Q)),l.showPlaceholders&&($.placeholder=x.header),l._edtHdl._edt=$}else{if(D){var ee=[],te=t.getCellData(n,i,!1);T.getDisplayValues(h.dataItem).forEach(function(e){var t=T.getKeyValue(e)==te?" checked":"",n=l.isReadOnly||h.isReadOnly||d.isReadOnly?" disabled":"",i=$h(e);ee.push('<label><input type="radio" tabindex="-1"'+t+n+' value="'+i+'"><span>'+i+"</span></label>")}),r.innerHTML=ee.join(" "),b+=" "+e._WJC_RADIOMAP}if((le=P?x._tpl:null)?$f(le,r,G,Y,h,x):D||(y==E.Cell&&k?r.innerHTML=Y:r.textContent=Y||""),B&&B.collapseTo){var ne=B._rng;if(ne&&(y==E.ColumnHeader&&ne.columnSpan>1||y==E.RowHeader&&ne.rowSpan>1)){var ie=B.isCollapsed;r.innerHTML='<div role="button" class="'+e._WJC_COLLAPSE+'">'+ng(ie?"plus":"minus")+"</div>&nbsp;"+r.innerHTML,ie&&id(r,"wj-state-collapsed")}}}else{var re=r.firstChild;l._isNativeCheckbox(re)||(r.innerHTML='<label><input type="checkbox" class="'+e._WJC_CHECKBOX+'" tabindex="-1"/><span></span></label>',re=r.querySelector("input")),ld(re,G),re.disabled=!l.canEditCell(n,i),re.disabled&&(re.style.cursor="default"),l.editRange&&l.editRange.contains(n,i)&&(l._edtHdl._edt=re)}else{if(i==l._getEditColumnIndex()){var oe=l.editableCollectionView,se=oe?oe.currentEditItem:null;Y=r.innerHTML=se&&h.dataItem==se?ng("pencil"):h instanceof Gf?ng("asterisk"):""}var le;(le=x._tpl)&&$f(le,r,G,Y,h,x)}else{r.innerHTML=$h(Y);var ae=x.currentSort;ae&&l.showSort&&(b+=" wj-sort-"+("+"==ae?"asc":"desc"),r.innerHTML+="&nbsp;"+function(e){var t=ng("+"==e.currentSort?"up":"down"),n=e.grid.collectionView;if(n&&n.sortDescriptions.length>1){var i=e.currentSortIndex;i>-1&&(t+='<span class="wj-sort-index">'+(i+1)+"</span>")}return t}(x)),l.allowPinning&&yd(l.hostElement,r)&&eg(r,i<l.frozenColumns)}if(I==gf.DropDownList&&l.showDropDown&&l.canEditCell(n,i)&&Jf()){var ue=Qf();r.insertBefore(ue,r.firstChild),Xf(l,n,i)&&(b+=" wj-hasdropdown")}}y!=E.RowHeader&&y!=E.ColumnHeader||sd(r,"draggable",(y==E.RowHeader?!g&&!_&&h.allowDragging&&0!=(l.allowDragging&ug.Rows):d.allowDragging&&0!=(l.allowDragging&ug.Columns))?"true":null),r.className!=(b+=w)&&(r.className=b);var ce=r.style;for(var he in C)ce[he]!==C[he]&&(ce[he]=C[he]);if(l._edtHdl._edt&&l._edtHdl._edt.parentElement==r){var de=l._root,pe=de.getBoundingClientRect(),fe=r.getBoundingClientRect(),ge=pe.top+de.clientHeight-fe.top,_e=pe.left+de.clientWidth-fe.left;fe.height>ge&&(r.style.height=ge+"px"),fe.width>_e&&(r.style.width=_e+"px")}if((y==E.Cell||y==E.RowHeader)&&l._getShowErrors()){var me=l._getError(t,n,i);l._edtHdl._setCellError(r,me)}if(l.itemFormatter&&l.itemFormatter(t,n,i,r),l.formatItem.hasHandlers){var ve=e._fmtItemArgs;ve?(ve._p=t,ve._rng.setRange(n,i,p,f),ve._cell=r):ve=e._fmtItemArgs=new Sf(t,new yf(n,i,p,f),r),ve._updateContent=!1!==s,l.onFormatItem(ve)}},e.prototype.disposeCell=function(e){},e.prototype.getEditorValue=function(e){var t=e._edtHdl._edt;if(t instanceof HTMLInputElement)switch(t.type){case"checkbox":return t.checked;case"radio":return t.value}if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){var n=t["$WJ-MSKP"],i=n?n._applyMask():t.value,r=t.maxLength;if(_h(r)&&r>-1&&i.length>r){var o=Md.Globalize.numberFormat["%"]||"%",s=i.length&&i[i.length-1]==o;i=i.substr(0,r),s&&i.indexOf(o)<0&&(i+=o)}return i}return null},e._WJC_RADIOMAP="wj-radio-map",e._WJC_CHECKBOX="wj-cell-check",e._WJC_COLLAPSE="wj-elem-collapse",e._WJC_DROPDOWN="wj-elem-dropdown",e._WJC_PIN="wj-elem-pin",e._tplDdBtn=ig(e._WJC_DROPDOWN,"down"),e._tplCtx={row:null,col:null,value:null,text:null,item:null},e}();function $f(e,t,n,i,r,o){var s=Zf._tplCtx;s.value=n,s.text=i,s.item=r.dataItem,s.row=r,s.col=o;var l=fh(e)?Ah(e,s):e(s,t);null!=l&&(t.innerHTML=l)}function Xf(e,t,n){return e.editRange&&e.editRange.contains(t,n)}function Qf(){var e=Zf._ddBtn;return e||(ad(e=Zf._ddBtn=md(Zf._tplDdBtn),Md.FlexGrid.ariaLabels.toggleDropDown),sd(e,"aria-expanded",!1)),e.cloneNode(!0)}function eg(e,t){var n=md(ig(Zf._WJC_PIN,"pin"));od(n,"wj-state-pinned",t),sd(n,"aria-pressed",t),e.insertBefore(n,e.firstChild)}function tg(e){var t=md('<button class="wj-btn wj-btn-glyph '+Zf._WJC_COLLAPSE+'" type="button" tabindex="-1">'+ng((e.isCollapsed?"":"down-")+(e.grid.rightToLeft?"left":"right"))+"</button>");return ad(t,Md.FlexGrid.ariaLabels.toggleGroup),sd(t,"aria-expanded",!e.isCollapsed),t}function ng(e){return'<span class="wj-glyph-'+e+'"></span>'}function ig(e,t){return'<button class="wj-btn wj-btn-glyph wj-right {cls}" type="button" tabindex="-1">{glyph}</button>'.replace("{cls}",e).replace("{glyph}",ng(t))}var rg,og=function(){function e(e){var t=this;this._rng=null,this._edt=null,this._edItem=null,this._edtCanceled=!1,this._list=null,this._fullEdit=!1,this._evtInput=null,this._evtChange=null,this._cstEdtValue=null,this._validating=!1,this._g=e,this._evtInput=document.createEvent("HTMLEvents"),this._evtInput.initEvent("input",!0,!1),this._evtChange=document.createEvent("HTMLEvents"),this._evtChange.initEvent("change",!0,!1),e.selectionChanging.addHandler(function(n,i){if(t.finishEditing()){var r=e._selHdl.selection.row;if(r!=i.row){var o=e.rows.length;(r>-1&&r<o?e.rows[r].dataItem:null)!=(i.row>-1&&i.row<o?e.rows[i.row].dataItem:null)&&t._commitRowEdits()}}else i.cancel=!0}),e.lostFocus.addHandler(function(){var e=dd();e&&"fixed"==getComputedStyle(e).position?t.finishEditing():t._commitRowEdits()});var n=e.hostElement;e.addEventListener(n,"mousedown",function(n){if(!n.defaultPrevented&&0==n.button&&!e._mouseHdl._szRowCol){var i=e.hitTest(n);i.cellType!=mf.Cell&&i.cellType!=mf.None&&(t.finishEditing()||t.finishEditing(!0))}},!0),e.addEventListener(n,"compositionend",this._keypress.bind(this))}return e.prototype.startEditing=function(e,t,n,i,r){void 0===e&&(e=!0);var o=this._g,s=o._selHdl.selection;if(t=Nh(t,!0,!0),n=fh(n)?o.columns.indexOf(n):Nh(n,!0,!0),null==t&&(t=s.row),null==n&&(n=s.col),null==i&&(i=!0),!this._allowEdit(t,n))return!1;var l=o.getMergedRange(o.cells,t,n,!1);l||(l=new yf(t,n));var a=o.rows[t].dataItem;if(o.scrollIntoView(l.row,l.col,!0),!o.select(l,!0))return!1;if(!o.rows[t]||a!=o.rows[t].dataItem)return!1;if(this.activeEditor){if(l.equals(this._rng))return!0;if(!this.finishEditing())return!1}var u=new xf(o.cells,l,r);if(!o.onBeginningEdit(u))return!1;var c=o.editableCollectionView,h=!1;c&&((h=(a=o.rows[t].dataItem)!=c.currentEditItem)&&o.onRowEditStarting(u),c.editItem(a),h&&(o.onRowEditStarted(u),this._edItem=a));var d=o.rows[t],p=o._getBindingColumn(o.cells,t,o.columns[n]),f=p.dataMap||d.dataMap,g=gf.RadioButtons,_=d.dataMap&&d.dataMapEditor==g||p.dataMap&&p.dataMapEditor==g;if(this._fullEdit=Bh(e),this._rng=l,this._list=null,f&&!_&&!p.editor){var m=f.getDisplayValues(a);(p.isContentHtml||d.isContentHtml)&&(m=m.map(function(e){return td(e)})),this._list=m}if(_){var v=o._activeCell||o.hostElement.querySelector(".wj-cell.wj-state-active");if(v){var y=r?r.target:null;y instanceof HTMLSpanElement&&(y=bd(y,"label")),y instanceof HTMLLabelElement&&(y=y.querySelector("input")),this._edt=y instanceof HTMLInputElement?y:v.querySelector("input"),this._updateRowHeaderCell(t)}}else l.isSingleCell?this._updateEditorCell(t,n,h):o.refresh(!1);var b=this._edt;if(b){if("checkbox"==b.type||"radio"==b.type)this._fullEdit=!1;else if(i){var w=0,C=b.value.length,E=!1,x=Md.Globalize.numberFormat["%"]||"%",S=o.getCellData(t,n,!1);if(_h(S)?E=b.value.indexOf(x)>-1:null==S&&(E=/^p/i.test(p.format))&&b.value.indexOf(x)<0&&(b.value+=x),E){var T=b.value;for(w=0,C=T.length;C>0&&(T[C-1]==x||" "==T[C-1]);)C--;for(;w<C&&T[w]==x;)w++}r&&"keydown"==r.type&&r.keyCode==ih.Space&&(w=C),ud(b,w,C),kc()&&"right"==b.style.textAlign&&(b.style.paddingRight="1px")}o.onPrepareCellForEdit(u)}return i&&!o.containsFocus()&&o.focus(),null!=b&&!b.disabled&&!b.readOnly},e.prototype.finishEditing=function(e){var t=this._edt;if(!t)return this._removeListBox(),!0;var n=this._g,i=this._rng,r=new Tf(n.cells,i),o=n.containsFocus();if(!e){var s=n.hostElement.querySelector(".wj-control.wj-state-focused");if(s){var l=ep.getControl(s);l&&l.containsFocus()&&l.onLostFocus(r)}}if(r.cancel=e,!e&&n.validateEdits&&(p=this._getValidationError())){r.cancel=!0;var a=n.cells.getCellElement(i.row,i.col);a&&(this._setCellError(a,p),r.stayInEditMode=!0)}if(this._cstEdtValue=null,r.data=n.cells.getCellData(i.topRow,i.leftCol,!1),!n.onCellEditEnding(r)&&r.stayInEditMode)return o?setTimeout(function(){t.select()}):t.select(),this._fullEdit=!0,!1;if(!r.cancel){for(var u=this._cstEdtValue,c=u&&!bh(u.value)?u.value:n.cellFactory.getEditorValue(n),h=i.topRow;h<=i.bottomRow&&h<n.rows.length;h++)for(var d=i.leftCol;d<=i.rightCol&&d<n.columns.length;d++){var p;if(!n.cells.setCellData(h,d,c,!0,!1)&&n.validateEdits&&(p=this._getValidationError(!0))){r.cancel=!0;var f=n.cells.getCellElement(i.row,i.col);return f&&(this._setCellError(f,p),r.stayInEditMode=!0),!1}}t.value==this._edtValue&&t.dispatchEvent(this._evtChange)}this._edt=null,this._rng=null,this._list=null,this._edtValue=null,this._edtCanceled=r.cancel,this._removeListBox();var g=bd(t,".wj-cell");return yd(g,dd())&&n._setFocusNoScroll(g),!r.cancel&&r.refresh&&n._refreshOnEdit?n.refresh(!1):this._updateEditorCell(i.row,i.col,!1),o&&n.focus(),n.onCellEditEnded(r),!0},e.prototype._setCustomEditorValue=function(e){this._cstEdtValue={value:e}},e.prototype._setCellError=function(e,t){var n=this._g;""==t&&(t=null),od(e,"wj-state-invalid",null!=t);var i=n.errorTip,r=n.activeEditor;i?(i.setTooltip(e,t),r&&yd(e,r)&&sd(r,"title","")):sd(e,"title",t),r&&e==n.activeCell&&!yd(e,r)&&i&&i.setTooltip(r,t)},Object.defineProperty(e.prototype,"activeEditor",{get:function(){return this._edt},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editRange",{get:function(){return this._rng},enumerable:!0,configurable:!0}),e.prototype.getClipString=function(e,t,n,i){var r,o=this,s=this._g,l=s.selectionMode,a=[],u=0!=(t&Of.CSV),c=u?"\r\n":"\n",h=u?",":"\t",d=0!=(t&Of.InvisibleRows),p=bf,f=null!=e;if(!e&&l!=p.ListBox)for(var g=s.rows,_=0;_<g.length;_++)if(g[_].isSelected){l=p.ListBox;break}if(!e)switch(s._selHdl._expandSelection(),e=s.selection,l){case p.Row:case p.RowRange:case p.ListBox:e.col=0,e.col2=s.columns.length-1;break;case p.MultiRange:var m=s.selectedRanges;if(m.length>1){var v=this._sameCols(m),y=this._sameRows(m);if(v||y){(m=m.slice()).sort(function(e,t){return e.topRow-t.topRow||e.leftCol-t.leftCol});for(var b=0;b<m.length;b++)for(var w=m[b],C=b+1;C<m.length;C++)w.contains(m[C])&&(m.splice(C,1),C--);if(v){var E=[];return m.forEach(function(e){E.push(o.getClipString(e,t,n,i)),n=!1}),E.join(c)}var x;if(y)return m.forEach(function(e){var r=o.getClipString(e,t,n,i).split(c);null==x?(x=r,i=!1):r.forEach(function(e,t){x[t]+=h+e})}),x.join(c)}}}if(n&&e.col>-1&&e.col2>-1&&(r=s.columnHeaders).rows.forEach(function(n,s){if(d||n.isVisible){var l=o._getRowClipString(r,s,e,t,i);a.push(l)}}),e.row>-1&&e.row2>-1)if(r=s.cells,l!=p.ListBox||f){for(Fh(e.bottomRow<r.rows.length,"Row index must be less than the number of rows."),b=e.topRow;b<=e.bottomRow;b++)if(d||r.rows[b].isVisible){var S=this._getRowClipString(r,b,e,t,i);a.push(S)}}else r.rows.forEach(function(n,s){if(n.isSelected&&(d||n.isVisible)){var l=o._getRowClipString(r,s,e,t,i);a.push(l)}});return a.join(c)},e.prototype._getRowClipString=function(e,t,n,i,r){var o=[],s=e.rows[t],l=0!=(i&Of.CSV),a=0!=(i&Of.InvisibleColumns),u=0==(i&Of.Unformatted),c=0!=(i&Of.SkipMerged);if(s.isVisible){if(r)for(var h=e.cellType==mf.ColumnHeader?e.grid.topLeftCells:e.grid.rowHeaders,d=0;d<h.columns.length;d++)if(a||h.columns[d].isVisible){var p=h.getCellData(t,d,!0);c&&this._skipMergedCell(e,null,t,d)&&(p=""),o.push(this._getCellClipString(p,i))}if(n.col>-1&&n.col2>-1)for(Fh(n.rightCol<e.columns.length,"Column index must be less than the number of columns."),d=n.leftCol;d<=n.rightCol;d++)(a||e.columns[d].isVisible)&&(!(p=e.getCellData(t,d,u))&&s instanceof Hf&&d==e.columns.firstVisibleIndex&&(p=td(s.getGroupHeader())),c&&this._skipMergedCell(e,null,t,d)&&(p=""),o.push(this._getCellClipString(p,i)))}return o.join(l?",":"\t")},e.prototype._skipMergedCell=function(e,t,n,i){var r=e.grid.getMergedRange(e,n,i,!1);return!(!r||(t&&(r.row=Math.max(t.topRow,r.row),r.col=Math.max(t.leftCol,r.col)),r.row==n&&r.col==i))},e.prototype._getCellClipString=function(e,t){fh(e)||(e=wh(e)?e.toJSON():null!=e?e.toString():""),e=e.replace(/\t/g," ");var n=0!=(t&Of.QuoteAll);return(n=n||/\n|^"|"$/.test(e))||0==(t&Of.CSV)||(n=e.indexOf(",")>-1),n&&(e='"'+(e=e.replace(/"/g,'""'))+'"'),e},e.prototype._sameRows=function(e){for(var t=e[0],n=1;n<e.length;n++)if(e[n].topRow!=t.topRow||e[n].bottomRow!=t.bottomRow)return!1;return!0},e.prototype._sameCols=function(e){for(var t=e[0],n=1;n<e.length;n++)if(e[n].leftCol!=t.leftCol||e[n].rightCol!=t.rightCol)return!1;return!0},e.prototype.setClipString=function(e,t){var n=this,i=this._g,r=i.editableCollectionView,o=null==t,s=bf;if(o)switch(i._selHdl._expandSelection(),t=i.selection,i.selectionMode){case s.Row:case s.RowRange:case s.ListBox:t.col=0,t.col2=i.columns.length-1;break;case s.MultiRange:var l=i.selectedRanges;if(l.length>1)return r&&r.beginUpdate(),l.forEach(function(t){i.setClipString(e,t)}),r&&r.endUpdate(),void(i.selectedRanges=l)}t=Gh(t,yf);var a=this._parseClipString(Vh(e));!o&&a.length>t.rowSpan&&(a=a.slice(0,t.rowSpan)),this._expandClipRows(a,t);var u=o?new yf(t.topRow,t.leftCol,t.topRow+a.length-1,t.leftCol+a[0].length-1):t,c=new xf(i.cells,u,e);if(!i.onPasting(c))return!1;u=new yf(t.topRow,t.leftCol);var h=new xf(i.cells,new yf(t.topRow,-1)),d=!1,p=0,f=t.topRow,g=i.rows,_=i.columns,m=this._deferPaste(t,a.length);if(i.deferUpdate(function(){var e=-1;r&&m&&(e=r.currentPosition,r.beginUpdate());for(var o=0;o<a.length&&f<g.length;o++,f++){var s=g[f];if(s.isVisible){var l=s.dataItem,c=r?r.currentEditItem:null;c&&l!=c&&(i.onRowEditEnding(h),i.onRowEditEnded(h)),l!=c&&(h._rng.setRange(f,-1),i.onRowEditStarting(h),i.onRowEditStarted(h)),s instanceof Gf&&r&&(m&&(s.dataItem=r.addNew()),h._rng.setRange(i.newRowAtTop?0:f+p,-1),i.onRowEditStarting(h),i.onRowEditStarted(h));for(var v=a[o],y=t.leftCol,b=0;b<v.length&&y<_.length;b++,y++){var w=_[y];if(w.isVisible){if(n._allowEdit(f,y)){var C=v[b],E=C.length;E>1&&'"'==C[0]&&'"'==C[E-1]&&C.indexOf("\n")>-1&&(C=C.substr(1,E-2));var x=w.maxLength||s.maxLength;x&&(C=C.substr(0,x));var S=new xf(i.cells,new yf(f+p,y),C);if(i.onPastingCell(S)){r&&(r.editItem(l),n._edItem=r.currentEditItem);var T=i.getCellData(f,y,!1);i.setCellData(f,y,S.data)&&(S.data=T,i.onPastedCell(S),d=!0)}u.row2=Math.max(u.row2,f+p),u.col2=Math.max(u.col2,y)}}else b--}if(n._edItem&&r instanceof Kd){var I=new oh(Kc.Change,n._edItem,f);r.onCollectionChanged(I)}s instanceof Gf&&r&&m&&(s.dataItem=null,d?(h._rng.setRange(i.newRowAtTop?0:f+p,-1),i.onRowEditEnding(h),i.onRowEditEnded(h),f--,p++,r.commitNew()):r.cancelNew())}else o--}if(r)if(m)r.currentEditItem&&(r.commitEdit(),i.onRowEditEnding(h),i.onRowEditEnded(h)),r.moveCurrentToPosition(e),r.endUpdate(!0);else{var P=r.currentAddItem;!P&&0==t.row&&i.newRowAtTop&&g[0]instanceof Gf&&(P=g[0].dataItem),P&&(r.editItem(P),n._edItem=P)}u.rowSpan>1&&0==u.topRow&&g[0]instanceof Gf&&(u.row=u.row2=0),i.select(u)}),i.onPasted(c),d&&bd(i.hostElement,"form")){var v=document.createEvent("HTMLEvents"),y=md("<input>",i.hostElement);v.initEvent("change",!0,!1),y.dispatchEvent(v),hd(y)}},e.prototype._deferPaste=function(e,t){var n=this._g.rows,i=n.length;if(t>1){if(i>1&&n[0].dataItem!=n[1].dataItem)return!0;if(1==i&&n[0]instanceof Gf)return!0}return!1},e.prototype._parseClipString=function(e){e=(e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).replace(/\n$/,"");var t=0,n=0,i=[];for(t=0;t<e.length;t++){var r='"'==e[t],o=!1,s=!1;for(n=t;n<e.length&&!s;n++){var l=e[n];switch(l){case'"':r&&(o=!o);break;case"\t":case"\n":o||(this._parseClipCell(i,e,t,n,"\n"==l),t=n,n==e.length-1&&(t=n+1),s=!0)}}if(n==e.length){this._parseClipCell(i,e,t,n,!1);break}}return 0==i.length&&i.push([""]),i},e.prototype._parseClipCell=function(e,t,n,i,r){e.length||e.push([]);var o=t.substr(n,i-n),s=o.length;s>2&&'"'==o[0]&&'"'==o[s-1]&&o.indexOf('""')>-1?o=(o=o.substr(1,s-2)).replace(/""/g,'"'):"\t"==o&&(o=""),e[e.length-1].push(o),r&&e.push([])},e.prototype._expandClipRows=function(e,t){for(var n=e.length,i=0,r=0;r<n;r++)i=Math.max(i,e[r].length);for(var o=this._g,s=0,l=0,a=t.topRow;a<=t.bottomRow;a++)o.rows[a].isVisible&&s++;for(var u=t.leftCol;u<=t.rightCol;u++)o.columns[u].isVisible&&l++;if((s>1||l>1)&&(1==s&&(s=n),1==l&&(l=i),l%i==0&&s%n==0)){for(u=i;u<l;u++)for(a=0;a<n;a++)e[a].push(e[a%n][u%i]);for(a=n;a<s;a++)e.push(e[a%n])}},e.prototype._updateEditorCell=function(e,t,n){var i=this._g,r=i.cells.getCellElement(e,t),o=i._useFrozenDiv()&&(e<i.frozenRows||t<i.frozenColumns);!r||o||i._hasPendingUpdates()?i.refresh(!1):i.onUpdatingView(new eh)&&(this._updateCell(r),(n||i._getHasValidation())&&this._updateRowHeaderCell(e),i.onUpdatedView())},e.prototype._updateRowHeaderCell=function(e){var t=this._g;if(t.headersVisibility&kf.Row){var n=t.rowHeaders,i=t._getEditColumnIndex(),r=n.getCellElement(e,i);r&&this._updateCell(r)}},e.prototype._updateCell=function(e){var t=new Kf(e,null),n=Wf._WJS_UPDATING;t.panel&&(id(e,n),t.grid.cellFactory.updateCell(t.panel,t.row,t.col,e,t.range),rd(e,n))},e.prototype._getValidationError=function(e){var t=this,n=this._g,i="";if(n&&this._rng&&!this._validating){var r=this._rng.row,o=this._rng.col,s=n.activeEditor,l=n.cellFactory.getEditorValue(n),a=n.getCellData(r,o,!1);if(e&&(i=n._getError(n.cells,r,o,!0)),!i&&n._getHasValidation()){if(s&&(i=s.validationMessage),!i){var u=n.rows[r];!n._getBindingColumn(n.cells,r,n.columns[o]).getIsRequired(u)||null!=l&&""!=l||(i=this._getRequiredMsg())}!i&&n.setCellData(r,o,l,!0,!1)&&(i=n._getError(n.cells,r,o),n.setCellData(r,o,a,!1,!1))}if(!i){var c=ep.getControl(bd(s,".wj-control"));if(c&&c!=n&&c.invalidInput.hasHandlers){var h=function(e,s){s.cancel&&(i=n._getError(n.cells,r,o,!0)||t._getBadInputMsg(),s.cancel=!1)};this._validating=!0;var d=s.value;c.invalidInput.addHandler(h),c.onLostFocus(),c.invalidInput.removeHandler(h),s.value=d,s.select(),this._validating=!1}}}return i},e.prototype._getRequiredMsg=function(){if(!e._msgRequired){var t=document.createElement("input");t.required=!0,e._msgRequired=t.validationMessage}return e._msgRequired},e.prototype._getBadInputMsg=function(){if(!e._msgBadInput){var t=document.createElement("input");t.pattern="x",t.value="a",e._msgBadInput=t.validationMessage||"Bad Input"}return e._msgBadInput},e.prototype._allowEdit=function(e,t){var n=this._g;if(n.isReadOnly||n.selectionMode==bf.None)return!1;if(n.collectionView&&!n.editableCollectionView)return!1;if(null!=e){if(e<0||e>=n.rows.length)return!1;var i=n.rows[e];if(!i||i.isReadOnly||!i.isVisible)return!1}if(null!=t){if(t<0||t>=n.columns.length)return!1;var r=n._getBindingColumn(n.cells,e,n.columns[t]);if(!r||r.isReadOnly||!r.isVisible)return!1}return!0},e.prototype._commitRowEdits=function(){var e=this._g;if(this.finishEditing()&&this._edItem){var t=e.editableCollectionView;if(t&&(t.currentEditItem||t.currentAddItem)){var n=new xf(e.cells,e.selection);e.onRowEditEnding(n),t.commitEdit(),e.onRowEditEnded(n)}this._edItem=null}},e.prototype._keydown=function(e){var t=this._edt;switch(e.keyCode){case ih.F2:return this._fullEdit=!this._fullEdit,e.preventDefault(),!0;case ih.F4:return this._toggleListBox(e),e.preventDefault(),!0;case ih.Space:return!t||"checkbox"!=t.type||t.disabled||t.readOnly||(ld(t,t.indeterminate||!t.checked),this.finishEditing(),e.preventDefault()),!0;case ih.Enter:if(e.preventDefault(),t&&e.altKey){var n=e.target;if(n instanceof HTMLTextAreaElement&&"soft"==n.wrap){n.style.setProperty("ime-mode","auto","important");var i=n.value,r=n.selectionStart,o=n.selectionEnd;n.value=i.substr(0,r)+"\n"+i.substr(o),ud(n,r+1),n.style.imeMode=""}return!0}return t&&this._lbx?(this._toggleListBox(e),!0):!this.finishEditing();case ih.Tab:return e.preventDefault(),!this.finishEditing();case ih.Escape:return e.preventDefault(),this.finishEditing(!0),!0;case ih.Up:case ih.Down:case ih.Left:case ih.Right:case ih.PageUp:case ih.PageDown:case ih.Home:case ih.End:if(this._lbx)return this._keydownListBox(e);if(e.altKey)switch(e.keyCode){case ih.Up:case ih.Down:return this._toggleListBox(e),e.preventDefault(),!0}if(this._fullEdit)switch(e.keyCode){case ih.PageUp:case ih.PageDown:e.preventDefault()}else if(this.finishEditing())return!1}return!0},e.prototype._keydownListBox=function(e){var t=!0;if(this._lbx)switch(e.keyCode){case ih.Up:e.altKey?this._toggleListBox(e):this._lbx.selectedIndex>0&&this._lbx.selectedIndex--;break;case ih.Down:e.altKey?this._toggleListBox(e):this._lbx.selectedIndex++;break;case ih.Home:case ih.PageUp:this._lbx.selectedIndex=0;break;case ih.End:case ih.PageDown:this._lbx.selectedIndex=this._lbx.collectionView.items.length-1;break;default:t=!1}return!!t&&(e.preventDefault(),!0)},e.prototype._keypress=function(e){if("AltLeft"!=e.code&&"AltRight"!=e.code){var t=this._edt,n=e.charCode||32,i=this._list;if(t&&"checkbox"!=t.type&&dd()==t&&i&&i.length>0&&n>=32){var r=t.selectionStart,o=t.value.substr(0,r);e.target==t&&e.charCode&&(o+=String.fromCharCode(e.charCode),r++);var s=this._findString(i,o,!0);if(s<0&&!this._g.caseSensitiveSearch&&(s=this._findString(i,o,!1)),s>-1){var l=this._lbx;l&&(l.selectedIndex=s),t.value=i[s],ud(t,r,t.value.length),t.dispatchEvent(this._evtInput),e.preventDefault&&e.preventDefault()}}}else e.preventDefault()},e.prototype._findString=function(e,t,n){n||(t=t.toLowerCase());for(var i=0;i<e.length;i++){var r=e[i];if(null!=r&&(r=r.toString(),n||(r=r.toLowerCase()),0==r.indexOf(t)))return i}return-1},e.prototype._toggleListBox=function(e,t){var n=this._g,i=n._selHdl.selection,r=n.isTouching;if(t||(t=i),this._lbx&&(this._removeListBox(),i.intersects(t)))return n.activeEditor?n.activeEditor.focus():n.containsFocus()||n.focus(),!0;if(!t.isValid)return!1;var o=n.rows[t.row],s=n._getBindingColumn(n.cells,t.row,n.columns[t.col]),l=o.dataMap||s.dataMap,a=n._getMapEditor(o,s);if(!l||a!=gf.DropDownList||!Jf())return!1;if(null!=s.editor)return!1;if(!t.intersects(n.editRange)&&!this.startEditing(!0,t.row,t.col,!r,e))return!1;var u=this._lbx=this._createListBox();return requestAnimationFrame(function(){return u.showSelection()}),r&&u.focus(),!0},e.prototype._createListBox=function(){var e=this,t=this._g,n=t.activeEditor,i=this._rng,r=t.rows[i.row],o=t._getBindingColumn(t.cells,i.row,t.columns[i.col]),s=o.isContentHtml||r.isContentHtml,l=o.dataMap||r.dataMap,a=o.dropDownCssClass||r.dropDownCssClass,u=document.createElement("div");this._removeListBox(),id(u,"wj-dropdown-panel wj-grid-listbox"),id(u,a);var c=n?n.value:t.getCellData(i.row,i.col,!0),h=new Up(u,{maxHeight:4*r.renderHeight,isContentHtml:s,itemsSource:l.getDisplayValues(r.dataItem),selectedValue:c});h.addEventListener(u,"keydown",function(n){switch(n.keyCode){case ih.Enter:case ih.Escape:e._removeListBox(),t.focus()}}),h.addEventListener(u,"click",function(){e._removeListBox(),t.focus(),e.finishEditing()}),h.gotFocus.addHandler(function(){h.containsFocus()&&n&&n.focus()}),h.selectedIndexChanged.addHandler(function(){var n=t.activeEditor;n&&(n.value=e._list[h.selectedIndex],n.dispatchEvent(e._evtInput),ud(n,0,n.value.length))});var d=t.cells.getCellElement(i.row,i.col);return d?(ap(u,d,!1,!1,!1),sd(d.querySelector("."+Zf._WJC_DROPDOWN),"aria-expanded",!0)):(ap(u,t.getCellBoundingRect(i.row,i.col)),u[ep._OWNR_KEY]=t.hostElement),h},e.prototype._removeListBox=function(){var e=this._lbx;e&&(this._lbx=null,up(e.hostElement,function(){e.dispose()}))},e._msgRequired="",e._msgBadInput="",e}(),sg=function(){function e(e,t){this._col=Gh(e,jf),this._ctl=t,this._tbx=t.hostElement.querySelector("input"),Fh(this._col instanceof jf,"Invalid Column"),Fh(this._ctl instanceof ep,"Invalid edit control"),Fh(this._tbx instanceof HTMLInputElement,"Input element not found in editor");var n=this._ctl;this._prop=bh(n.value)?bh(n.checkedItems)?bh(n.text)?null:"text":"checkedItems":"value",Fh(null!=this._prop,"value, text properties not found in editor");var i=Jf();i&&(this._isDropDown=n instanceof i.DropDown,this._isComboBox=n instanceof i.ComboBox,this._isAutoComplete=n instanceof i.AutoComplete,this._isInputDateTime=n instanceof i.InputDateTime,this._isInputMask=n instanceof i.InputMask),this._updateFocusBnd=this._updateFocus.bind(this),this._keypressBnd=this._keypress.bind(this),this._keydownBnd=this._keydown.bind(this),this._cmpstartBnd=this._cmpstart.bind(this),this._mousedownBnd=this._mousedown.bind(this),this._connect(),this._col.gridChanged.addHandler(this._connect,this),this._hideEditor(),this._updateFocus()}return Object.defineProperty(e.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this._ctl},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._disconnect(),this._isDropDown&&(this._isDropDown=!1),this._g=this._col=this._ctl=this._tbx=null},e.prototype._connect=function(){var e=this._col?this._col.grid:null;if(e!=this._g&&(this._disconnect(),e)){var t=e.hostElement,n=e.addEventListener.bind(e),i=this._updateFocusBnd;this._g=e,n(t,"keydown",this._keydownBnd,!0),n(t,"keypress",this._keypressBnd,!0),n(t,"mousedown",this._mousedownBnd,!0),n(t,"mouseup",i,!0),n(t,"blur",i,!0),n(t,"focus",i),n(this._tbx,"compositionstart",this._cmpstartBnd),e.selectionChanged.addHandler(i,this),e.prepareCellForEdit.addHandler(this._prepareCellForEdit,this),e.cellEditEnding.addHandler(this._cellEditEnding,this),e.cellEditEnded.addHandler(this._cellEditEnded,this)}},e.prototype._disconnect=function(){var e=this._g;if(e){var t=e.hostElement,n=e.removeEventListener.bind(e),i=this._updateFocusBnd;n(t,"keydown",this._keydownBnd),n(t,"keypress",this._keypressBnd),n(t,"mousedown",this._mousedownBnd),n(t,"mouseup",i),n(t,"blur",i),n(t,"focus",i),n(this._tbx,"compositionstart",this._cmpstartBnd),e.selectionChanged.removeHandler(i,this),e.prepareCellForEdit.removeHandler(this._prepareCellForEdit,this),e.cellEditEnding.removeHandler(this._cellEditEnding,this),e.cellEditEnded.removeHandler(this._cellEditEnded,this),this._g=null}},e.prototype._prepareCellForEdit=function(e,t){if(!t.cancel&&t.getColumn(!0)==this._col){var n=this.grid,i=this._ctl,r=this._tbx,o=this._prop,s=t.range,l=t.data,a=l?l.type:"",u=n.getCellData(s.row,s.col,"text"==o||this._isInputMask),c=!1;switch(this._isComboBox&&(i._oldText="",i.isRequired||(i.selectedIndex=-1,r.value=""),this._isInputDateTime&&i._setDropdown(i._ddDate)),"checkedItems"==o&&(i.showFilterInput&&(i.showFilterInput=!1,i.showFilterInput=!0),null!=u&&0!=u.length||(i[o]=[],i.selectedIndex=0)),null==u&&i.isRequired||(i[o]=u,this._isAutoComplete&&(clearTimeout(i._toSearch),u&&(i.selectedIndex=i._findNext(u,1,-1)))),a){case"keydown":case"mousedown":if((bh(l.keyCode)||l.keyCode==ih.F4||l.altKey)&&(c=this._isDropDown,this._isAutoComplete&&(null==u||fh(u)))){var h=i.collectionView;h&&((h.filter||i._rxHighlight)&&(i._rxHighlight=null,h.filter=null),i.selectedIndex=u?i._findNext(u,1,-1):-1)}}n.showPlaceholders&&!i.placeholder&&(r.placeholder=this._col.header),this._showEditor(),n._edtHdl._fullEdit=!0,0==a.indexOf("key")&&32==l.keyCode&&(ud(r,r.value.length),l.preventDefault()),kc()&&("keypress"==a&&l.key?(setTimeout(function(){r.value=l.key,ud(r,1);var e=document.createEvent("HTMLEvents");e.initEvent("input",!0,!1),r.dispatchEvent(e)}),l.preventDefault()):"compositionstart"==a&&ud(r,r.value.length)),this._isDropDown&&(i.isDroppedDown=c)}},e.prototype._cellEditEnding=function(e,t){if(!t.cancel&&t.getColumn(!0)==this._col){var n=this.grid,i=this._ctl,r=this._prop;if(this._isAutoComplete){var o=i.selectedIndex;if(_h(o)&&o<0){var s=i.collectionView;s&&1==s.items.length?i.selectedIndex=0:this._col.isRequired&&(t.cancel=!0)}}!t.cancel&&r&&n._edtHdl._setCustomEditorValue(i[r])}},e.prototype._cellEditEnded=function(e,t){this._hideEditor(),this._updateFocus()},e.prototype._cmpstart=function(e){var t=this;kc()?setTimeout(function(){t._activateEditor(e)}):this._activateEditor(e)},e.prototype._keypress=function(e){e.defaultPrevented||this.grid.activeEditor||!this._checkColumn(e.target)||e.ctrlKey||e.altKey||e.metaKey||27==e.keyCode||this._activateEditor(e)},e.prototype._keydown=function(e){if(!e.defaultPrevented&&this._checkColumn(e.target))if(this.grid.activeEditor){if(e.keyCode==ih.Enter&&this._isDropDown){var t=this._ctl;t.isDroppedDown&&(t.isDroppedDown=!1,e.preventDefault(),e.stopImmediatePropagation())}}else if(this._isDropDown){var n=e.keyCode;switch(n){case ih.F4:case ih.Up:case ih.Down:(n==ih.F4||e.altKey)&&(this._activateEditor(e),e.preventDefault())}}},e.prototype._checkColumn=function(e){if(yd(e,this._tbx)){var t=this._g,n=t._selHdl.selection;return t._getBindingColumn(t.cells,n.row,t.columns[n.col])==this._col}return!1},e.prototype._mousedown=function(e){if(!e.defaultPrevented&&0==e.button&&!e.shiftKey&&!e.ctrlKey&&!e.metaKey&&this._isDropDown&&wd(e.target,Zf._WJC_DROPDOWN)){var t=this.grid,n=t.hitTest(e);n.getColumn(!0)==this._col&&(t.select(n.range),t.refresh(),this._activateEditor(e),e.preventDefault())}},e.prototype._activateEditor=function(e){var t=this.grid;if(!t.activeEditor){var n=t._selHdl.selection;if(n.isValid)return t.startEditing(!0,n.row,n.col,!0,e)}return!1},e.prototype._showEditor=function(){var t=this.grid,n=t.activeEditor,i=bd(n,".wj-cell");if(i){var r=this._tbx,o=this._ctl.hostElement;xd(o,e._cssVisible),od(r,"wj-grid-ime",!1),i.innerHTML="",i.appendChild(o),t._edtHdl._edt=r,r.select(),r.focus(),n.value=""}},e.prototype._hideEditor=function(){var t=this.grid,n=this._ctl.hostElement,i=this._tbx;this._isDropDown&&(this._ctl.isDroppedDown=!1),i.setCustomValidity("");var r=i.value;i.value=r+" ",i.value=r,xd(n,e._cssHidden),od(i,"wj-grid-ime",!0),t&&n.parentElement!=t._root&&t._root.appendChild(n)},e.prototype._updateFocus=function(){var e=this.grid;if(e&&!e.activeEditor){var t=e.hostElement,n=".wj-flexgrid",i=this._tbx,r=dd(),o=e._getTabIndex();if(bd(r,n)==t)if(bd(i,n)!=t)this._hideEditor();else{var s=e._selHdl.selection,l=e._getBindingColumn(e.cells,s.row,e.columns[s.col]);l&&l==this._col&&e.canEditCell(s.row,s.col)?(i.tabIndex=o,i.select(),i.focus()):i.tabIndex>-1&&(i.tabIndex=-1,r==i&&e.focus(!0))}}},e._cssHidden={position:"fixed",left:-32e3,top:-32e3,width:"1px",height:"1px",overflow:"hidden",border:"none"},e._cssVisible={position:"absolute",left:0,top:0,width:"100%",height:"100%"},e}();!function(e){e[e.None=0]="None",e[e.MoveDown=1]="MoveDown",e[e.MoveAcross=2]="MoveAcross",e[e.Cycle=3]="Cycle",e[e.CycleOut=4]="CycleOut",e[e.CycleEditable=5]="CycleEditable"}(rg||(rg={}));var lg,ag,ug,cg=function(){function e(e){this._kaTab=rg.None,this._kaEnter=rg.MoveDown,this._g=e;var t=e.hostElement;e.addEventListener(t,"keypress",this._keypress.bind(this)),e.addEventListener(t,"keydown",this._keydown.bind(this))}return e.prototype._keydown=function(e){var t=this._g,n=t._edtHdl,i=t.selection,r=e.ctrlKey||e.metaKey,o=e.shiftKey,s=e.altKey,l=e.target,a=e.char||e.key,u=!0;if(!r&&!s&&a&&1==a.length&&bd(l,".wj-cell")&&l.firstElementChild&&(" "!=a||!o)){var c=l.querySelectorAll("."+Zf._WJC_RADIOMAP+" label input");if(c&&c.length){for(var h=-1,d=0;d<c.length;d++)if(c[d].checked){h=d;break}for(a=a.toLowerCase(),d=0;d<c.length;d++){var p=c[(h+d+1)%c.length];if(" "==a||p.value.toLowerCase()[0]==a)return p.click(),void e.preventDefault()}}}if(!t._wantsInput(l)){var f=dh(t.rows[i.row],Hf),g=t.editableCollectionView,_=t._getKeyCode(e),m=Cf,v=bf,y=e.defaultPrevented&&!(l instanceof HTMLInputElement);if((t.isRangeValid(i)&&!y||r&&65==_)&&(!t.activeEditor||!n._keydown(e)||t._isNativeCheckbox(t.activeEditor))){if(t.autoClipboard){if(r&&(67==_||45==_)){var b=new xf(t.cells,i);if(t.onCopying(b)){var w=t.getClipString(null,!1,0!=(t.copyHeaders&kf.Column),0!=(t.copyHeaders&kf.Row))+"\r\n";t._eFocus.focus(),sp.copy(w),t.onCopied(b)}return void e.stopPropagation()}if(r&&86==_||o&&45==_)return t.isReadOnly||sp.paste(function(e){t.setClipString(e)}),void e.stopPropagation()}switch((o||r)&&"Space"==e.code&&(_=ih.Space),_){case ih.Space:if(o&&i.isValid)switch(t.selectionMode){case v.CellRange:case v.MultiRange:case v.Row:case v.RowRange:case v.ListBox:t.select(new yf(i.row,0,i.row,t.columns.length-1),!1)}else if(r&&i.isValid)switch(t.selectionMode){case v.CellRange:case v.MultiRange:t.select(new yf(0,i.col,t.rows.length-1,i.col),!1)}else(u=this._startEditing(!0,e))&&setTimeout(function(){var e=t.activeEditor;e&&(e.disabled||e.readOnly&&!bd(e,".wj-control")?t.finishEditing():"checkbox"==e.type&&(ld(e,e.indeterminate||!e.checked),t.finishEditing()))}),u=!0;break;case 65:if(r)switch(t.selectionMode){case v.None:case v.Cell:break;default:t.selectAll()}else u=!1;break;case ih.Left:r||s?u=!1:i.isValid&&0==i.leftCol&&f&&!f.isCollapsed&&f.hasChildren?f.isCollapsed=!0:this._moveSel(m.None,r?m.Home:m.Prev,o);break;case ih.Right:r||e.altKey?u=!1:i.isValid&&0==i.leftCol&&f&&f.isCollapsed?f.isCollapsed=!1:this._moveSel(m.None,r?m.End:m.Next,o);break;case ih.Up:r?u=!1:e.altKey&&n._toggleListBox(e)?u=!0:this._moveSel(m.Prev,m.None,o);break;case ih.Down:r?u=!1:e.altKey&&n._toggleListBox(e)?u=!0:this._moveSel(m.Next,m.None,o);break;case ih.PageUp:if(this._moveSel(e.altKey?m.Home:m.PrevPage,m.None,o),t.rows.frozen&&t.selection.row<t.rows.frozen){var C=t.scrollPosition;C.y&&(t.scrollPosition=new Td(C.x,0))}break;case ih.PageDown:this._moveSel(e.altKey?m.End:m.NextPage,m.None,o);break;case ih.Home:this._moveSel(r?m.Home:m.None,m.Home,o);break;case ih.End:this._moveSel(r?m.End:m.None,m.End,o);break;case ih.Tab:u=this._performKeyAction(t.keyActionTab,o);break;case ih.Enter:u=this._performKeyAction(t.keyActionEnter,o),!o&&g&&null!=g.currentEditItem&&n._commitRowEdits();break;case ih.Escape:if(u=!1,g&&(g.currentAddItem||g.currentEditItem)){var E=new xf(t.cells,t.selection);E.cancel=!0,t.onRowEditEnding(E),g.currentAddItem&&g.cancelNew(),g.currentEditItem&&g.cancelEdit(),t.onRowEditEnded(E),u=!0}t._mouseHdl.resetMouseState();break;case ih.Delete:case ih.Back:u=this._deleteSel(e);break;case ih.F2:u=this._startEditing(!0,e);break;case ih.F4:u=n._toggleListBox(e);break;default:u=!1}u&&(t.containsFocus()||t.focus(),e.preventDefault(),e.stopPropagation())}}},e.prototype._performKeyAction=function(e,t){var n=Cf;switch(e){case rg.MoveDown:return this._moveSel(t?n.Prev:n.Next,n.None,!1),!0;case rg.MoveAcross:return this._moveSel(n.None,t?n.Prev:n.Next,!1),!0;case rg.Cycle:return this._moveSel(n.None,t?n.PrevCell:n.NextCell,!1),!0;case rg.CycleEditable:return this._moveSel(n.None,t?n.PrevEditableCell:n.NextEditableCell,!1),!0;case rg.CycleOut:var i=this._g.selection;return this._moveSel(n.None,t?n.PrevCell:n.NextCell,!1),!i.equals(this._g.selection)}return!1},e.prototype._keypress=function(e){var t=this,n=this._g;if(!n._wantsInput(e.target)&&!e.defaultPrevented){var i=n._edtHdl;if(n.activeEditor)i._keypress(e);else if(e.charCode>ih.Space&&"AltLeft"!=e.code&&"AltRight"!=e.code)if(this._startEditing(!1,e)&&n.activeEditor){var r=dd();if(r instanceof HTMLInputElement&&"checkbox"!=r.type||r instanceof HTMLTextAreaElement){var o=n._selHdl.selection,s=n.getCellData(o.row,o.col,!0),l=n.getCellData(o.row,o.col,!1),a=Md.Globalize.numberFormat["%"]||"%",u=String.fromCharCode(e.charCode),c=_h(l)&&s.indexOf(a)>-1||""==s&&r.value==a;r.value=c?u+a:u,ud(r,1),r.dispatchEvent(i._evtInput),i._keypress(e),i._edtValue=r.value!=s?r.value:null,e.preventDefault()}}else if(n.autoSearch){var h=!1;if(o=n._selHdl.selection,e.charCode>32||32==e.charCode&&this._search){e.preventDefault(),this._search+=String.fromCharCode(e.charCode),this._toSearch&&clearTimeout(this._toSearch),this._toSearch=setTimeout(function(){t._toSearch=null,t._search=""},ep._SEARCH_DELAY);var d=this._findNext(o.row,o.col);d<0&&this._search.length>1&&(this._search=this._search[this._search.length-1],d=this._findNext(o.row,o.col)),d>-1&&(h=!0,n.select(d,o.col))}h||(this._search="")}}},e.prototype._findNext=function(e,t){var n=this._g,i=n.rows.length;(e<0||1==this._search.length)&&e++;var r=this._search,o=n.caseSensitiveSearch;o||(r=r.toLowerCase());for(var s=n.columns[t].isContentHtml,l=0;l<i;l++){var a=(e+l)%i,u=n.getCellData(a,t,!0).trim();if(s&&(u=td(u)),o||(u=u.toLowerCase()),0==u.indexOf(r))return a}return-1},e.prototype._moveSel=function(e,t,n){var i=this._g;i.selectionMode!=bf.None&&i._selHdl.moveSelection(e,t,n)},e.prototype._deleteSel=function(e){var t=this,n=this._g,i=n.rows,r=n.editableCollectionView,o=n.selection,s=[],l=new yf,a=new Tf(n.cells,l,e),u=bf;if(!n._edtHdl._allowEdit())return!1;if(n.allowDelete&&(null==r||r.canRemove&&!r.isAddingNew&&!r.isEditingItem)&&0==(s=i.filter(function(e){return e.isSelected})).length)switch(n.selectionMode){case u.CellRange:case u.MultiRange:var c=n._getDeleteColumnIndex();n.selectedRanges.forEach(function(e){if(e.leftCol==c&&e.rightCol==n.columns.length-1)for(var t=e.topRow;t>-1&&t<=e.bottomRow;t++){var r=i[t];s.indexOf(r)<0&&s.push(r)}});break;case u.Row:o.topRow>-1&&s.push(i[o.topRow]);break;case u.RowRange:for(var h=o.topRow;h>-1&&h<=o.bottomRow;h++)s.push(i[h])}if(s.length>0){var d=0;if(n.deferUpdate(function(){r&&r.beginUpdate();for(var e=s.length-1;e>=0;e--){var t=s[e];t instanceof Gf||(l.setRange(t.index,-1),n.onDeletingRow(a)&&(r&&t.dataItem?r.remove(t.dataItem):n.rows.removeAt(t.index),d++,n.onDeletedRow(a)))}r&&r.endUpdate(!1)}),d>0){var p=o.topRow;for(p=Math.min(p,n.rows.length-1);p>0&&n.rows[p]instanceof Gf;)p--;o.row=o.row2=p,n.select(o,!1),n.childItemsPath&&r&&r.refresh()}return!0}return 0==s.length&&(n.deferUpdate(function(){var l=n.scrollPosition,a=-1;s=i.filter(function(e){return e.isSelected});var c=n.selectedRanges.length>1||s.length>1||o.isValid&&i[o.row].dataItem!=i[o.row2].dataItem;if(r&&r.beginUpdate(),s.length){var h=new yf(0,0,0,n.columns.length-1);s.forEach(function(n){h.row=h.row2=n.index,t._deleteRange(e,h),a=h.bottomRow})}else t._deleteRange(e,o),a=o.bottomRow,n.selectionMode==u.MultiRange&&n._selHdl.extendedSelection.forEach(function(n){t._deleteRange(e,n),a=n.bottomRow});if(n.select(o,!1),n.scrollPosition=l,r){if(c&&r.currentEditItem){r.commitEdit();var d=new xf(n.cells,new yf(a,-1));n.onRowEditEnding(d),n.onRowEditEnded(d)}r.endUpdate(!1)}}),!0)},e.prototype._deleteRange=function(e,t){for(var n=this._g,i=n.editableCollectionView,r=new yf,o=new Tf(n.cells,r,e),s=new xf(n.cells,new yf(t.topRow,-1)),l=t.topRow;l<=t.bottomRow;l++){var a=n.rows[l];if(!a.isReadOnly)for(var u=t.leftCol;u<=t.rightCol;u++){var c=n._getBindingColumn(n.cells,l,n.columns[u]);if(!c.getIsRequired(a)&&!c.isReadOnly&&n.getCellData(l,u,!0)&&(r.setRange(l,u),o.cancel=!1,n.onBeginningEdit(o))){var h=a.dataItem,d=i?i.currentEditItem:null;d&&h!=d&&(n.onRowEditEnding(s),n.onRowEditEnded(s)),h!=d&&(s._rng.setRange(l,-1),n.onRowEditStarting(s),n.onRowEditStarted(s)),i&&(i.editItem(h),n._edtHdl._edItem=h),n.setCellData(l,u,"",!0,!1),n.onCellEditEnding(o),n.onCellEditEnded(o)}}}},e.prototype._startEditing=function(e,t,n,i){return this._g._edtHdl.startEditing(e,n,i,!0,t)},e}(),hg="wj-state-dragsrc",dg="wj-flexgrid";!function(e){e[e.None=0]="None",e[e.Columns=1]="Columns",e[e.Rows=2]="Rows",e[e.Both=3]="Both",e[e.ColumnsAllCells=4|e.Columns]="ColumnsAllCells",e[e.RowsAllCells=4|e.Rows]="RowsAllCells",e[e.BothAllCells=4|e.Both]="BothAllCells"}(lg||(lg={})),function(e){e[e.None=0]="None",e[e.Headers=1]="Headers",e[e.Cells=2]="Cells",e[e.Both=3]="Both"}(ag||(ag={})),function(e){e[e.None=0]="None",e[e.Columns=1]="Columns",e[e.Rows=2]="Rows",e[e.Both=3]="Both"}(ug||(ug={}));var pg=function(){function e(e){var t=this,n=e.hostElement,i=e.addEventListener.bind(e),r=e.removeEventListener.bind(e);this._g=e,this._dvMarker=md('<div class="wj-marker">&nbsp;</div>'),i(n,"mousedown",function(n){if(e._rcBounds=null,!n.defaultPrevented&&0==n.button){var l=n.target;if(!e.containsFocus()){var a=l instanceof HTMLElement&&l.tabIndex>-1?l:e._eFocus;e._setFocusNoScroll(a)}setTimeout(function(){n.defaultPrevented||e.focus()});var u=wd(l,dg);if(u&&u!=e.hostElement||!e.activeEditor&&e._isInputElement(l)&&!t._hasRadioMap(n)&&!e._isNativeCheckbox(l)){var c=e.hitTest(n),h=mf;switch(c.cellType){case h.Cell:e.select(c.range,!1),l instanceof HTMLElement&&"root"!=l.getAttribute("wj-part")&&l.focus();break;case h.ColumnHeader:case h.ColumnFooter:e.scrollIntoView(-1,c.col);break;case h.RowHeader:e.scrollIntoView(c.row,-1)}return void(kc()&&c.cellType!=h.Cell&&e._isInputElement(l)&&l.focus())}var d=document;r(d,"mousemove"),r(d,"mouseup"),i(d,"mousemove",o),i(d,"mouseup",s),t._isDown=!0,t._mousedown(n)}});var o=function(e){t._mousemove(e)},s=function(e){t._isDown=!1,r(document,"mousemove"),r(document,"mouseup"),t._mouseup(e)};i(n,"mouseenter",function(t){e._rcBounds=null}),i(n,"mousemove",this._hover.bind(this)),i(n,"dblclick",this._dblclick.bind(this)),i(n,"click",this._click.bind(this)),i(n,"selectstart",function(t){e._isInputElement(t.target)||t.preventDefault()}),i(n,"wheel",function(t){if(!t.defaultPrevented&&t.deltaY&&!t.ctrlKey&&!t.metaKey){var n=e._root,i=t.deltaY;if((t.shiftKey?n.scrollWidth>n.clientWidth:n.scrollHeight>n.clientHeight)&&wd(t.target,dg)==e.hostElement){switch(t.deltaMode){case 1:i=e.rows.defaultSize*(i<0?-1:1);break;case 2:i=(t.shiftKey?n.clientWidth:n.clientHeight)*(i<0?-1:1);break;case 0:default:Ic()&&(i=Mh(i,-150,150))}e.containsFocus()||e._eFocus.focus(),e.finishEditing(!1)&&(t.shiftKey?n.scrollLeft+=i:n.scrollTop+=i),t.preventDefault(),t.stopImmediatePropagation()}}}),i(n,"dragstart",this._dragstart.bind(this)),i(n,"dragover",this._dragover.bind(this)),i(n,"dragleave",this._dragover.bind(this)),i(n,"drop",this._drop.bind(this)),i(n,"dragend",this._dragend.bind(this))}return e.prototype.resetMouseState=function(){var e=this._g,t=e.hostElement;this._updating&&(this._updating=!1,e.endUpdate()),this._dragSrc&&rd(this._dragSrc,hg),this._showDragMarker(null),t&&(t.style.cursor=""),Ic()&&this._szRowCol&&e.invalidate(),e.removeEventListener(document,"mousemove"),e.removeEventListener(document,"mouseup"),this._eMouse=null,this._isDown=null,this._htDown=null,this._lbSelState=null,this._szRowCol=null,this._szArgs=null,e._rcBounds=null},e.prototype._mousedown=function(e){var t=this._g,n=e.target,i=t.hitTest(e),r=i.cellType,o=mf,s=e.ctrlKey||e.metaKey;if(this._selDown=t.selection,this._ignoreClick=!1,i.panel==t.cells){if(wd(n,Zf._WJC_DROPDOWN)){var l=t.hitTest(n);return t._edtHdl._toggleListBox(e,l.range),e.preventDefault(),void(this._ignoreClick=!0)}var a=t.editRange;if(a&&a.contains(i.range))return}var u=dd();if(n!=u||!t._isInputElement(n))if(r!=o.None)if(this._htDown=i,this._eMouse=e,null==this._szRowCol){var c=t.allowResizing,h=lg;if((r==o.RowHeader||r==o.TopLeft)&&i.edgeBottom&&c&h.Rows&&this._getResizeRowHt(i))this._ignoreClick=!0;else if((r==o.ColumnHeader||r==o.TopLeft)&&i.edgeRight&&c&h.Columns&&this._getResizeColHt(i))this._ignoreClick=!0;else{var d=t.allowDragging,p=ug;switch(r){case o.Cell:case o.RowHeader:s&&t.selectionMode==bf.ListBox&&(this._lbSelState=t.rows[i.row].isSelected,bd(n,".wj-elem-collapse")&&(this._lbSelState=!1)),this._mouseSelect(e,e.shiftKey),r!=o.RowHeader||d&p.Rows||(e.preventDefault(),t.focus());break;case o.ColumnHeader:t.allowSorting||d&p.Columns||bd(n,"button")||this._mouseSelect(e,e.shiftKey)}}}else{var f=t._eFocus;u!=f&&(f.tabIndex=0,f.focus()),this._ignoreClick=!0,this._handleResizing(e)}else t.finishEditing(),n!=t._root&&n!=t._fCt&&t._edtHdl._commitRowEdits()},e.prototype._mousemove=function(e){if(this._htDown&&!e.defaultPrevented){if(0==e.buttons&&this._eMouse&&e.timeStamp-this._eMouse.timeStamp>600)return void this.resetMouseState();if(this._eMouse=e,this._szRowCol)this._handleResizing(e);else{var t=this._g,n=t.allowDragging,i=ug;switch(this._htDown.cellType){case mf.Cell:this._mouseSelect(e,!0);break;case mf.RowHeader:n&i.Rows||this._mouseSelect(e,!0);break;case mf.ColumnHeader:n&i.Columns||t.allowSorting||this._mouseSelect(e,!0)}}}},e.prototype._mouseup=function(e){var t=this._g;if(!t.isTouching||!(this._dragSrc||e.target instanceof HTMLHtmlElement)){var n=t.hitTest(e),i=this._htDown;if(i&&!e.defaultPrevented&&(this._szArgs&&this._finishResizing(e),!this._szArgs&&n.panel==i.panel&&n.row==i.row&&n.col==i.col)){var r=n.getColumn();if(r&&(!r._getFlag(If.HasTemplate)||r.cellTemplate)){var o=n.target;if(o!=i.target&&o instanceof HTMLElement){if(i.target instanceof HTMLInputElement){var s=n.point,l=i.point;Math.abs(s.x-l.x)+Math.abs(s.y-l.y)<10&&(o=o.querySelector("input")||o)}var a=document.createEvent("Event");for(var u in a.initEvent("click",!0,!0),e)/Key$|X$|Y$|^button|^(x|y|which)$/.test(u)&&(a[u]=e[u]);o.dispatchEvent(a)}}}this.resetMouseState()}},e.prototype._click=function(e){if(this._ignoreClick&&(this._ignoreClick=!1,e.preventDefault()),!e.defaultPrevented){var t=this._g,n=e.target,i=t.hitTest(n),r=dh(n,HTMLInputElement),o="input."+Zf._WJC_CHECKBOX;if(!r){var s=bd(n,"label");s&&(r=s.querySelector(o))}if(!r&&t.bigCheckboxes&&(r=n.querySelector(o)),r!=t.activeEditor&&t._isNativeCheckbox(r)){if(i.panel==t.cells){var l=t.getCellData(i.row,i.col,!1);t.startEditing(!1,i.row,i.col,!1,e)?(t.activeEditor.checked=!l,t.finishEditing(),t.focus()):r.checked=l}return}if(this._hasRadioMap(e))return void this._handleClick(e);var a=e.ctrlKey||e.metaKey;if(t.rows.maxGroupLevel>-1&&wd(n,Zf._WJC_COLLAPSE)){var u=t.rows[i.row];if(i.panel==t.cells&&u instanceof Hf)return void(a?t.collapseGroupsToLevel(u.isCollapsed?u.level+1:u.level):u.isCollapsed=!u.isCollapsed)}if(!a&&!e.shiftKey&&!t.activeEditor&&i.panel==t.cells){var c=t._selHdl.selection;if(c.equals(this._selDown)&&i.range.contains(c))return void t.startEditing(!0,null,null,!0,e)}this._handleClick(e)}},e.prototype._handleClick=function(e){var t=this._g,n=e.target,i=t.hitTest(n),r=e.ctrlKey||e.metaKey,o=i.panel;if(!e.defaultPrevented&&i.grid==t){if(o==t.cells&&this._hasRadioMap(e)){var s=bd(n,"label"),l=s&&s.querySelector("input");return void(l&&!l.disabled&&t.startEditing(!1,i.row,i.col,!1,e)&&t.finishEditing()&&(t._edtHdl._edtCanceled?e.preventDefault():t.setCellData(i.row,i.col,s.textContent,!0,t.refreshOnEdit)))}if(!t._isInputElement(n)){if(o==t.topLeftCells){switch(t.selectionMode){case bf.None:case bf.Cell:break;default:t.selectAll()}return}if(o==t.columnHeaders){if(t.allowPinning&&wd(n,Zf._WJC_PIN))this._clickPin(e,i);else if(wd(e.target,Zf._WJC_COLLAPSE)){if(d=t._getColumnGroup(i.row,i.col))if(r)for(var a=d.isCollapsed,u=d.level,c=[],h=0;h<t.columns.length;h++)(d=t._getColumnGroup(i.row,h))&&d.collapseTo&&d.level==u&&c.indexOf(d)<0&&(c.push(d),d.isCollapsed=!a);else d.isCollapsed=!d.isCollapsed}else n instanceof HTMLSpanElement&&n.parentElement instanceof HTMLLabelElement&&(n=n.parentElement.querySelector("input")),n instanceof HTMLInputElement||this._clickSort(e,i),t.focus();return}if(o==t.rowHeaders){var d;if(wd(e.target,Zf._WJC_COLLAPSE)&&(d=t._getColumnGroup(i.row,i.col)))if(r){a=d.isCollapsed,u=d.level,c=[];for(var p=0;p<t.rows.length;p++)(d=t._getColumnGroup(p,i.col))&&d.collapseTo&&d.level==u&&c.indexOf(d)<0&&(c.push(d),d.isCollapsed=!a)}else d.isCollapsed=!d.isCollapsed;return}if(o==t.cells){if(i.row<0)return void this._clickSort(e,i);if(wd(n,Zf._WJC_COLLAPSE)){var f=t.rows[i.row];return void(f instanceof Hf&&(r?t.collapseGroupsToLevel(f.isCollapsed?f.level+1:f.level):f.isCollapsed=!f.isCollapsed))}wd(n,Zf._WJC_DROPDOWN)&&t._edtHdl._toggleListBox(e,i.range)}}}},e.prototype._hasRadioMap=function(e){var t=e.target;if(bd(t,"label")){var n=wd(t,Zf._WJC_RADIOMAP);return wd(n,dg)==this._g.hostElement}return!1},e.prototype._clickSort=function(e,t){var n=this._g,i=n.allowSorting,r=n.collectionView,o=r?r.sortDescriptions:null,s=e.ctrlKey||e.metaKey,l=e.shiftKey;if(r&&r.canSort&&i!=Df.None){var a=t.panel.columns[t.col],u=n._getBindingColumn(t.panel,t.row,a),c=u?u._getBindingSort():null;if(u.allowSorting&&c){if(a==u){var h=n.getMergedRange(t.panel,t.row,t.col,!1);if(h&&h.columnSpan>1)return}var d=new xf(t.panel,t.range,e);if(n.onSortingColumn(d)){n._edtHdl._commitRowEdits();for(var p=-1,f=null,g=0;g<o.length;g++)if(o[g].property==c){p=g,f=o[g];break}o.deferUpdate(function(){if(s&&l)o.clear();else if(f){var e=s;!e&&n.isTouching&&(e=0==f.ascending),e?o.removeAt(p):o[p]=new sh(c,!f.ascending)}else{i!=Df.MultiColumn&&o.clear();var t=new sh(c,!0);o.push(t)}}),n.onSortedColumn(d)}}}},e.prototype._clickPin=function(e,t){var n=this._g,i=n.columns,r=i.frozen,o=n.allowPinning;o==Rf.Both&&(o=e.shiftKey?Rf.ColumnRange:Rf.SingleColumn);var s=new xf(n.cells,t.range);n.onPinningColumn(s)&&(o==Rf.SingleColumn&&(t.col>=r?(i.moveElement(t.col,r,!1),i.frozen++):(i.moveElement(t.col,r-1,!1),i.frozen--)),o==Rf.ColumnRange&&(i.frozen=t.col+1!=r?t.col+1:0),n.onPinnedColumn(s))},e.prototype._dblclick=function(e){if(!e.defaultPrevented){var t,n=this._g,i=n.hitTest(e),r=e.ctrlKey||e.metaKey,o=i.range,s=i.cellType,l=mf,a=n.selection,u=n.allowResizing,c=lg;if(i.edgeRight&&u&c.Columns){if(s==l.TopLeft)i.panel.columns[i.col].allowResizing&&(t=new xf(i.panel,new yf(-1,i.col)),n.onAutoSizingColumn(t)&&n.onResizingColumn(t)&&(this._ignoreClick=!0,n.autoSizeColumn(i.col,!0),n.onAutoSizedColumn(t),n.onResizedColumn(t),e.preventDefault()));else if(s==l.ColumnHeader||4&u){s==l.ColumnHeader&&r&&a.containsColumn(i.col)&&(o=a);for(var h=s==l.RowHeader||s==l.BottomLeft,d=o.leftCol;d<=o.rightCol;d++)i.panel.columns[d].allowResizing&&(t=new xf(i.panel,new yf(-1,d)),n.onAutoSizingColumn(t)&&n.onResizingColumn(t)&&(this._ignoreClick=!0,n.autoSizeColumn(d,h),n.onResizedColumn(t),n.onAutoSizedColumn(t),e.preventDefault()))}this.resetMouseState()}else if(i.edgeBottom&&u&c.Rows){if(s==l.TopLeft||s==l.BottomLeft)i.getRow().allowResizing&&(h=s==l.TopLeft||null,t=new xf(i.panel,new yf(i.row,-1)),n.onAutoSizingRow(t)&&n.onResizingRow(t)&&(this._ignoreClick=!0,n.autoSizeRow(i.row,h),n.onResizedRow(t),n.onAutoSizedRow(t),e.preventDefault()));else if(s==l.RowHeader||4&u){var p=i.panel;h=p==n.columnHeaders||p==n.columnFooters&&null,r&&a.containsRow(i.row)&&p==n.cells&&(o=a);for(var f=o.topRow;f<=o.bottomRow;f++)p.rows[f].allowResizing&&(t=new xf(p,new yf(f,-1)),n.onAutoSizingRow(t)&&n.onResizingRow(t)&&(this._ignoreClick=!0,n.autoSizeRow(f,h),n.onResizedRow(t),n.onAutoSizedRow(t),e.preventDefault()))}this.resetMouseState()}}},e.prototype._hover=function(e){if(!this._isDown){var t=this._g,n=t.hitTest(e),i="";return this._szRowCol=this._getResizeColHt(n)||this._getResizeRowHt(n),this._szRowCol instanceof jf?i="col-resize":this._szRowCol instanceof Mf&&(i="row-resize"),this._szStart=this._szRowCol?this._szRowCol.renderSize:0,t.hostElement.style.cursor=i,n}return null},e.prototype._getResizeColHt=function(e){var t,n=this._g.allowResizing,i=e.cellType;return n&lg.Columns&&(i==mf.ColumnHeader||i==mf.TopLeft||4&n)&&(e.edgeRight&&(t=e.getColumn()),e.edgeFarRight&&(t=this._getResizeCol(e.panel,e.col)||e.getColumn()),e.edgeLeft&&(t=this._getResizeCol(e.panel,e.col,!0)||t)),t&&t.allowResizing?t:null},e.prototype._getResizeRowHt=function(e){var t,n=this._g.allowResizing,i=e.cellType;return n&lg.Rows&&(i==mf.RowHeader||i==mf.TopLeft||4&n)&&(e.edgeBottom&&(t=e.getRow()),e.edgeFarBottom&&(t=this._getResizeRow(e.panel,e.row)||e.getRow()),e.edgeTop&&(t=this._getResizeRow(e.panel,e.row,!0)||t)),t&&t.allowResizing?t:null},e.prototype._getResizeCol=function(e,t,n){void 0===n&&(n=!1);var i=this._g,r=e.columns;if(n){for(var o=t-1;o>=0;o--)if((s=r[o]).isVisible)return this._asResizable(s);if(r==i.columns&&0!=(i.headersVisibility&kf.Row))for(o=(r=i.rowHeaders.columns).length-1;o>=0;o--)if((s=r[o]).isVisible)return this._asResizable(s);return null}for(o=t+1;o<r.length;o++)if((s=r[o]).isVisible)return this._asResizable(s);if(t==r.length-1&&r==i.rowHeaders.columns)for(r=i.columns,o=0;o<r.length;o++){var s;if((s=r[o]).isVisible)return this._asResizable(s)}return null},e.prototype._getResizeRow=function(e,t,n){void 0===n&&(n=!1);var i=this._g,r=e.rows;if(n){for(var o=t-1;o>=0;o--)if((s=r[o]).isVisible)return this._asResizable(s);if(r==i.rows&&0!=(i.headersVisibility&kf.Column))for(o=(r=i.columnHeaders.rows).length-1;o>=0;o--)if((s=r[o]).isVisible)return this._asResizable(s);return null}for(o=t+1;o<r.length;o++)if((s=r[o]).isVisible)return this._asResizable(s);if(t==r.length-1&&r==i.columnHeaders.rows)for(r=i.rows,o=0;o<r.length;o++){var s;if((s=r[o]).isVisible)return this._asResizable(s)}return null},e.prototype._asResizable=function(e){return 0==e.renderSize&&e.allowResizing?e:null},e.prototype._mouseSelect=function(e,t){var n=this,i=this._g;if(e&&this._htDown&&this._htDown.panel&&i.selectionMode!=bf.None){var r=new Kf(this._htDown.panel,e);this._handleSelection(r,t),!Ac()&&e.button>=0&&e.target!=i._root&&((r=new Kf(i,e)).panel||setTimeout(function(){n._isDown&&n._eMouse&&n._mouseSelect(n._eMouse,t)},100))}},e.prototype._handleResizing=function(t){"mousedown"==t.type&&(Ic()?sd(t.target,"draggable",null):t.preventDefault());var n=this._szRowCol;if(n instanceof jf){var i=this._g,r=Th(t).x,o=Math.round(Math.max(e._SZ_MIN,this._szStart+(r-this._htDown.point.x)*(i.rightToLeft?-1:1)));if(n.renderSize!=o){if(null==this._szArgs){var s=i.rowHeaders.columns.indexOf(n)>-1?i.rowHeaders:i.cells;this._szArgs=new xf(s,new yf(-1,n.index))}this._szArgs.cancel=!1,i.onResizingColumn(this._szArgs)&&(i.deferResizing?this._showResizeMarker(o):n.width=o)}}var l=this._szRowCol;if(l instanceof Mf){i=this._g;var a=Th(t).y;o=Math.round(Math.max(e._SZ_MIN,this._szStart+(a-this._htDown.point.y))),l.renderSize!=o&&(null==this._szArgs&&(s=i.columnHeaders.rows.indexOf(l)>-1?i.columnHeaders:i.columnFooters.rows.indexOf(l)>-1?i.columnFooters:i.cells,this._szArgs=new xf(s,new yf(l.index,-1))),this._szArgs.cancel=!1,i.onResizingRow(this._szArgs)&&(i.deferResizing?this._showResizeMarker(o):l.height=o))}this._szArgs&&t.preventDefault()},e.prototype._dragstart=function(e){var t=this._g,n=this._htDown,i=ug,r=mf;if(n){if(this._dragSrc=null,this._htDrag=null,!this._szRowCol){var o=new xf(n.panel,n.range),s=t.allowDragging,l=n.cellType,a=n.panel.rows;if(n.col>-1&&n.panel.columns[n.col].allowDragging&&(l==r.ColumnHeader||l==r.TopLeft)&&s&i.Columns&&(t.onDraggingColumn(o)?this._dragSrc=e.target:e.preventDefault()),!this._dragSrc&&n.row>-1&&a[n.row].allowDragging){var u=a[n.row];u instanceof Hf||u instanceof Gf||l==r.RowHeader&&s&i.Rows&&(t.onDraggingRow(o)?this._dragSrc=e.target:e.preventDefault())}}this._dragSrc&&e.dataTransfer&&!e.defaultPrevented&&(this._htDrag=n,Nc(e.dataTransfer,"move"),e.stopPropagation(),id(this._dragSrc,hg),t.beginUpdate(),this._updating=!0)}},e.prototype._dragend=function(e){this._dragSrc=null,this._htDrag=null,this.resetMouseState()},e.prototype._dragover=function(e){var t=this._g,n=this._hitTest(e),i=this._dragSrc?this._htDrag:null,r=mf,o=!1;if(i&&n.cellType==i.cellType){var s=new xf(n.panel,n.range,i);n.cellType==r.ColumnHeader?(s.cancel=!t.columns.canMoveElement(i.col,n.col),o=t.onDraggingColumnOver(s)):n.cellType==r.RowHeader?(s.cancel=!t.rows.canMoveElement(i.row,n.row),o=t.onDraggingRowOver(s)):n.cellType==r.TopLeft&&(s.cancel=!t.topLeftCells.columns.canMoveElement(i.col,n.col),o=t.onDraggingColumnOver(s))}if(o?(e.dataTransfer.dropEffect="move",e.preventDefault(),e.stopPropagation(),this._showDragMarker(n)):this._showDragMarker(null),i&&t.autoScroll){var l=t.controlRect,a=t.scrollPosition,u=ep._DRAG_SCROLL_EDGE,c=ep._DRAG_SCROLL_STEP;i.panel==t.columnHeaders?(e.pageX-l.left<u&&(a.x+=c),l.right-e.pageX<u&&(a.x-=c)):i.panel==t.rowHeaders&&(e.pageY-l.top<u&&(a.y+=c),l.bottom-e.pageY<u&&(a.y-=c)),a.equals(t._ptScrl)||(t.scrollPosition=a,t._rcBounds=null)}},e.prototype._drop=function(e){var t=this._g,n=this._hitTest(e),i=this._dragSrc?this._htDrag:null,r=mf;if(i&&n.cellType==i.cellType){var o=t.selection,s=new xf(n.panel,n.range,i);n.cellType==r.ColumnHeader?(t.columns.moveElement(i.col,n.col),t.select(o.row,n.col),t.onDraggedColumn(s)):n.cellType==r.RowHeader?(t.rows.moveElement(i.row,n.row),t.select(n.row,o.col),t.onDraggedRow(s)):n.cellType==r.TopLeft&&(t.topLeftCells.columns.moveElement(i.col,n.col),t.onDraggedColumn(s))}this.resetMouseState()},e.prototype._hitTest=function(e){var t=this._g;return t._rcBounds=null,t.hitTest(e)},e.prototype._showResizeMarker=function(e){var t,n=this._g,i=n._ptScrl,r=this._szArgs.panel.cellType,o=mf,s=this._dvMarker,l=n.cells.hostElement;s.parentElement!=l&&l.appendChild(s),this._szRowCol instanceof jf?(t={left:this._szRowCol.pos+e-1,top:-1e3,right:"",bottom:0,width:3,height:""},r!=o.TopLeft&&r!=o.RowHeader||(t.left-=n._eTL.offsetWidth+i.x),r==o.Cell&&this._szRowCol.index<n.frozenColumns&&(t.left-=i.x),n.rightToLeft&&(t.left=l.clientWidth-t.left-t.width)):(t={left:-1e3,top:this._szRowCol.pos+e-1,right:0,bottom:"",width:"",height:3},r!=o.TopLeft&&r!=o.ColumnHeader||(t.top-=n._eTL.offsetHeight+i.y),r==o.Cell&&this._szRowCol.index<n.frozenRows&&(t.top-=i.y)),xd(s,t)},e.prototype._showDragMarker=function(e){var t=this._dvMarker;if(e&&e.panel){if(!e.range.equals(this._rngTarget)){this._rngTarget=e.range;var n=e.panel.hostElement;t.parentElement!=n&&n.appendChild(t);var i=this._g,r=i._ptScrl,o=mf,s={left:0,top:0,width:6,height:6,right:"",bottom:""};switch(e.cellType){case o.TopLeft:case o.ColumnHeader:var l=e.panel.columns[e.col];s.left=l.pos-s.width/2,s.height=e.panel.height,this._htDown&&e.col>this._htDown.col&&(s.left+=l.renderWidth),e.cellType==o.ColumnHeader&&e.col<i.frozenColumns&&(s.left-=r.x),i.rightToLeft&&(s.left=t.parentElement.clientWidth-s.left-s.width);break;case o.RowHeader:var a=e.getRow();s.top=a.pos-s.height/2,s.width=e.panel.width,e.row>this._htDown.row&&(s.top+=a.renderHeight),e.row<i.frozenRows&&(s.top-=r.y)}xd(t,s)}}else hd(t),this._rngTarget=null},e.prototype._finishResizing=function(t){var n=this._g,i=n.selection,r=this._szArgs,o=this._eMouse,s=o&&(o.ctrlKey||o.metaKey),l=mf;if(r&&!r.cancel){if(r.col>-1){var a=r.col,u=Th(t).x,c=Math.round(Math.max(e._SZ_MIN,this._szStart+(u-this._htDown.point.x)*(this._g.rightToLeft?-1:1)));if(r.panel.columns[a].width=Math.round(c),n.onResizedColumn(r),s&&this._htDown.cellType==l.ColumnHeader&&i.containsColumn(a))for(var h=i.leftCol;h<=i.rightCol;h++)n.columns[h].allowResizing&&h!=a&&(r=new xf(n.cells,new yf(-1,h)),n.onResizingColumn(r)&&(n.columns[h].size=n.columns[a].size,n.onResizedColumn(r)));t.preventDefault()}if(r.row>-1){var d=r.row,p=Th(t).y;if(c=Math.round(Math.max(e._SZ_MIN,this._szStart+(p-this._htDown.point.y))),r.getRow().height=Math.round(c),n.onResizedRow(r),s&&this._htDown.cellType==l.RowHeader&&i.containsRow(d))for(var f=i.topRow;f<=i.bottomRow;f++)n.rows[f].allowResizing&&f!=d&&(r=new xf(n.cells,new yf(f,-1)),n.onResizingRow(r)&&(n.rows[f].size=n.rows[d].size,n.onResizedRow(r)));t.preventDefault()}}},e.prototype._handleSelection=function(e,t){var n=this._g,i=n._selHdl.selection,r=new yf(e.row,e.col),o=mf,s=bf;if(r.isValid)if(null==this._lbSelState){switch(e.cellType){case o.RowHeader:r.col=0,r.col2=n.columns.length-1;break;case o.ColumnHeader:switch(n.selectionMode){case s.Row:case s.Cell:r.row=r.row2=i.row,t=!1;break;default:r.row=0,r.row2=n.rows.length-1}}if(t&&(n.anchorCursor?(r.row=i.row,r.col=i.col):(r.row2=i.row2,r.col2=i.col2),!r.isValid)){var l=this._htDown;l&&(r=new yf(l.row,l.col))}if(n.selectionMode==bf.MultiRange){var a=n._mouseHdl._eMouse,u=a&&(a.ctrlKey||a.metaKey),c=n._selHdl,h=c.selection,d=c.extendedSelection,p=e.panel!=n.cells;bd(a.target,".wj-elem-collapse")&&(u=!1),u?!t&&c._deselectRange(r)?c.selection.isValid&&(r=null):!h.isValid||!p&&h.intersects(r)||(p?this._splitRange(h):[h.clone()]).forEach(function(e){for(var t=!1,n=0;n<d.length&&!t;n++)d[n].equals(e)&&(t=!0);t||d.push(e)}):d.clear()}if(r)switch(n.select(r,!1),e.cellType){case o.RowHeader:n.scrollIntoView(e.row,-1);break;case o.ColumnHeader:n.scrollIntoView(-1,e.col);break;default:n.scrollIntoView(e.row,e.col)}else{var f=new xf(n.cells,new yf(e.row,e.col));n.onSelectionChanging(f),n.onSelectionChanged(f),n.invalidate()}}else n.rows[e.row].isSelected=!this._lbSelState,n.scrollIntoView(e.row,e.col)},e.prototype._splitRange=function(e){var t=this._g,n=t.columns.length,i=t.rows.length,r=[];if(e.columnSpan==n)for(var o=e.topRow;o<=e.bottomRow;o++)r.push(new yf(o,0,o,n-1));else if(e.rowSpan==i)for(var s=e.leftCol;s<=e.rightCol;s++)r.push(new yf(0,s,i-1,s));else r.push(e.clone());return r},e._SZ_MIN=0,e}();Od("wijmo.grid",o);var fg=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function gg(){return Ad("wijmo.input")}function _g(){return Ad("wijmo.grid.detail")}var mg=o&&Zf;mg||(window.wijmo.grid={},window.wijmo.grid.CellFactory=function(){});var vg,yg=function(e){function t(n){var i=e.call(this)||this;if(i._lastApplyTimeStamp=0,i._noApplyLag=!1,i._startingEditing=!1,i._cellStampCounter=0,i._composing=!1,i.grid=n,!t._templateTypes)for(var r in t._templateTypes=[],vg)isNaN(r)&&t._templateTypes.push(r);var o=i;return i._baseCf=n.cellFactory,n.cellFactory=i,i._evtInput=document.createEvent("HTMLEvents"),i._evtInput.initEvent("input",!0,!1),i._evtBlur=document.createEvent("HTMLEvents"),i._evtBlur.initEvent("blur",!1,!1),n.prepareCellForEdit.addHandler(function(e,t){o._noApplyLag=!0}),n.cellEditEnded.addHandler(function(e,i){var r=i.range,s=r.col;(s<0||s<n.columns.length&&!n._getBindingColumn(n.cells,r.row,n.columns[s])[t.getTemplContextProp(vg.CellEdit)])&&(o._editChar=null),setTimeout(function(){o._noApplyLag=!1},300)}),n.beginningEdit.addHandler(function(e,t){o._startingEditing=!0}),n.hostElement.addEventListener("keydown",function(e){o._startingEditing=!1},!0),n.hostElement.addEventListener("keypress",function(e){var t=e.charCode>32?String.fromCharCode(e.charCode):null;t&&bd(e.target,".wj-flexgrid")===n.hostElement&&(!n.activeEditor||o._startingEditing?(o._editChar=t,setTimeout(function(){n.activeEditor||(o._editChar=null)},0)):o._editChar&&(o._editChar+=t))},!0),n.hostElement.addEventListener("compositionstart",function(e){o._composing=!0},!0),n.hostElement.addEventListener("compositionend",function(e){o._composing=!1},!0),i}return fg(t,e),t.prototype.updateCell=function(e,n,i,r,o){var s=this;this._cellStampCounter=(this._cellStampCounter+1)%1e7;var l=r[t._cellStampProp]=this._cellStampCounter;r.style.overflow&&(r.style.overflow="");var a=n,u=i;o&&!o.isSingleCell&&(n=o.row,i=o.col);var c,h=this,d=e.grid,p=d.editRange,f=e.rows[n],g=f.dataItem,_=!1,m=!1,v=!1,y=!1;switch(e.cellType){case mf.Cell:if(p&&p.row===n&&p.col===i)c=vg.CellEdit,m=v=!0;else if(f instanceof Hf){var b=!((y=g instanceof Jd)||f.hasChildren);i==e.columns.firstVisibleIndex?c=b?vg.Cell:vg.GroupHeader:(c=b?vg.Cell:vg.Group,m=!0)}else f instanceof Gf?c=vg.NewCellTemplate:_g()&&_g().DetailRow&&f instanceof _g().DetailRow||(c=vg.Cell);break;case mf.ColumnHeader:c=vg.ColumnHeader;break;case mf.RowHeader:c=d.collectionView&&d.collectionView.currentEditItem===g?vg.RowHeaderEdit:vg.RowHeader,_=!0;break;case mf.TopLeft:c=vg.TopLeft,_=!0;break;case mf.ColumnFooter:c=vg.ColumnFooter,m=!0;break;case mf.BottomLeft:c=vg.BottomLeft,_=!0}var w=!1;if(null!=c){var C=y&&c==vg.GroupHeader?d.getColumn(g.groupDescription.propertyName):i>=0&&i<e.columns.length?d._getBindingColumn(e,n,e.columns[i]):null;if(C){var E=t.getTemplContextProp,x=E(c),S=(_?d:C)[x];if(S||(c===vg.RowHeaderEdit?(x=E(c=vg.RowHeader),S=d[x]):c!==vg.Group&&c!==vg.GroupHeader||y||(x=E(c=vg.Cell),S=C[x])),S){var T;m&&(T=e.getCellData(n,i,!1)),w=!0;var I=r.getAttribute(Wf._WJS_MEASURE),P=I&&"true"===I.toLowerCase();v&&(this.clearCell(r),this._baseCf.updateCell(e,a,u,r,o,!0));var D,R=v&&d.imeEnabled,k=r[x],O={cell:r,column:C,row:f,panel:e,rng:o,isEdit:v,isImeInput:R,isTrueImeInput:R&&this._composing,templateContext:S,templateCache:k,templateContextProperty:x,cellStamp:l,cellValue:T};if(this.shouldInstantiate(O)){if(v){var A=r.firstElementChild;A&&(R||r.focus(),A.style.display="none")}else this.clearCell(r);this._doDisposeCell(r),this.renderTemplate(O,!0),O.templateCache=k=r[x],D=O.cellBindingsData}else this.renderTemplate(O,!1),D=O.cellBindingsData;if(S.cellOverflow&&(r.style.overflow=S.cellOverflow),P?this.applyImmediately(O):S.autoSizeRows&&!R?this.checkHeight(O):v&&setTimeout(function(){R?s._initImeEditInput(k,S):s._initEditInput(k,S,null)},0),v){h._cellEditorVars=D.localVars;var j=function(e,t){if(d.cellEditEnding.removeHandler(j),!t.stayInEditMode){var n=dd();n&&n.dispatchEvent(h._evtBlur),yd(r,dd())&&r.focus()}if(h._triggerEditorEvents(r),!t.cancel&&!t.stayInEditMode)for(var i=D.localVars,o=0,s=Object.getOwnPropertyNames(D.bindings);o<s.length;o++){var l=s[o];D.bindings[l].setValue(i,D.localVars.values[l])}var a=r.querySelectorAll(".wj-dropdown");[].forEach.call(a,function(e){var t=ep.getControl(e);t&&gg()&&t instanceof gg().DropDown&&(t.isDroppedDown=!1)})},M=function(e,t){d.cellEditEnded.removeHandler(M),h._cellEditorVars=null};d.cellEditEnding.addHandler(j),d.cellEditEnded.addHandler(M)}else this._baseCf.updateCell(e,a,u,r,o,!1)}}}w||(this._doDisposeCell(r),this._baseCf.updateCell(e,a,u,r,o))},t.prototype.getEditorValue=function(t){if(this._cellEditorVars){var n=t.editRange;return n&&n.isValid&&this._triggerEditorEvents(t.cells.getCellElement(n.row,n.col)),this._cellEditorVars.value}return e.prototype.getEditorValue.call(this,t)},t.prototype.disposeCell=function(e){this._doDisposeCell(e)},t.prototype.disposeTemplate=function(e,t,n){t&&(t.rootElement=null,t.column=null,e[t.templateContextProperty]=null,t.templateContextProperty=null)},t.prototype.setBindingsData=function(e,t,n,i,r,o){e.row=t,e.col=n,e.item=i;var s={},l=e.cell||{},a={},u={localVars:l,bindings:a};if(l.row=t,l.col=n,l.item=i,l.value=r,l.values=s,o)for(var c=0,h=Object.getOwnPropertyNames(o);c<h.length;c++){var d=h[c],p=new Zc(o[d]);a[d]=p,s[d]=p.getValue(l)}return e.cell!==l&&(e.cell=l),u},t.prototype.checkHeight=function(e){var n=this;setTimeout(function(){var i=e.cell;if(e.cellStamp===i[t._cellStampProp]){var r=i.scrollHeight,o=e.panel.rows,s=e.row.index,l=e.rng,a=l&&l.rowSpan||1,u=e.isEdit;if(null!=o.maxSize&&(r=Math.min(r,o.maxSize)),s<o.length&&o[s].renderHeight*a<r-1){if(o.defaultSize=r/a,u){var c=n._isFullEdit(),h=n.grid;return h.refresh(),void h.startEditing(c)}}else u&&(e.isImeInput?n._initImeEditInput(e.templateCache,e.templateContext):n._initEditInput(e.templateCache,e.templateContext,null))}},0)},t.prototype.doDisposeCell=function(e){for(var n=t._templateTypes,i=0;i<n.length;i++){var r=t.getTemplContextProp(vg[n[i]]),o=e[r];o&&this.disposeTemplate(e,o,(o.column||this.grid)[r])}},t.getTemplContextProp=function(e){return"$__cellTempl"+vg[e]},t.prototype._doDisposeCell=function(e){this.doDisposeCell(e)},t.prototype._initEditInput=function(e,n,i){var r=this,o=!1!==this.getEditorFocusFlag();if(this.setEditorFocusFlag(null),this._setFullEdit(n),o){var s=this._findInitialInput(e);if(s){var l=function(){s.removeEventListener("focus",l),setTimeout(function(){setTimeout(function(){var e=null!=i?i:r._editChar;e&&(s.value=e,r._editChar=null,t._setSelectionRange(s,e.length,e.length),s.dispatchEvent(r._evtInput))},0)},t._FOCUS_INTERVAL)};s.addEventListener("focus",l),s.focus()}}},t.prototype._initImeEditInput=function(e,n){var i=this,r=dd();if(r&&(r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement)&&nd(r,"wj-grid-ime")){var o=this._findInitialInput(e),s=o&&o.style.color,l=this._composing,a=function(){r.removeEventListener("compositionend",a),xd(r,qf._cssHidden),i.setEditorFocusFlag(!0),o&&(o.style.color=s),i._initEditInput(e,n,l?r.value:null)};if(l){if(r.addEventListener("compositionend",a),o){var u=o.getBoundingClientRect(),c=r.getBoundingClientRect(),h=window.getComputedStyle(r),d=parseFloat(h.left),p=parseFloat(h.top);xd(r,{left:d+u.left-c.left+"px",top:p+u.top-c.top+"px",width:u.width+"px",height:u.height+"px"}),o.style.color="transparent"}}else setTimeout(function(){return a()},t._FOCUS_INTERVAL)}},t.prototype._findInitialInput=function(e){var t=e&&e.rootElement&&e.rootElement.querySelectorAll("input,textarea");if(t)for(var n=0;n<t.length;n++){var i=t[n],r=window.getComputedStyle(i);if("none"!==r.display&&"visible"===r.visibility)return i}return null},t._setSelectionRange=function(e,t,n){if(void 0===n&&(n=t),yd(document.body,e)&&!e.disabled&&"none"!=e.style.display)try{e.setSelectionRange(Nh(t),Nh(n),kc()?null:"backward"),e.focus()}catch(e){}},t.prototype._triggerEditorEvents=function(e){if(e)for(var t=e.querySelectorAll(".wj-control"),n=0;n<t.length;n++){var i=ep.getControl(t[n]);i&&this.flushPendingEvents(i)}},t.prototype._isFullEdit=function(){var e=this.grid;return!e.activeEditor||e._edtHdl._fullEdit},t.prototype._setFullEdit=function(e){var t=this.grid;e.forceFullEdit&&t.activeEditor&&(t._edtHdl._fullEdit=!0)},t._cellStampProp="__wjCellStamp",t._FOCUS_INTERVAL=ep._FOCUS_INTERVAL+20,t}(Zf);mg||(window.wijmo.grid=null),function(e){e[e.Cell=0]="Cell",e[e.CellEdit=1]="CellEdit",e[e.ColumnHeader=2]="ColumnHeader",e[e.RowHeader=3]="RowHeader",e[e.RowHeaderEdit=4]="RowHeaderEdit",e[e.TopLeft=5]="TopLeft",e[e.GroupHeader=6]="GroupHeader",e[e.Group=7]="Group",e[e.NewCellTemplate=8]="NewCellTemplate",e[e.ColumnFooter=9]="ColumnFooter",e[e.BottomLeft=10]="BottomLeft"}(vg||(vg={})),Od("wijmo.interop.grid",s);var bg,wg=["*"],Cg=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Eg=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},xg=function(e,t){return function(n,i){t(n,i,e)}},Sg=vg,Tg={selector:"wj-flex-grid",template:"<div><ng-content></ng-content></div>",inputs:["wjModelProperty","isDisabled","newRowAtTop","allowAddNew","allowDelete","allowDragging","allowMerging","allowResizing","allowSorting","allowPinning","autoScroll","autoRowHeights","autoSizeMode","autoGenerateColumns","autoSearch","caseSensitiveSearch","quickAutoSize","bigCheckboxes","childItemsPath","groupHeaderFormat","headersVisibility","showSelectedHeaders","showMarquee","showPlaceholders","itemFormatter","isReadOnly","imeEnabled","mergeManager","selectionMode","showGroups","showSort","showDropDown","showAlternatingRows","showErrors","alternatingRowStep","itemValidator","validateEdits","treeIndent","itemsSource","autoClipboard","expandSelectionOnCopyPaste","frozenRows","frozenColumns","cloneFrozenCells","deferResizing","sortRowIndex","editColumnIndex","stickyHeaders","preserveSelectedState","preserveOutlineState","preserveWhiteSpace","keyActionTab","keyActionEnter","rowHeaderPath","virtualizationThreshold","anchorCursor","lazyRender","refreshOnEdit","copyHeaders","columnGroups"],outputs:["initialized","gotFocusNg: gotFocus","lostFocusNg: lostFocus","refreshingNg: refreshing","refreshedNg: refreshed","invalidInputNg: invalidInput","beginningEditNg: beginningEdit","cellEditEndedNg: cellEditEnded","cellEditEndingNg: cellEditEnding","prepareCellForEditNg: prepareCellForEdit","formatItemNg: formatItem","resizingColumnNg: resizingColumn","resizedColumnNg: resizedColumn","autoSizingColumnNg: autoSizingColumn","autoSizedColumnNg: autoSizedColumn","draggingColumnNg: draggingColumn","draggingColumnOverNg: draggingColumnOver","draggedColumnNg: draggedColumn","sortingColumnNg: sortingColumn","sortedColumnNg: sortedColumn","pinningColumnNg: pinningColumn","pinnedColumnNg: pinnedColumn","resizingRowNg: resizingRow","resizedRowNg: resizedRow","autoSizingRowNg: autoSizingRow","autoSizedRowNg: autoSizedRow","draggingRowNg: draggingRow","draggingRowOverNg: draggingRowOver","draggedRowNg: draggedRow","deletingRowNg: deletingRow","deletedRowNg: deletedRow","loadingRowsNg: loadingRows","loadedRowsNg: loadedRows","rowEditStartingNg: rowEditStarting","rowEditStartedNg: rowEditStarted","rowEditEndingNg: rowEditEnding","rowEditEndedNg: rowEditEnded","rowAddedNg: rowAdded","groupCollapsedChangingNg: groupCollapsedChanging","groupCollapsedChangedNg: groupCollapsedChanged","itemsSourceChangingNg: itemsSourceChanging","itemsSourceChangedNg: itemsSourceChanged","selectionChangingNg: selectionChanging","selectionChangedNg: selectionChanged","scrollPositionChangedNg: scrollPositionChanged","updatingViewNg: updatingView","updatedViewNg: updatedView","updatingLayoutNg: updatingLayout","updatedLayoutNg: updatedLayout","pastingNg: pasting","pastedNg: pasted","pastingCellNg: pastingCell","pastedCellNg: pastedCell","copyingNg: copying","copiedNg: copied"],providers:[{provide:$a,useFactory:function(e){return new Lp(e)},multi:!0,deps:["WjComponent"]}]},Ig=function(e){function t(t,n,i,r){var o=e.call(this,Hp.getHostElement(t,n))||this;return o.cdRef=r,o.isInitialized=!1,o._wjBehaviour=Hp.attach(o,t,n,i),new Rg(o,r),o.deferUpdate(function(){if(o.rows.defaultSize<10){var e=o.hostElement,t=getComputedStyle(e),n=getComputedStyle(document.body),i=2*parseInt(t.fontSize&&yd(document.body,e)?t.fontSize:n.fontSize);o.rows.defaultSize=i,o.columns.defaultSize=4*i,o.columnHeaders.rows.defaultSize=i,o.rowHeaders.columns.defaultSize=Math.round(1.25*i)}}),o.created(),o}var n;return Cg(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.prototype.addEventListener=function(t,n,i,r){var o=this;void 0===r&&(r=!1);var s=Hp,l=s.getZone(this);l&&s.outsideZoneEvents[n]?l.runOutsideAngular(function(){e.prototype.addEventListener.call(o,t,n,i,r)}):e.prototype.addEventListener.call(this,t,n,i,r)},t.prototype.startEditing=function(t,n,i,r,o){void 0===t&&(t=!0),this._edtFocus=null;var s=e.prototype.startEditing.call(this,t,n,i,r,o);return s&&(this._edtFocus=r||null==r),s},t.prototype.onCellEditEnding=function(t){return this._edtFocus=null,e.prototype.onCellEditEnding.call(this,t)},t.meta={outputs:Tg.outputs},t.\u0275fac=function(e){return new(e||t)(go(os),go(no),go("WjComponent",12),go(ks))},t.\u0275cmp=We({type:t,selectors:[["wj-flex-grid"]],inputs:{wjModelProperty:"wjModelProperty",isDisabled:"isDisabled",newRowAtTop:"newRowAtTop",allowAddNew:"allowAddNew",allowDelete:"allowDelete",allowDragging:"allowDragging",allowMerging:"allowMerging",allowResizing:"allowResizing",allowSorting:"allowSorting",allowPinning:"allowPinning",autoScroll:"autoScroll",autoRowHeights:"autoRowHeights",autoSizeMode:"autoSizeMode",autoGenerateColumns:"autoGenerateColumns",autoSearch:"autoSearch",caseSensitiveSearch:"caseSensitiveSearch",quickAutoSize:"quickAutoSize",bigCheckboxes:"bigCheckboxes",childItemsPath:"childItemsPath",groupHeaderFormat:"groupHeaderFormat",headersVisibility:"headersVisibility",showSelectedHeaders:"showSelectedHeaders",showMarquee:"showMarquee",showPlaceholders:"showPlaceholders",itemFormatter:"itemFormatter",isReadOnly:"isReadOnly",imeEnabled:"imeEnabled",mergeManager:"mergeManager",selectionMode:"selectionMode",showGroups:"showGroups",showSort:"showSort",showDropDown:"showDropDown",showAlternatingRows:"showAlternatingRows",showErrors:"showErrors",alternatingRowStep:"alternatingRowStep",itemValidator:"itemValidator",validateEdits:"validateEdits",treeIndent:"treeIndent",itemsSource:"itemsSource",autoClipboard:"autoClipboard",expandSelectionOnCopyPaste:"expandSelectionOnCopyPaste",frozenRows:"frozenRows",frozenColumns:"frozenColumns",cloneFrozenCells:"cloneFrozenCells",deferResizing:"deferResizing",sortRowIndex:"sortRowIndex",editColumnIndex:"editColumnIndex",stickyHeaders:"stickyHeaders",preserveSelectedState:"preserveSelectedState",preserveOutlineState:"preserveOutlineState",preserveWhiteSpace:"preserveWhiteSpace",keyActionTab:"keyActionTab",keyActionEnter:"keyActionEnter",rowHeaderPath:"rowHeaderPath",virtualizationThreshold:"virtualizationThreshold",anchorCursor:"anchorCursor",lazyRender:"lazyRender",refreshOnEdit:"refreshOnEdit",copyHeaders:"copyHeaders",columnGroups:"columnGroups"},outputs:{initialized:"initialized",gotFocusNg:"gotFocus",lostFocusNg:"lostFocus",refreshingNg:"refreshing",refreshedNg:"refreshed",invalidInputNg:"invalidInput",beginningEditNg:"beginningEdit",cellEditEndedNg:"cellEditEnded",cellEditEndingNg:"cellEditEnding",prepareCellForEditNg:"prepareCellForEdit",formatItemNg:"formatItem",resizingColumnNg:"resizingColumn",resizedColumnNg:"resizedColumn",autoSizingColumnNg:"autoSizingColumn",autoSizedColumnNg:"autoSizedColumn",draggingColumnNg:"draggingColumn",draggingColumnOverNg:"draggingColumnOver",draggedColumnNg:"draggedColumn",sortingColumnNg:"sortingColumn",sortedColumnNg:"sortedColumn",pinningColumnNg:"pinningColumn",pinnedColumnNg:"pinnedColumn",resizingRowNg:"resizingRow",resizedRowNg:"resizedRow",autoSizingRowNg:"autoSizingRow",autoSizedRowNg:"autoSizedRow",draggingRowNg:"draggingRow",draggingRowOverNg:"draggingRowOver",draggedRowNg:"draggedRow",deletingRowNg:"deletingRow",deletedRowNg:"deletedRow",loadingRowsNg:"loadingRows",loadedRowsNg:"loadedRows",rowEditStartingNg:"rowEditStarting",rowEditStartedNg:"rowEditStarted",rowEditEndingNg:"rowEditEnding",rowEditEndedNg:"rowEditEnded",rowAddedNg:"rowAdded",groupCollapsedChangingNg:"groupCollapsedChanging",groupCollapsedChangedNg:"groupCollapsedChanged",itemsSourceChangingNg:"itemsSourceChanging",itemsSourceChangedNg:"itemsSourceChanged",selectionChangingNg:"selectionChanging",selectionChangedNg:"selectionChanged",scrollPositionChangedNg:"scrollPositionChanged",updatingViewNg:"updatingView",updatedViewNg:"updatedView",updatingLayoutNg:"updatingLayout",updatedLayoutNg:"updatedLayout",pastingNg:"pasting",pastedNg:"pasted",pastingCellNg:"pastingCell",pastedCellNg:"pastedCell",copyingNg:"copying",copiedNg:"copied"},features:[Xo([{provide:"WjComponent",useExisting:se(function(){return n})}].concat(Tg.providers))],ngContentSelectors:wg,decls:2,vars:0,template:function(e,t){1&e&&(Io(),vo(0,"div"),Po(1),yo())},encapsulation:2}),t=n=Eg([,xg(0,ei(os)),xg(1,ei(no)),xg(2,ei("WjComponent")),xg(2,ni()),xg(2,ti()),xg(3,ei(ks))],t)}(Wf),Pg={selector:"wj-flex-grid-column",template:"<div><ng-content></ng-content></div>",inputs:["asyncBindings","wjProperty","name","dataMap","dataType","binding","sortMemberPath","format","cellTemplate","header","width","maxLength","minWidth","maxWidth","align","allowDragging","allowSorting","allowResizing","allowMerging","aggregate","isReadOnly","cssClass","isContentHtml","isSelected","visible","wordWrap","multiLine","mask","inputType","isRequired","showDropDown","dataMapEditor","dropDownCssClass","quickAutoSize","editor"],outputs:["initialized","isSelectedChangePC: isSelectedChange"],providers:[]},Dg=function(e){function t(t,n,i,r){var o=e.call(this)||this;o.cdRef=r,o.isInitialized=!1,o.wjProperty="columns";var s=(o._wjBehaviour=Hp.attach(o,t,n,i)).parentBehavior.directive;return s.autoGenerateColumns&&(s.autoGenerateColumns=!1,s.columns.clear()),o.created(),o}var n;return Cg(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:Pg.outputs,changeEvents:{"grid.selectionChanged":["isSelected"]}},t.\u0275fac=function(e){return new(e||t)(go(os),go(no),go("WjComponent",12),go(ks))},t.\u0275cmp=We({type:t,selectors:[["wj-flex-grid-column"]],inputs:{asyncBindings:"asyncBindings",wjProperty:"wjProperty",name:"name",dataMap:"dataMap",dataType:"dataType",binding:"binding",sortMemberPath:"sortMemberPath",format:"format",cellTemplate:"cellTemplate",header:"header",width:"width",maxLength:"maxLength",minWidth:"minWidth",maxWidth:"maxWidth",align:"align",allowDragging:"allowDragging",allowSorting:"allowSorting",allowResizing:"allowResizing",allowMerging:"allowMerging",aggregate:"aggregate",isReadOnly:"isReadOnly",cssClass:"cssClass",isContentHtml:"isContentHtml",isSelected:"isSelected",visible:"visible",wordWrap:"wordWrap",multiLine:"multiLine",mask:"mask",inputType:"inputType",isRequired:"isRequired",showDropDown:"showDropDown",dataMapEditor:"dataMapEditor",dropDownCssClass:"dropDownCssClass",quickAutoSize:"quickAutoSize",editor:"editor"},outputs:{initialized:"initialized",isSelectedChangePC:"isSelectedChange"},features:[Xo([{provide:"WjComponent",useExisting:se(function(){return n})}].concat(Pg.providers))],ngContentSelectors:wg,decls:2,vars:0,template:function(e,t){1&e&&(Io(),vo(0,"div"),Po(1),yo())},encapsulation:2}),t=n=Eg([,xg(0,ei(os)),xg(1,ei(no)),xg(2,ei("WjComponent")),xg(2,ni()),xg(2,ti()),xg(3,ei(ks))],t)}(jf),Rg=(function(){function e(e,t,n,i,r,o){if(this.viewContainerRef=e,this.templateRef=t,this.elRef=n,this.cdRef=o,this.autoSizeRows=!0,this.forceFullEdit=!0,i instanceof Wf)this.grid=i;else if(i instanceof jf){this.column=i;var s=Hp.getBehavior(i).parentBehavior,l=s.directive;l instanceof Wf||(l=s.parentBehavior.directive),this.grid=l}}var t;t=e,e.prototype.ngOnInit=function(){this.ownerControl=this.column&&this.column.grid===this.grid?this.column:this.grid,this._attachToControl()},e.prototype.ngOnDestroy=function(){this.cellTypeStr&&(this.viewContainerRef.clear(),this.ownerControl[Rg.getTemplContextProp(this.cellType)]=null,this.grid.invalidate())},e.prototype._instantiateTemplate=function(e,t){return Hp.instantiateTemplate(e,this.viewContainerRef,this.templateRef,!1,t)},e.prototype._attachToControl=function(){if(this.cellTypeStr){var e=this.cellType=Yh(this.cellTypeStr,Sg),t=this.ownerControl;t[Rg.getTemplContextProp(e)]=this,t instanceof jf&&(e===Sg.Cell||e===Sg.ColumnHeader||e===Sg.ColumnFooter)&&t._setFlag(If.HasTemplate,!0),this.grid.invalidate()}},e.\u0275fac=function(t){return new(t||e)(go(Bs),go(Hs,8),go(os),go("WjComponent",12),go(no),go(ks))},e.\u0275dir=Je({type:e,selectors:[["","wjFlexGridCellTemplate",""]],inputs:{wjFlexGridCellTemplate:"wjFlexGridCellTemplate",cellTypeStr:["cellType","cellTypeStr"],cellOverflow:"cellOverflow",valuePaths:"valuePaths",autoSizeRows:"autoSizeRows",forceFullEdit:"forceFullEdit"},exportAs:["wjFlexGridCellTemplate"],features:[Xo([{provide:"WjComponent",useExisting:se(function(){return t})}])]}),e=t=Eg([,xg(0,ei(Bs)),xg(1,ei(Hs)),xg(1,ti()),xg(2,ei(os)),xg(3,ei("WjComponent")),xg(3,ni()),xg(3,ti()),xg(4,ei(no)),xg(5,ei(ks))],e)}(),function(e){function t(t,n){var i=e.call(this,t)||this;return i._needsCdCheck=!1,i._gridCdRef=n,t.updatedView.addHandler(function(){i._needsCdCheck&&(i._needsCdCheck=!1,i._gridCdRef.markForCheck())},i),i}return Cg(t,e),t.prototype.shouldInstantiate=function(e){var t=e.templateCache;return null==t||t.column!==e.column||!t.viewRef||t.templateContextProperty!==e.templateContextProperty||e.cell.firstChild!=t.rootElement},t.prototype.renderTemplate=function(e,t){var n=e.row,i=t?{}:e.templateCache.viewRef.context,r=e.templateContext;if(e.cellBindingsData=this.setBindingsData(i,n,e.column,n.dataItem,e.cellValue,r.valuePaths),t){var o=e.cell,s=r._instantiateTemplate(o,i),l=e.templateCache={column:e.column,viewRef:s.viewRef,rootElement:s.rootElement,templateContextProperty:e.templateContextProperty};o[e.templateContextProperty]=l}},t.prototype.setBindingsData=function(t,n,i,r,o,s){return this._needsCdCheck=!0,e.prototype.setBindingsData.call(this,t,n,i,r,o,s)},t.prototype.disposeTemplate=function(t,n,i){if(n&&n.viewRef){if(i){var r=i.viewContainerRef.indexOf(n.viewRef);r>-1&&i.viewContainerRef.remove(r)}n.viewRef=null,e.prototype.disposeTemplate.call(this,t,n,i)}},t.prototype.clearCell=function(e){e.textContent=""},t.prototype.applyImmediately=function(e){e.templateContext.cdRef.detectChanges()},t.prototype.flushPendingEvents=function(e){if(e){var t=Hp.getBehavior(e);t&&t.flushPendingEvents()}},t.prototype.getEditorFocusFlag=function(){return this.grid._edtFocus},t.prototype.setEditorFocusFlag=function(e){this.grid._edtFocus=e},t.prototype.checkHeight=function(t){var n=this;Hp.getZone(this.grid).runOutsideAngular(function(){e.prototype.checkHeight.call(n,t)})},t}(yg)),kg=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ye({type:e}),e.\u0275inj=pe({imports:[[_a]]}),e}(),Og=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();!function(e){e[e.None=0]="None",e[e.Condition=1]="Condition",e[e.Value=2]="Value",e[e.Both=3]="Both"}(bg||(bg={}));var Ag,jg=function(){function e(e,t){this._showIcons=!0,this._showSort=!0,this._defFilterType=bg.Both,this._xValueSearch=!0,this.filterApplied=new Xc,this.editingFilter=new Xc,this.filterChanging=new Xc,this.filterChanged=new Xc,this._filters=[],this._g=Gh(e,Wf,!1),this._g.formatItem.addHandler(this._formatItem.bind(this)),this._g.itemsSourceChanged.addHandler(this.clear.bind(this));var n=this._g.hostElement;e.addEventListener(n,"mousedown",this._mousedown.bind(this),!0),e.addEventListener(n,"click",this._click.bind(this),!0),e.addEventListener(n,"keydown",this._keydown.bind(this),!0),this._g.invalidate(),Hh(this,t)}return Object.defineProperty(e.prototype,"grid",{get:function(){return this._g},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterColumns",{get:function(){return this._filterColumns},set:function(e){this._filterColumns=Uh(e),this.clear()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showFilterIcons",{get:function(){return this._showIcons},set:function(e){e!=this.showFilterIcons&&(this._showIcons=Bh(e),this._g&&this._g.invalidate())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showSortButtons",{get:function(){return this._showSort},set:function(e){this._showSort=Bh(e)},enumerable:!0,configurable:!0}),e.prototype.getColumnFilter=function(e,t){if(void 0===t&&(t=!0),e=this._asColumn(e)){for(var n=0;n<this._filters.length;n++)if(this._filters[n].column==e)return this._filters[n];if(t&&e.binding){var i=new Ng(this,e);return this._filters.push(i),i}}return null},Object.defineProperty(e.prototype,"defaultFilterType",{get:function(){return this._defFilterType},set:function(e){(e=Yh(e,bg,!1))!=this.defaultFilterType&&(this._defFilterType=e,this._g.invalidate(),this.clear())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exclusiveValueSearch",{get:function(){return this._xValueSearch},set:function(e){this._xValueSearch=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterDefinition",{get:function(){var e=this,t={defaultFilterType:this.defaultFilterType,filters:[]};return this._filters.forEach(function(n){var i=n.conditionFilter,r=n.valueFilter,o=r.uniqueValues&&r.uniqueValues.length;if(n&&n.column&&n.column.binding&&(n.isActive||o||n.filterType!=e.defaultFilterType)){var s={binding:n.column.binding};if(i.isActive){var l=i.condition1,a=i.condition2;s={binding:n.column.binding,type:"condition",condition1:{operator:l.operator,value:l.value},and:i.and,condition2:{operator:a.operator,value:a.value}}}else(r.isActive||o)&&(s={binding:n.column.binding,type:"value",uniqueValues:r.uniqueValues,sortValues:r.sortValues,maxValues:r.maxValues,exclusiveValueSearch:r.exclusiveValueSearch,showValues:r.showValues});n.filterType!=e.defaultFilterType&&(s.filterType=n.filterType),t.filters.push(s)}}),JSON.stringify(t)},set:function(e){if(e=Vh(e),this.clear(),e){var t=JSON.parse(e);this.defaultFilterType=t.defaultFilterType;for(var n=function(e){var n=t.filters[e],r=i._g.getColumn(n.binding);r||(r=new jf({binding:n.binding}));var o=i.getColumnFilter(r,!0);if(o)switch(null!=n.filterType&&(o.filterType=Yh(n.filterType,bg)),n.type){case"condition":var s=o.conditionFilter;s.condition1.value=r.dataType==rh.Date?Dh(n.condition1.value,r.dataType,null):n.condition1.value,s.condition1.operator=n.condition1.operator,s.and=n.and,s.condition2.value=r.dataType==rh.Date?Dh(n.condition2.value,r.dataType,null):n.condition2.value,s.condition2.operator=n.condition2.operator;break;case"value":var l=o.valueFilter;l.uniqueValues=n.uniqueValues,["sortValues","maxValues","exclusiveValueSearch"].forEach(function(e){null!=n[e]&&(l[e]=n[e])}),l.showValues=n.showValues}},i=this,r=0;r<t.filters.length;r++)n(r)}this.apply()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeEditor",{get:function(){return ep.getControl(this._divEdt)},enumerable:!0,configurable:!0}),e.prototype.editColumnFilter=function(e,t,n){var i=this,r=this._g;this.closeEditor(),e=this._asColumn(e);var o=new xf(r.cells,new yf(-1,e.index));if(this.onEditingFilter(o)){var s=md('<div class="wj-dropdown-panel"></div>'),l=this.getColumnFilter(e),a=new zg(s,l,this.showSortButtons);if(this._divEdt=s,this._edtCol=e,r.rightToLeft&&(s.dir="rtl"),this.onFilterChanging(o)){o.cancel=!0,a.filterChanged.addHandler(function(){o.cancel=!1,setTimeout(function(){o.cancel||i.apply()})}),a.buttonClicked.addHandler(function(){i.closeEditor(),r.focus(),i.onFilterChanged(o)}),a.lostFocus.addHandler(function(){setTimeout(function(){var e=ep.getControl(i._divEdt);e&&!e.containsFocus()&&i.closeEditor()},10)});var u=t?t.col:e.index,c=r.columns[u];t||c&&c.binding==e.binding||(u=r.selection.leftCol),r._edtHdl._commitRowEdits(),r.scrollIntoView(-1,u,!0);var h=r.columnHeaders,d=t&&t.panel==h?t.row:h.rows.length-1,p=u,f=n||h.getCellElement(d,p),g=f?null:h.getCellBoundingRect(d,p);f?ap(s,f,!1,!1,!1):ap(s,g),this._setAriaExpanded(f,!0),this._setAriaExpanded(r.cells.getCellElement(-1,p),!0);for(var _=a.hostElement.querySelectorAll("input"),m=0;m<_.length;m++){var v=_[m];if(v.offsetHeight>0&&v.tabIndex>-1&&!v.disabled){v.focus();break}}a.containsFocus()||a.focus()}else this._divEdt=this._edtCol=null}},e.prototype._setAriaExpanded=function(t,n){t&&sd(t.querySelector("."+e._WJC_FILTER),"aria-expanded",n)},e.prototype.closeEditor=function(){var e=this._g,t=ep.getControl(this._divEdt),n=this._edtCol;if(t&&up(t.hostElement,function(){t.dispose()}),n){var i=e.columnHeaders,r=i.rows.length?i.getCellElement(i.rows.length-1,n.index):null;this._setAriaExpanded(r,!1),r=e.cells.getCellElement(-1,n.index),this._setAriaExpanded(r,!1)}this._divEdt=null,this._edtCol=null},e.prototype.apply=function(){var e=this._g.collectionView;if(e){var t=this._g.editableCollectionView;t&&(t.commitEdit(),t.commitNew()),e.filter=this._filter.bind(this)}var n=e?e.updateFilterDefinition:null;yh(n)&&n.call(e,this),this.onFilterApplied()},e.prototype.clear=function(){this._filters.length&&(this._filters=[],this.apply())},e.prototype.onFilterApplied=function(e){this.filterApplied.raise(this,e)},e.prototype.onEditingFilter=function(e){return this.editingFilter.raise(this,e),!e.cancel},e.prototype.onFilterChanging=function(e){return this.filterChanging.raise(this,e),!e.cancel},e.prototype.onFilterChanged=function(e){this.filterChanged.raise(this,e)},e.prototype._asColumn=function(e){return fh(e)?this._g.getColumn(e):_h(e)?this._g.columns[e]:Gh(e,jf,!1)},e.prototype._filter=function(t){for(var n=this._filters,i=0;i<n.length;i++){var r=n[i];if(r.column!=e._skipColumn&&!r.apply(t))return!1}return!0},e.prototype._formatItem=function(e,t){if(t.panel==e.columnHeaders){var n=this._g,i=n.getMergedRange(t.panel,t.row,t.col)||new yf(t.row,t.col),r=n.columns[i.col],o=n._getBindingColumn(t.panel,t.row,r),s=t.cell;if(i.row2==t.panel.rows.length-1||r!=o){var l=this.getColumnFilter(o,this.defaultFilterType!=bg.None),a=this._filterColumns;a&&a.length&&a.indexOf(o.binding)<0&&a.indexOf(o.name)<0&&(l=null),l?(od(s,"wj-filter-on",l.isActive),od(s,"wj-filter-off",!l.isActive)):(rd(s,"wj-filter-on"),rd(s,"wj-filter-off")),l&&l.filterType!=bg.None&&(this._showIcons&&this._addFilterButton(o,l,s),0==t.row&&(s=n.cells.getCellElement(-1,t.col))&&this._addFilterButton(r,l,s))}}},e.prototype._addFilterButton=function(t,n,i){var r=e._WJC_FILTER,o=md('<button class="wj-btn wj-btn-glyph wj-right '+r+'" type="button" tabindex="-1"><span class="wj-glyph-filter"></span></button>');ad(o,Md.FlexGridFilter.ariaLabels.edit+" "+t.header),sd(o,"aria-haspopup","dialog"),sd(o,"aria-expanded",!1),sd(o,"aria-describedby",t.describedById),sd(o,"aria-pressed",n.isActive),i.querySelector("."+r)||(1==i.children.length&&(i=i.querySelector("div")||i),i.insertBefore(o,i.firstChild))},e.prototype._mousedown=function(e){this._edtColPrev=this._edtCol},e.prototype._click=function(e){this._toggleEditor(e)&&(e.stopPropagation(),e.preventDefault())},e.prototype._toggleEditor=function(t){var n=this;if(!t.defaultPrevented&&0==t.button)if(wd(t.target,e._WJC_FILTER)){var i=this._g,r=i.hitTest(t.target);if(r.panel||(r=i.hitTest(t)),r.panel==i.columnHeaders||r.panel==i.cells&&-1==r.row){var o=i.getMergedRange(r.panel,r.row,r.col)||new yf(r.row,r.col),s=i._getBindingColumn(r.panel,r.row,i.columns[o.col]);return this._divEdt&&this._edtCol==s?(this.closeEditor(),i.focus()):s!=this._edtColPrev&&setTimeout(function(){n.editColumnFilter(s,r)},this._divEdt?100:0),!0}}else this.closeEditor();return!1},e.prototype._keydown=function(e){if(!e.defaultPrevented&&!e.ctrlKey&&e.altKey&&(e.keyCode==ih.Down||e.keyCode==ih.Up)){var t=this.grid,n=t.selection,i=n.col>-1?t.columns[n.col]:null,r=i?t._getBindingColumn(t.cells,n.row,i):null,o=r&&r.dataMap&&r.dataMapEditor==gf.DropDownList;if(r&&r.editor instanceof ef&&(o=!0),r&&!o){var s=this.getColumnFilter(r,!1);s&&s.filterType!=bg.None&&(this.editColumnFilter(r),e.preventDefault(),e.stopPropagation())}}},e._WJC_FILTER="wj-elem-filter",e}(),Mg=function(){function e(e){this._c1=new Fg(this),this._c2=new Fg(this),this._and=!0,this._col=e}return Object.defineProperty(e.prototype,"condition1",{get:function(){return this._c1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"condition2",{get:function(){return this._c2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"and",{get:function(){return this._and},set:function(e){this._and=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMap",{get:function(){return this._map},set:function(e){this._map=Gh(e,vf,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._c1.isActive||this._c2.isActive},enumerable:!0,configurable:!0}),e.prototype.apply=function(e){var t=this._col,n=this._c1,i=this._c2,r=!1,o=!1;if(!t||!t._binding||!this.isActive)return!0;e=t._binding.getValue(e);var s=this.dataMap||t.dataMap;if(s)e=s.getDisplayValue(e);else if(wh(e)){r=!this._hasTimePart(),o=!this._hasDatePart();var l=Fg._refDateTime;r?e=Dd.fromDateTime(e,l):o&&(e=Dd.fromDateTime(l,e))}else if(_h(e)){var a=Hd,u=t.format,c=a.formatNumber(e,u);e=a.parseFloat(c,u)}var h=n.apply(e,r,o),d=i.apply(e,r,o);return n.isActive&&i.isActive?this._and?h&&d:h||d:n.isActive?h:!i.isActive||d},e.prototype.clear=function(){this._c1.clear(),this._c2.clear(),this.and=!0},e.prototype._hasDatePart=function(){var e=this._col.format;return!e||/[yMd]+/.test(e=Md.Globalize.calendar.patterns[e]||e)},e.prototype._hasTimePart=function(){var e=this._col.format;return!!e&&/[Hmst]+/.test(e=Md.Globalize.calendar.patterns[e]||e)},e.prototype.implementsInterface=function(e){return"IColumnFilter"==e},e}(),Hg=function(e){function t(t,n){var i=e.call(this,t)||this;i._canApply=!1,i.canApplyChanged=new Xc,i._filter=Gh(n,Mg,!1);var r=i.getTemplate();i.applyTemplate("wj-control wj-conditionfilter-editor",r,{_divHdr:"div-hdr",_divCmb1:"div-cmb1",_divVal1:"div-val1",_btnAnd:"btn-and",_btnOr:"btn-or",_spAnd:"sp-and",_spOr:"sp-or",_divCmb2:"div-cmb2",_divVal2:"div-val2"});var o=Md.FlexGridFilter,s=o.ariaLabels;ad(i._btnAnd,s.and),ad(i._btnOr,s.or),vd(i._divHdr,o.header),vd(i._spAnd,o.and),vd(i._spOr,o.or),i._cmb1=i._createOperatorCombo(i._divCmb1,s.op1),i._cmb2=i._createOperatorCombo(i._divCmb2,s.op2),i._val1=i._createValueInput(i._divVal1,s.val1),i._val2=i._createValueInput(i._divVal2,s.val2),i._val1.isDisabled=!0,i._cmb1.selectedIndexChanged.addHandler(function(e,t){i._val1.isDisabled=null==e.selectedValue,i.canApply=!i._val1.isDisabled||!i._val2.isDisabled}),i._val2.isDisabled=!0,i._cmb2.selectedIndexChanged.addHandler(function(e,t){i._val2.isDisabled=null==e.selectedValue,i.canApply=!i._val1.isDisabled||!i._val2.isDisabled});var l=i.hostElement;return i.addEventListener(l,"change",i._btnAndOrChanged.bind(i)),i.addEventListener(l,"keydown",i._keydown.bind(i)),setTimeout(function(){i.updateEditor()}),i}return Og(t,e),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canApply",{get:function(){return this._canApply},set:function(e){e!=this._canApply&&(this._canApply=e,this.onCanApplyChanged())},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){var e=this._filter.condition1,t=this._filter.condition2;this._cmb1.selectedValue=e.operator,this._cmb2.selectedValue=t.operator,this._val1 instanceof lf&&!(this._val1 instanceof cf)?(this._val1.text=Dh(e.value,rh.String),this._val2.text=Dh(t.value,rh.String)):(this._val1.value=e.value,this._val2.value=t.value);var n=this._filter.and;this._checkRadio(this._btnAnd,n),this._checkRadio(this._btnOr,!n)},t.prototype.clearEditor=function(){this._cmb1.selectedValue=this._cmb2.selectedValue=null,this._val1.text=this._val2.text=null,this._checkRadio(this._btnAnd,!0),this._checkRadio(this._btnOr,!1)},Object.defineProperty(t.prototype,"isEditorClear",{get:function(){return null==this._cmb1.selectedValue&&!this._val1.text&&null==this._cmb2.selectedValue&&!this._val2.text},enumerable:!0,configurable:!0}),t.prototype.updateFilter=function(){var e=this._filter.condition1,t=this._filter.condition2;e.operator=this._cmb1.selectedValue,t.operator=this._cmb2.selectedValue,"value"in this._val1?(e.value=this._val1.value,t.value=this._val2.value):(e.value=this._getComboValue(this._val1),t.value=this._getComboValue(this._val2)),this._filter.and=this._btnAnd.checked},t.prototype.onCanApplyChanged=function(e){this.canApplyChanged.raise(this,e)},t.prototype._getComboValue=function(e){return e.selectedIndex>-1?e.selectedValue:e.text},t.prototype._createOperatorCombo=function(e,t){var n=this._filter.column,i=Md.FlexGridFilter,r=i.stringOperators;this._filter.dataMap||n.dataMap||(n.dataType==rh.Date?r=i.dateOperators:n.dataType==rh.Number?r=i.numberOperators:n.dataType==rh.Boolean&&(r=i.booleanOperators));var o=new lf(e,{itemsSource:r,displayMemberPath:"name",selectedValuePath:"op"});return ad(o.inputElement,t),o},t.prototype._createValueInput=function(e,t){var n=this._filter,i=n.column,r=n.dataMap||i.dataMap,o=null,s=rh;return i.dataType==s.Date?(o=n._hasDatePart()?n._hasTimePart()?new hf(e):new rf(e):new cf(e)).format=i.format:i.dataType!=s.Number||r?(o=new lf(e),r?(o.itemsSource=r.getDisplayValues(),o.isEditable=!0,o.caseSensitiveSearch=!!i.grid&&i.grid.caseSensitiveSearch):i.dataType==s.Boolean&&(o.itemsSource=[!0,!1])):(o=new zp(e)).format=i.format,o.isRequired=!1,ad(o.inputElement,t),o},t.prototype._btnAndOrChanged=function(e){var t=e.target==this._btnAnd,n=e.target==this._btnOr;(t||n)&&(this._checkRadio(this._btnAnd,t),this._checkRadio(this._btnOr,n))},t.prototype._checkRadio=function(e,t){e.checked=t,sd(e,"aria-checked",t.toString()),sd(e,"tabindex",t?null:"-1")},t.prototype._keydown=function(e){var t=e.target==this._btnAnd;if(t||e.target==this._btnOr)switch(e.keyCode){case ih.Left:case ih.Right:case ih.Up:case ih.Down:var n=t?this._btnOr:this._btnAnd;n.click(),n.focus(),e.preventDefault()}},t.controlTemplate='<div><div wj-part="div-hdr"></div><div wj-part="div-cmb1"></div><br/><div wj-part="div-val1"></div><br/><div role="radiogroup" style="text-align:center"><label><input wj-part="btn-and" type="radio" role="radio"> <span wj-part="sp-and"></span> </label>&nbsp;&nbsp;&nbsp;<label><input wj-part="btn-or" type="radio" role="radio"> <span wj-part="sp-or"></span> </label></div><div wj-part="div-cmb2"></div><br/><div wj-part="div-val2"></div><br/></div>',t}(ep),Fg=function(){function e(e){this._op=null,this._filter=e}return Object.defineProperty(e.prototype,"operator",{get:function(){return this._op},set:function(e){this._op=Yh(e,Ag,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._val},set:function(e){this._val=e,this._strVal=fh(e)?this._getCaseString(e):null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){switch(this._op){case null:return!1;case Ag.EQ:case Ag.NE:return!0;default:return null!=this._val||null!=this._strVal}},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.operator=null,this.value=null},e.prototype.apply=function(t,n,i){var r=this._strVal||this._val;switch(fh(t)&&(t=this._getCaseString(t)),fh(r)&&null==t&&(t=""),wh(r)&&(n?r=Dd.fromDateTime(r,e._refDateTime):i&&(r=Dd.fromDateTime(e._refDateTime,r))),this._op){case null:return!0;case Ag.EQ:return null!=t&&null!=r?t.valueOf()==r.valueOf():t==r;case Ag.NE:return null!=t&&null!=r?t.valueOf()!=r.valueOf():t!=r;case Ag.GT:return t>r;case Ag.GE:return t>=r;case Ag.LT:return t<r;case Ag.LE:return t<=r;case Ag.BW:return!(null==this._strVal||!fh(t))&&0==t.indexOf(this._strVal);case Ag.EW:return!!(null!=this._strVal&&fh(t)&&t.length>=this._strVal.length)&&t.substr(t.length-this._strVal.length)==r;case Ag.CT:return!(null==this._strVal||!fh(t))&&t.indexOf(this._strVal)>-1;case Ag.NC:return!(null==this._strVal||!fh(t))&&t.indexOf(this._strVal)<0}throw"Unknown operator"},e.prototype._getCaseString=function(e){var t=this._filter.column,n=t?t.grid:null;return n&&n.caseSensitiveSearch?e:e.toLowerCase()},e._refDateTime=new Date(2e3,0,1,0,0,0),e}();!function(e){e[e.EQ=0]="EQ",e[e.NE=1]="NE",e[e.GT=2]="GT",e[e.GE=3]="GE",e[e.LT=4]="LT",e[e.LE=5]="LE",e[e.BW=6]="BW",e[e.EW=7]="EW",e[e.CT=8]="CT",e[e.NC=9]="NC"}(Ag||(Ag={}));var Lg=function(){function e(e){this._values=null,this._filterText=null,this._xValueSearch=!0,this._maxValues=250,this._uniqueValues=null,this._sortValues=!0,this._col=e}return Object.defineProperty(e.prototype,"showValues",{get:function(){return this._values},set:function(e){this._values=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterText",{get:function(){return this._filterText},set:function(e){this._filterText=Vh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exclusiveValueSearch",{get:function(){return this._xValueSearch},set:function(e){this._xValueSearch=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxValues",{get:function(){return this._maxValues},set:function(e){this._maxValues=Nh(e,!1,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"uniqueValues",{get:function(){return this._uniqueValues},set:function(e){this._uniqueValues=Uh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sortValues",{get:function(){return this._sortValues},set:function(e){this._sortValues=Bh(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMap",{get:function(){return this._map},set:function(e){this._map=Gh(e,vf,!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return null!=this._values&&Object.keys(this._values).length>0},enumerable:!0,configurable:!0}),e.prototype.apply=function(e){var t=this.column;return!(t&&t._binding&&this._values&&Object.keys(this._values).length)||(e=t._binding.getValue(e),e=this.dataMap?this.dataMap.getDisplayValue(e)||"":t.dataMap?t.dataMap.getDisplayValue(e)||"":Hd.format(e,t.format),null!=this._values[e])},e.prototype.clear=function(){this.showValues=null,this.filterText=null},e.prototype.getUniqueValues=function(e){void 0===e&&(e=!0);var t=[],n=this.column,i=Hd.format;if(this.uniqueValues)return this.uniqueValues.forEach(function(e){t.push({value:e,text:i(e,n.format)})}),t;var r={},o=n.collectionView,s=o?o.sourceCollection:[];if(e&&o&&o.sourceCollection&&o.filter)try{jg._skipColumn=this._col;for(var l=[],a=0;a<s.length;a++)o.filter(s[a])&&l.push(s[a]);s=l}finally{jg._skipColumn=null}for(a=0;a<s.length;a++){var u=n._binding.getValue(s[a]),c=this.dataMap?this.dataMap.getDisplayValue(u)||"":n.dataMap?n.dataMap.getDisplayValue(u)||"":i(u,n.format);r[c]||(r[c]=!0,t.push({value:u,text:c}))}return t},e.prototype.implementsInterface=function(e){return"IColumnFilter"==e},e}(),Vg=function(e){function t(t,n){var i=e.call(this,t)||this;i._canApply=!1,i.canApplyChanged=new Xc,i._filter=Gh(n,Lg,!1);var r=i.getTemplate();i.applyTemplate("wj-control wj-valuefilter-editor",r,{_divFilter:"div-filter",_cbSelectAll:"cb-select-all",_spSelectAll:"sp-select-all",_divValues:"div-values"}),i._cbSelectAll.tabIndex=0;var o=Md.FlexGridFilter;vd(i._spSelectAll,o.selectAll);var s=i._view=new Kd(null,{sortNulls:Gd.First,filter:i._filterValues.bind(i)});return n.sortValues&&s.sortDescriptions.push(new sh(n.column.dataMap||n.dataMap?"text":"value",n.column.dataType!=rh.Boolean)),s.collectionChanged.addHandler(i._updateSelectAllCheck,i),i._filterText="",i._rxFilter=null,i._cmbFilter=new lf(i._divFilter,{isRequired:!1,placeholder:o.search}),i._lbValues=new Up(i._divValues,{displayMemberPath:"text",checkedMemberPath:"show",itemsSource:i._view,itemFormatter:function(e,t){return t||o.null},checkedItemsChanged:function(e){return i._updateSelectAllCheck()}}),ad(i._cmbFilter.inputElement,o.ariaLabels.search),i._cmbFilter.inputElement.addEventListener("input",i._filterTextChanged.bind(i)),i._cbSelectAll.addEventListener("click",i._cbSelectAllClicked.bind(i)),i.updateEditor(),i._initialItems=i._lbValues.checkedItems,i}return Og(t,e),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canApply",{get:function(){return this._canApply},set:function(e){e!=this._canApply&&(this._canApply=e,this.onCanApplyChanged())},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){var e=this._filter.column,t=this._filter.getUniqueValues(!0);this._lbValues.isContentHtml=e.isContentHtml;var n=this._filter.showValues;if(n&&0!=Object.keys(n).length){for(var i in n)for(var r=0;r<t.length;r++)if(t[r].text==i){t[r].show=!0;break}}else t.forEach(function(e){return e.show=!0});var o=this._filter.filterText||"",s=this._getCaseSensitive();this._cmbFilter.text=o,this._filterText=s?o:o.toLowerCase(),this._rxFilter=o?new RegExp(ed(o),s?"":"i"):null;var l=this._view;l.pageSize=this._filter.maxValues,l.sourceCollection=t},t.prototype.clearEditor=function(e){void 0===e&&(e=!0),this._cmbFilter.text="",this._filterText="",this._rxFilter=null;var t=this._view;t.pageSize=0,t.items.forEach(function(t){t.show=e}),t.moveCurrentTo(-1),t.refresh(),t.pageSize=this._filter.maxValues},Object.defineProperty(t.prototype,"isEditorClear",{get:function(){return!this._filterText&&!this._cbSelectAll.indeterminate},enumerable:!0,configurable:!0}),t.prototype.updateFilter=function(){var e=null,t=this._getItems();if(this._filterText||this._cbSelectAll.indeterminate){e={};for(var n=0;n<t.length;n++){var i=t[n];i.show&&(e[i.text]=!0)}}var r=this._filter;r.showValues=e,r.filterText=this._filterText},t.prototype.onCanApplyChanged=function(e){this.canApplyChanged.raise(this,e)},t.prototype._getCaseSensitive=function(){var e=this._filter.column,t=e?e.grid:null;return t&&t.caseSensitiveSearch},t.prototype._getItems=function(){return this._filter.exclusiveValueSearch?this._view.items:this._view.sourceCollection},t.prototype._filterTextChanged=function(){var e=this;this._toFilter&&clearTimeout(this._toFilter),this._toFilter=setTimeout(function(){var t=e._cmbFilter.text,n=e._getCaseSensitive();if(n||(t=t.toLowerCase()),t!=e._filterText){if(e._filterText=t,e._rxFilter=t?new RegExp(ed(t),n?"":"i"):null,e._view.refresh(),!t){var i=e._initialItems;if(i.length&&e._view.sourceCollection.indexOf(i[0])>-1)return e._lbValues.checkedItems=e._initialItems,void e._updateSelectAllCheck()}e._filter.exclusiveValueSearch?(e._cbSelectAll.checked=!0,e._cbSelectAllClicked()):e._updateSelectAllCheck()}},ep._SEARCH_DELAY)},t.prototype._filterValues=function(e){var t=this._rxFilter;return null==t||null==e||t.test(e.text)},t.prototype._cbSelectAllClicked=function(){for(var e=this._cbSelectAll.checked,t=this._divValues.scrollTop,n=this._getItems(),i=0;i<n.length;i++)n[i].show=e;this._view.refresh(),this._divValues.scrollTop=t},t.prototype._updateSelectAllCheck=function(){for(var e=this._getItems(),t=0,n=0,i=0;i<e.length&&(e[i].show?t++:n++,!t||!n);i++);ld(this._cbSelectAll,t&&n?null:t>0),this.canApply=t>0},t.controlTemplate='<div><div wj-part="div-filter"></div><div class="wj-listbox-item"><label><input wj-part="cb-select-all" type="checkbox"> <span wj-part="sp-select-all"></span></label></div><div wj-part="div-values"></div></div>',t}(ep),Ng=function(){function e(e,t){this._owner=e,this._col=t,this._valueFilter=new Lg(t),this._valueFilter.exclusiveValueSearch=e.exclusiveValueSearch,this._conditionFilter=new Mg(t)}return Object.defineProperty(e.prototype,"filterType",{get:function(){return null!=this._filterType?this._filterType:this._owner.defaultFilterType},set:function(e){if((e=Yh(e,bg,!0))!=this._filterType){var t=this.isActive;this.clear(),this._filterType=e,t?this._owner.apply():this._col.grid&&this._col.grid.invalidate()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataMap",{get:function(){return this.conditionFilter.dataMap||this.valueFilter.dataMap},set:function(e){this.conditionFilter.dataMap=e,this.valueFilter.dataMap=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueFilter",{get:function(){return this._valueFilter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"conditionFilter",{get:function(){return this._conditionFilter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"column",{get:function(){return this._col},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isActive",{get:function(){return this._conditionFilter.isActive||this._valueFilter.isActive},enumerable:!0,configurable:!0}),e.prototype.apply=function(e){return this._conditionFilter.apply(e)&&this._valueFilter.apply(e)},e.prototype.clear=function(){this._valueFilter.clear(),this._conditionFilter.clear()},e.prototype.implementsInterface=function(e){return"IColumnFilter"==e},e}();Ld("FlexGridFilter",{ariaLabels:{edit:"Edit Filter for Column",dialog:"Filter Editor for Column",asc:"Sort Column in Ascending Order",dsc:"Sort Column in Descending Order",search:"Search Item List",op1:"First Condition Operator",val1:"First Condition Value",and:"Require both Conditions",or:"Require either Condition",op2:"Second Condition Operator",val2:"Second Condition Value"},ascending:"\u2191 Ascending",descending:"\u2193 Descending",apply:"Apply",cancel:"Cancel",clear:"Clear",conditions:"Filter by Condition",values:"Filter by Value",search:"Search",selectAll:"Select All",null:"(nothing)",header:"Show items where the value",and:"And",or:"Or",stringOperators:[{name:"(not set)",op:null},{name:"Equals",op:Ag.EQ},{name:"Does not equal",op:Ag.NE},{name:"Begins with",op:Ag.BW},{name:"Ends with",op:Ag.EW},{name:"Contains",op:Ag.CT},{name:"Does not contain",op:Ag.NC}],numberOperators:[{name:"(not set)",op:null},{name:"Equals",op:Ag.EQ},{name:"Does not equal",op:Ag.NE},{name:"Is Greater than",op:Ag.GT},{name:"Is Greater than or equal to",op:Ag.GE},{name:"Is Less than",op:Ag.LT},{name:"Is Less than or equal to",op:Ag.LE}],dateOperators:[{name:"(not set)",op:null},{name:"Equals",op:Ag.EQ},{name:"Is Before",op:Ag.LT},{name:"Is After",op:Ag.GT}],booleanOperators:[{name:"(not set)",op:null},{name:"Equals",op:Ag.EQ},{name:"Does not equal",op:Ag.NE}]});var zg=function(e){function t(t,n,i){void 0===i&&(i=!0);var r=e.call(this,t,null,!0)||this;r.filterChanged=new Xc,r.buttonClicked=new Xc,r._filter=Gh(n,Ng);var o=r.getTemplate();r.applyTemplate("wj-control wj-content wj-columnfiltereditor",o,{_divSort:"div-sort",_btnAsc:"btn-asc",_btnDsc:"btn-dsc",_divType:"div-type",_aVal:"a-val",_aCnd:"a-cnd",_divEdtVal:"div-edt-val",_divEdtCnd:"div-edt-cnd",_btnApply:"btn-apply",_btnCancel:"btn-cancel",_btnClear:"btn-clear"});var s=Md.FlexGridFilter,l=s.ariaLabels,a=r.hostElement,u=r.filter.column,c=u.grid.collectionView;sd(a,"role","dialog"),ad(a,l.dialog+" "+u.header),ad(r._btnAsc,l.asc),ad(r._btnDsc,l.dsc),vd(r._btnAsc,s.ascending),vd(r._btnDsc,s.descending),vd(r._aVal,s.values),vd(r._aCnd,s.conditions),vd(r._btnApply,s.apply),vd(r._btnCancel,s.cancel),vd(r._btnClear,s.clear),r._showFilter(r.filter.conditionFilter.isActive||0==(n.filterType&bg.Value)?bg.Condition:bg.Value),i&&c&&c.canSort||(r._divSort.style.display="none"),r._updateSortButtonState();var h=r._btnClicked.bind(r);return r._btnApply.addEventListener("click",h),r._btnCancel.addEventListener("click",h),r._btnClear.addEventListener("click",h),r._btnAsc.addEventListener("click",h),r._btnDsc.addEventListener("click",h),r._aVal.addEventListener("click",h),r._aCnd.addEventListener("click",h),r.addEventListener(a,"keydown",function(e){if(!e.defaultPrevented){var t=e.target.tagName.match(/^(a|button)$/i);switch(e.keyCode){case ih.Space:t&&(r._btnClicked(e),e.preventDefault());break;case ih.Enter:t?r._btnClicked(e):(r.updateFilter(),r.onFilterChanged(),r.onButtonClicked()),e.preventDefault();break;case ih.Escape:r.onButtonClicked(),e.preventDefault();break;case ih.Tab:pd(r.hostElement,e.shiftKey?-1:1),e.preventDefault()}}}),r.addEventListener(window,"resize",function(){r.isTouching||r._wasTouching||r.onButtonClicked()}),r}return Og(t,e),Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},enumerable:!0,configurable:!0}),t.prototype.updateEditor=function(){this._edtVal&&this._edtVal.updateEditor(),this._edtCnd&&this._edtCnd.updateEditor()},t.prototype.updateFilter=function(){switch(this._getFilterType()){case bg.Value:this._edtVal.updateFilter(),this.filter.conditionFilter.clear();break;case bg.Condition:this._edtCnd.updateFilter(),this.filter.valueFilter.clear()}},t.prototype.onFilterChanged=function(e){this.filterChanged.raise(this,e)},t.prototype.onButtonClicked=function(e){this.buttonClicked.raise(this,e)},t.prototype._showFilter=function(e){var t=this;this._wasTouching=this.isTouching,e==bg.Value&&null==this._edtVal&&(this._edtVal=new Vg(this._divEdtVal,this.filter.valueFilter),this._edtVal.canApplyChanged.addHandler(function(e){Cd(t._btnApply,t._edtVal.canApply)})),e==bg.Condition&&null==this._edtCnd&&(this._edtCnd=new Hg(this._divEdtCnd,this.filter.conditionFilter),this._edtCnd.canApplyChanged.addHandler(function(e){Cd(t._btnApply,t._edtCnd.canApply)})),0!=(e&this.filter.filterType)&&(e==bg.Value?(this._divEdtVal.style.display="",this._divEdtCnd.style.display="none",this._enableLink(this._aVal,!1),this._enableLink(this._aCnd,!0),this._edtVal.focus(),Cd(this._btnApply,this._edtVal.canApply)):(this._divEdtVal.style.display="none",this._divEdtCnd.style.display="",this._enableLink(this._aVal,!0),this._enableLink(this._aCnd,!1),this._edtCnd.focus(),Cd(this._btnApply,this._edtCnd.canApply)));var n=this._divType.style;switch(this.filter.filterType){case bg.None:case bg.Condition:case bg.Value:n.display="none";break;default:n.display=""}},t.prototype._enableLink=function(e,t){od(e,"wj-state-disabled",!t),sd(e,"href",t?"":null),sd(e,"disabled",t?null:"disabled")},t.prototype._updateSortButtonState=function(){var e=this.filter.column,t=e?e.currentSort:"",n="wj-state-active";od(this._btnAsc,n,"+"==t),od(this._btnDsc,n,"-"==t)},t.prototype._getFilterType=function(){return"none"!=this._divEdtVal.style.display?bg.Value:bg.Condition},t.prototype._btnClicked=function(e){var t=this,n=e.target;if(e.preventDefault(),e.stopPropagation(),!nd(n,"wj-state-disabled"))if(n!=this._aVal)if(n!=this._aCnd){if(n==this._btnAsc||n==this._btnDsc){var i=this.filter.column,r=i.sortMemberPath||i.binding,o=i.grid.collectionView.sortDescriptions;o.deferUpdate(function(){o.clear(),o.push(new sh(r,e.target==t._btnAsc))}),this._updateSortButtonState()}n==this._btnApply?(this.updateFilter(),this.onFilterChanged()):n==this._btnClear?this.filter.isActive&&(this.filter.clear(),this.onFilterChanged()):this.updateEditor(),this.onButtonClicked()}else this._showFilter(bg.Condition),pd(this._edtCnd.hostElement,0);else this._showFilter(bg.Value),pd(this._edtVal.hostElement,0)},t.controlTemplate='<div><div wj-part="div-sort" class="wj-sort-buttons"><button wj-part="btn-asc" class="wj-btn"></button>&nbsp;&nbsp;&nbsp;<button wj-part="btn-dsc" class="wj-btn"></button></div><div wj-part="div-type" class="wj-filtertype"><a wj-part="a-cnd" href="" draggable="false"></a>&nbsp;|&nbsp;<a wj-part="a-val" href="" draggable="false"></a></div><div wj-part="div-edt-val" tabindex="-1"></div><div wj-part="div-edt-cnd" tabindex="-1"></div><div style="text-align:right;margin-top:10px"><button wj-part="btn-apply" class="wj-btn"></button>&nbsp;&nbsp;<button wj-part="btn-cancel" class="wj-btn"></button>&nbsp;&nbsp;<button wj-part="btn-clear" class="wj-btn"></button></div></div>',t}(ep);Od("wijmo.grid.filter",l);var Bg=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Wg=function(e,t){return function(n,i){t(n,i,e)}},qg={selector:"wj-flex-grid-filter",template:"",inputs:["wjProperty","showFilterIcons","showSortButtons","defaultFilterType","filterColumns"],outputs:["initialized","editingFilterNg: editingFilter","filterChangingNg: filterChanging","filterChangedNg: filterChanged","filterAppliedNg: filterApplied"],providers:[]},Ug=function(e){function t(t,n,i){var r=e.call(this,i)||this;return r.isInitialized=!1,r._wjBehaviour=Hp.attach(r,t,n,i),r.created(),r}var n;return Bg(t,e),n=t,t.prototype.created=function(){},t.prototype.ngOnInit=function(){this._wjBehaviour.ngOnInit()},t.prototype.ngAfterViewInit=function(){this._wjBehaviour.ngAfterViewInit()},t.prototype.ngOnDestroy=function(){this._wjBehaviour.ngOnDestroy()},t.meta={outputs:qg.outputs},t.\u0275fac=function(e){return new(e||t)(go(os),go(no),go("WjComponent",12))},t.\u0275cmp=We({type:t,selectors:[["wj-flex-grid-filter"]],inputs:{wjProperty:"wjProperty",showFilterIcons:"showFilterIcons",showSortButtons:"showSortButtons",defaultFilterType:"defaultFilterType",filterColumns:"filterColumns"},outputs:{initialized:"initialized",editingFilterNg:"editingFilter",filterChangingNg:"filterChanging",filterChangedNg:"filterChanged",filterAppliedNg:"filterApplied"},features:[Xo([{provide:"WjComponent",useExisting:se(function(){return n})}].concat(qg.providers))],decls:0,vars:0,template:function(e,t){},encapsulation:2}),t=n=function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}([,Wg(0,ei(os)),Wg(1,ei(no)),Wg(2,ei("WjComponent")),Wg(2,ni()),Wg(2,ti())],t)}(jg),Gg=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ye({type:e}),e.\u0275inj=pe({imports:[[_a]]}),e}();let Yg=(()=>{class e{constructor(e){this.http=e}getUsers(){return this.http.get("../assets/users.json")}}return e.\u0275fac=function(t){return new(t||e)($n(ic))},e.\u0275prov=de({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Kg=["flexgrid"];let Jg=(()=>{class e{constructor(e){this.data=e,this.title="SBFrontEndTechnicalTest",this.filter="",this.collectionView=new Kd([]),this.usersFormatted=[]}getUsers(){this.data.getUsers().subscribe(e=>{this.usersFormatted=this.formatUsers(e),this.collectionView=new Kd(this.usersFormatted)})}ngOnInit(){this.getUsers(),hh("temp12@liamday.net,E367313254115792#B0MYwpjIyNHZisnOiwmbBJye0ICRiwiI34TUyZjcHhndZplNv9mZl9UbN34MoNzQkZ6VyREeWF5KpF5KEN5KvYVRkNUWPhFbK3mbroFUz5mZ4FEOGJEbzZTWxEjSD96MSNmdDplWMRkenlkUaR5UVtSVZ3kdPFWdqxGeiZlMEpUdY3Waq3yUHNVOSp4YRBTUsd4SntCRHtyRu5ESUlWeFdVR0RVbClTc6Bjb626L98GVCNGZSVTWqpnQFhDRsdzTpZ7LlFGOEJmU0dmUxJWVud7dxJzUBhVYPJGVrNlRoZXd0dEdYJzchx6Y5o4ZlFXa8ElRrQGNolzTiZTWrZVTah5bqRGbJF7QhNmRwdne9IXavMGNyU7MM3mMDFXToticXVnN5pHRuNmQrZmN7FnbwJGTXxkY9FXMThzN7sUVwEnYB54LIljRaZzaXNXVUFUWOdHRIJ5Uix4QyVjS8IXMwRzV4kDeIZGSOVDVCJDTzJkI0IyUiwiIyE4N8QTO7EjI0ICSiwSM9YTM4QDO6MTM0IicfJye#4Xfd5nIJBjMSJiOiMkIsIibvl6cuVGd8VEIgQXZlh6U8VGbGBybtpWaXJiOi8kI1xSfiUTSOFlI0IyQiwiIu3Waz9WZ4hXRgAicldXZpZFdy3GclJFIv5mapdlI0IiTisHL3JyS7gDSiojIDJCLi86bpNnblRHeFBCI73mUpRHb55EIv5mapdlI0IiTisHL3JCNGZDRiojIDJCLi86bpNnblRHeFBCIQFETPBCIv5mapdlI0IiTisHL3JyMDBjQiojIDJCLiUmcvNEIv5mapdlI0IiTisHL3JSV8cTQiojIDJCLi86bpNnblRHeFBCI4JXYoNEbhl6YuFmbpZEIv5mapdlI0IiTis7W0ICZyBlIsICM5QzM7ADI4IjNwEjMwIjI0ICdyNkIsICNycDMxIDMyIiOiAHeFJCLiQXZu9SehRWbhlGbAJTMw5WZ4JiOiEmTDJCLlVnc4pjIsZXRiwiIykzN5ETM4UjMzEzM7YzMiojIklkIs4XXbpjInxmZiwiIyYXMyAjMiojIyVmdiwZZsx")}initGrid(e){e.collectionView.filter=e=>e.name.toLowerCase().indexOf(this.filter.toLowerCase())>=0,e.collectionView.sortDescriptions.splice(0,0,new sh("name",!0))}formatUsers(e){var t=[];return e.forEach(e=>t.push({name:e.name,age:e.age,registered:new Date(e.registered.substr(0,19)),email:e.email,balance:Number(e.balance.replace(",",""))})),t}zeroBalance(){var e;this.usersFormatted.forEach(e=>e.balance=0),null===(e=this.flex)||void 0===e||e.invalidate(!1)}inputKeyup(){var e,t;null===(e=this.flex)||void 0===e||e.collectionView.refresh(),null===(t=this.flex)||void 0===t||t.invalidate(!1)}}return e.\u0275fac=function(t){return new(t||e)(go(Yg))},e.\u0275cmp=We({type:e,selectors:[["app-root"]],viewQuery:function(e,t){if(1&e&&function(e,t,n){const i=Pt();i.firstCreatePass&&(function(e,t,n){null===e.queries&&(e.queries=new cl),e.queries.track(new hl(t,-1))}(i,new ul(e,t,n)),2==(2&t)&&(i.staticViewQueries=!0)),function(e,t,n){const i=new sl(4==(4&n));_r(e,t,i,i.destroy),null===t[19]&&(t[19]=new al),t[19].queries.push(new ll(i))}(i,It(),t)}(Kg,5),2&e){let e;_l((n=It(),i=Lt(),e=n[19].queries[i].queryList))&&(t.flex=e.first)}var n,i},decls:19,vars:3,consts:[[1,"container-fluid"],[1,"row"],[1,"col-6"],["type","text","placeholder","Filter name...",1,"w-100",3,"ngModel","ngModelChange","keyup"],[1,"btn","btn-primary",3,"click"],[1,"col-12"],[3,"itemsSource","isReadOnly","initialized"],["flexgrid",""],["binding","name"],["binding","age"],["binding","registered","format","dd-mm-yyyy dd:mm:ss"],["binding","email"],["binding","balance","format","c\xa3"]],template:function(e,t){if(1&e){const e=It();vo(0,"div",0),vo(1,"div",1),vo(2,"div",2),vo(3,"label"),Ho(4,"Search"),yo(),vo(5,"input",3),Eo("ngModelChange",function(e){return t.filter=e})("keyup",function(){return t.inputKeyup()}),yo(),yo(),vo(6,"div",2),vo(7,"button",4),Eo("click",function(){return t.zeroBalance()}),Ho(8," Reset Balance "),yo(),yo(),yo(),vo(9,"div",1),vo(10,"div",5),vo(11,"wj-flex-grid",6,7),Eo("initialized",function(){St.lFrame.contextLView=e;const n=St.lFrame.contextLView[32];return t.initGrid(n)}),bo(13,"wj-flex-grid-filter"),bo(14,"wj-flex-grid-column",8),bo(15,"wj-flex-grid-column",9),bo(16,"wj-flex-grid-column",10),bo(17,"wj-flex-grid-column",11),bo(18,"wj-flex-grid-column",12),yo(),yo(),yo(),yo()}2&e&&(Xi(5),_o("ngModel",t.filter),Xi(6),_o("itemsSource",t.usersFormatted)("isReadOnly",!0))},directives:[eu,fu,Au,Ig,Ug,Dg],styles:[".row[_ngcontent-%COMP%]{padding:30px}"]}),e})(),Zg=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Ye({type:e,bootstrap:[Jg]}),e.\u0275inj=pe({providers:[],imports:[[Ya,_c,kg,Gg,Hu]]}),e})();(function(){if(Xl)throw new Error("Cannot enable prod mode after platform setup.");$l=!1})(),Ua().bootstrapModule(Zg).catch(e=>console.error(e))}},e=>{"use strict";e(e.s=478)}]);